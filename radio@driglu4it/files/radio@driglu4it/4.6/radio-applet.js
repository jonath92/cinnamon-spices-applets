var radioApplet;(()=>{"use strict";var t={903:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ISO_2022_CN=e.ISO_2022_KR=e.ISO_2022_JP=void 0;const r=o(n(327));class i{constructor(){this.escapeSequences=[]}name(){return"ISO_2022"}match(t){let e,n,o,i,a=0,c=0,s=0;const l=t.fInputBytes,u=t.fInputLen;t:for(e=0;e<u;e++){if(27==l[e]){e:for(o=0;o<this.escapeSequences.length;o++){const t=this.escapeSequences[o];if(!(u-e<t.length)){for(n=1;n<t.length;n++)if(t[n]!=l[e+n])continue e;a++,e+=t.length-1;continue t}}c++}14!=l[e]&&15!=l[e]||s++}return 0==a?null:(i=(100*a-100*c)/(a+c),a+s<5&&(i-=10*(5-(a+s))),i<=0?null:r.default(t,this,i))}}e.ISO_2022_JP=class extends i{constructor(){super(...arguments),this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]}name(){return"ISO-2022-JP"}},e.ISO_2022_KR=class extends i{constructor(){super(...arguments),this.escapeSequences=[[27,36,41,67]]}name(){return"ISO-2022-KR"}},e.ISO_2022_CN=class extends i{constructor(){super(...arguments),this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]}name(){return"ISO-2022-CN"}}},893:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.gb_18030=e.euc_kr=e.euc_jp=e.big5=e.sjis=void 0;const r=o(n(327));function i(t,e){const n=(t,e,o,r)=>{if(r<o)return-1;const i=Math.floor(o+r>>>1);return e>t[i]?n(t,e,i+1,r):e<t[i]?n(t,e,o,i-1):i};return n(t,e,0,t.length-1)}class a{constructor(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1}reset(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1}nextByte(t){return this.nextIndex>=t.fRawLength?(this.done=!0,-1):255&t.fRawInput[this.nextIndex++]}}class c{constructor(){this.commonChars=[]}name(){return"mbcs"}match(t){let e=0,n=0,o=0,c=0,s=0;const l=new a;t:{for(l.reset();this.nextChar(l,t);){if(c++,l.error)o++;else{const t=4294967295&l.charValue;!(t<=255)&&(e++,null!=this.commonChars&&i(this.commonChars,t)>=0&&n++)}if(o>=2&&5*o>=e)break t}if(e<=10&&0==o)s=0==e&&c<10?0:10;else if(e<20*o)s=0;else if(null==this.commonChars)s=30+e-20*o,s>100&&(s=100);else{const t=90/Math.log(e/4);s=Math.floor(Math.log(n+1)*t+10),s=Math.min(s,100)}}return 0==s?null:r.default(t,this,s)}nextChar(t,e){return!0}}function s(t,e){t.index=t.nextIndex,t.error=!1;let n=0,o=0,r=0;return n=t.charValue=t.nextByte(e),n<0?t.done=!0:n<=141||(o=t.nextByte(e),t.charValue=t.charValue<<8|o,n>=161&&n<=254?o<161&&(t.error=!0):142!=n?143==n&&(r=t.nextByte(e),t.charValue=t.charValue<<8|r,r<161&&(t.error=!0)):o<161&&(t.error=!0)),0==t.done}e.sjis=class extends c{constructor(){super(...arguments),this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314]}name(){return"Shift_JIS"}language(){return"ja"}nextChar(t,e){t.index=t.nextIndex,t.error=!1;const n=t.charValue=t.nextByte(e);if(n<0)return!1;if(n<=127||n>160&&n<=223)return!0;const o=t.nextByte(e);return!(o<0||(t.charValue=n<<8|o,o>=64&&o<=127||o>=128&&o<=255||(t.error=!0),0))}},e.big5=class extends c{constructor(){super(...arguments),this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271]}name(){return"Big5"}language(){return"zh"}nextChar(t,e){t.index=t.nextIndex,t.error=!1;const n=t.charValue=t.nextByte(e);if(n<0)return!1;if(n<=127||255==n)return!0;const o=t.nextByte(e);return!(o<0||(t.charValue=t.charValue<<8|o,(o<64||127==o||255==o)&&(t.error=!0),0))}},e.euc_jp=class extends c{constructor(){super(...arguments),this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=s}name(){return"EUC-JP"}language(){return"ja"}},e.euc_kr=class extends c{constructor(){super(...arguments),this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=s}name(){return"EUC-KR"}language(){return"ko"}},e.gb_18030=class extends c{constructor(){super(...arguments),this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]}name(){return"GB18030"}language(){return"zh"}nextChar(t,e){t.index=t.nextIndex,t.error=!1;let n=0,o=0,r=0,i=0;t:if(n=t.charValue=t.nextByte(e),n<0)t.done=!0;else if(!(n<=128)&&(o=t.nextByte(e),t.charValue=t.charValue<<8|o,n>=129&&n<=254)){if(o>=64&&o<=126||o>=80&&o<=254)break t;if(o>=48&&o<=57&&(r=t.nextByte(e),r>=129&&r<=254&&(i=t.nextByte(e),i>=48&&i<=57))){t.charValue=t.charValue<<16|r<<8|i;break t}t.error=!0}return 0==t.done}}},708:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KOI8_R=e.windows_1256=e.windows_1251=e.ISO_8859_9=e.ISO_8859_8=e.ISO_8859_7=e.ISO_8859_6=e.ISO_8859_5=e.ISO_8859_2=e.ISO_8859_1=void 0;const r=o(n(327));class i{constructor(t,e){this.byteIndex=0,this.ngram=0,this.ngramCount=0,this.hitCount=0,this.spaceChar=32,this.ngramList=t,this.byteMap=e}search(t,e){let n=0;return t[n+32]<=e&&(n+=32),t[n+16]<=e&&(n+=16),t[n+8]<=e&&(n+=8),t[n+4]<=e&&(n+=4),t[n+2]<=e&&(n+=2),t[n+1]<=e&&(n+=1),t[n]>e&&(n-=1),n<0||t[n]!=e?-1:n}lookup(t){this.ngramCount+=1,this.search(this.ngramList,t)>=0&&(this.hitCount+=1)}addByte(t){this.ngram=(this.ngram<<8)+(255&t)&16777215,this.lookup(this.ngram)}nextByte(t){return this.byteIndex>=t.fInputLen?-1:255&t.fInputBytes[this.byteIndex++]}parse(t,e){let n,o=!1;for(this.spaceChar=e;(n=this.nextByte(t))>=0;){const t=this.byteMap[n];0!=t&&(t==this.spaceChar&&o||this.addByte(t),o=t==this.spaceChar)}this.addByte(this.spaceChar);const r=this.hitCount/this.ngramCount;return r>.33?98:Math.floor(300*r)}}class a{constructor(t,e){this.fLang=t,this.fNGrams=e}}class c{constructor(){this.spaceChar=32}ngrams(){return[]}byteMap(){return[]}name(t){return"sbcs"}match(t){const e=this.ngrams();if(n=e,Array.isArray(n)&&isFinite(n[0])){const n=new i(e,this.byteMap()).parse(t,this.spaceChar);return n<=0?null:r.default(t,this,n)}var n;let o,a=-1;for(let n=e.length-1;n>=0;n--){const r=e[n],c=new i(r.fNGrams,this.byteMap()).parse(t,this.spaceChar);c>a&&(a=c,o=r.fLang)}const c=this.name(t);return a<=0?null:r.default(t,this,a,c,o)}}e.ISO_8859_1=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]}ngrams(){return[new a("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new a("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new a("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new a("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new a("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new a("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new a("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new a("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new a("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new a("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]}name(t){return t&&t.fC1Bytes?"windows-1252":"ISO-8859-1"}},e.ISO_8859_2=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]}ngrams(){return[new a("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new a("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new a("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new a("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]}name(t){return t&&t.fC1Bytes?"windows-1250":"ISO-8859-2"}},e.ISO_8859_5=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]}ngrams(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]}name(){return"ISO-8859-5"}language(){return"ru"}},e.ISO_8859_6=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]}ngrams(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]}name(){return"ISO-8859-6"}language(){return"ar"}},e.ISO_8859_7=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]}ngrams(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]}name(t){return t&&t.fC1Bytes?"windows-1253":"ISO-8859-7"}language(){return"el"}},e.ISO_8859_8=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]}ngrams(){return[new a("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new a("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]}name(t){return t&&t.fC1Bytes?"windows-1255":"ISO-8859-8"}language(){return"he"}},e.ISO_8859_9=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]}ngrams(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]}name(t){return t&&t.fC1Bytes?"windows-1254":"ISO-8859-9"}language(){return"tr"}},e.windows_1251=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]}ngrams(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]}name(){return"windows-1251"}language(){return"ru"}},e.windows_1256=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]}ngrams(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]}name(){return"windows-1256"}language(){return"ar"}},e.KOI8_R=class extends c{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]}ngrams(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]}name(){return"KOI8-R"}language(){return"ru"}}},423:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UTF_32LE=e.UTF_32BE=e.UTF_16LE=e.UTF_16BE=void 0;const r=o(n(327));e.UTF_16BE=class{name(){return"UTF-16BE"}match(t){const e=t.fRawInput;return e.length>=2&&254==(255&e[0])&&255==(255&e[1])?r.default(t,this,100):null}},e.UTF_16LE=class{name(){return"UTF-16LE"}match(t){const e=t.fRawInput;return e.length>=2&&255==(255&e[0])&&254==(255&e[1])?e.length>=4&&0==e[2]&&0==e[3]?null:r.default(t,this,100):null}};class i{name(){return"UTF-32"}getChar(t,e){return-1}match(t){let e=0,n=0,o=!1,i=0;const a=t.fRawLength/4*4,c=t.fRawInput;if(0==a)return null;65279==this.getChar(c,0)&&(o=!0);for(let t=0;t<a;t+=4){const o=this.getChar(c,t);o<0||o>=1114111||o>=55296&&o<=57343?n+=1:e+=1}return o&&0==n?i=100:o&&e>10*n?i=80:e>3&&0==n?i=100:e>0&&0==n?i=80:e>10*n&&(i=25),0==i?null:r.default(t,this,i)}}e.UTF_32BE=class extends i{name(){return"UTF-32BE"}getChar(t,e){return(255&t[e+0])<<24|(255&t[e+1])<<16|(255&t[e+2])<<8|255&t[e+3]}},e.UTF_32LE=class extends i{name(){return"UTF-32LE"}getChar(t,e){return(255&t[e+3])<<24|(255&t[e+2])<<16|(255&t[e+1])<<8|255&t[e+0]}}},101:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=o(n(327));e.default=class{name(){return"UTF-8"}match(t){let e,n=!1,o=0,i=0,a=0;const c=t.fRawInput;t.fRawLength>=3&&239==(255&c[0])&&187==(255&c[1])&&191==(255&c[2])&&(n=!0);for(let e=0;e<t.fRawLength;e++){const n=c[e];if(0!=(128&n)){if(192==(224&n))a=1;else if(224==(240&n))a=2;else if(240==(248&n))a=3;else{if(i++,i>5)break;a=0}for(;e++,!(e>=t.fRawLength);){if(128!=(192&c[e])){i++;break}if(0==--a){o++;break}}}}if(e=0,n&&0==i)e=100;else if(n&&o>10*i)e=80;else if(o>3&&0==i)e=100;else if(o>0&&0==i)e=80;else if(0==o&&0==i)e=10;else{if(!(o>10*i))return null;e=25}return r.default(t,this,e)}}},671:(t,e,n)=>{let o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=()=>{if("object"==typeof t.exports)return o=o||n(147),o;throw new Error("File system is not available")}},729:function(t,e,n){var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.detectFileSync=e.detectFile=e.analyse=e.detect=void 0;const c=a(n(671)),s=a(n(101)),l=i(n(423)),u=i(n(893)),d=i(n(708)),p=i(n(903)),f=[new s.default,new l.UTF_16BE,new l.UTF_16LE,new l.UTF_32BE,new l.UTF_32LE,new u.sjis,new u.big5,new u.euc_jp,new u.euc_kr,new u.gb_18030,new p.ISO_2022_JP,new p.ISO_2022_KR,new p.ISO_2022_CN,new d.ISO_8859_1,new d.ISO_8859_2,new d.ISO_8859_5,new d.ISO_8859_6,new d.ISO_8859_7,new d.ISO_8859_8,new d.ISO_8859_9,new d.windows_1251,new d.windows_1256,new d.KOI8_R];e.detect=t=>{const n=e.analyse(t);return n.length>0?n[0].name:null},e.analyse=t=>{const e=[];for(let t=0;t<256;t++)e[t]=0;for(let n=t.length-1;n>=0;n--)e[255&t[n]]++;let n=!1;for(let t=128;t<=159;t+=1)if(0!==e[t]){n=!0;break}const o={fByteStats:e,fC1Bytes:n,fRawInput:t,fRawLength:t.length,fInputBytes:t,fInputLen:t.length};return f.map((t=>t.match(o))).filter((t=>!!t)).sort(((t,e)=>e.confidence-t.confidence))},e.detectFile=(t,n={})=>new Promise(((o,r)=>{let i;const a=c.default(),s=(t,n)=>{i&&a.closeSync(i),t?r(t):o(e.detect(n))};if(n&&n.sampleSize){i=a.openSync(t,"r");const e=Buffer.allocUnsafe(n.sampleSize);a.read(i,e,0,n.sampleSize,null,(t=>{s(t,e)}))}else a.readFile(t,s)})),e.detectFileSync=(t,n={})=>{const o=c.default();if(n&&n.sampleSize){const r=o.openSync(t,"r"),i=Buffer.allocUnsafe(n.sampleSize);return o.readSync(r,i,0,n.sampleSize),o.closeSync(r),e.detect(i)}return e.detect(o.readFileSync(t))},e.default={analyse:e.analyse,detect:e.detect,detectFileSync:e.detectFileSync,detectFile:e.detectFile}},327:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,n,o,r)=>({confidence:n,name:o||e.name(t),lang:r})},447:(t,e)=>{var n=imports.gi.St,o=n.BoxLayout,r=n.Bin,i=n.Side,a=imports.ui.main,c=a.uiGroup,s=a.layoutManager,l=a.panelManager,u=a.pushModal,d=a.popModal,p=imports.gi.Clutter.KEY_Escape,f=imports.gi.Cinnamon.util_get_transformed_allocation,h=imports.ui.popupMenu.PanelLoc;e.S=function(t){var e=t.launcher,n=new o({style_class:"popup-menu-content",vertical:!0,visible:!1}),a=new r({style_class:"menu",child:n,visible:!1});function g(){var t=function(){var t,n,o,r,i=s.findMonitorForActor(e),a=l.getPanelsInMonitor(i.index),c=new Map(a.map((function(t){var e=0,n=0;return t.getIsVisible()&&(e=t.actor.width,n=t.actor.height),[t.panelPosition,{width:e,height:n}]})));return{left:i.x+((null===(t=c.get(h.left))||void 0===t?void 0:t.width)||0),bottom:i.y+i.height-((null===(n=c.get(h.bottom))||void 0===n?void 0:n.height)||0),top:i.y+((null===(o=c.get(h.top))||void 0===o?void 0:o.height)||0),right:i.x+i.width-((null===(r=c.get(h.right))||void 0===r?void 0:r.width)||0)}}(),o=function(t){var e=(t.bottom-t.top)/global.ui_scale,o=n.get_theme_node(),r=a.get_theme_node(),c=o.get_padding(i.TOP);return e-o.get_padding(i.BOTTOM)-c-r.get_border_width(i.TOP)-r.get_border_width(i.BOTTOM)-r.get_padding(i.TOP)-r.get_padding(i.BOTTOM)}(t);n.style="max-height: "+o+"px;";var r=function(t,o){var r=f(e),i=n.get_preferred_size(),a=(i[0],i[1],i[2]),c=i[3],s=(a-r.get_width())/2,l=Math.max(o.left,r.x1-s),u=r.x2+s,d=o.right-r.get_width()-2*s,p=u<o.right?l:d,h=Math.max(r.y1,o.top),g=h+c,_=o.bottom-n.height;return[p,g<o.bottom?h:_]}(0,t),c=r[0],u=r[1];a.set_position(Math.floor(c),Math.floor(u))}function _(){n.visible&&(a.hide(),n.hide(),e.remove_style_pseudo_class("checked"),d(n))}function m(t,o){if(n.visible){var r=o.get_source(),i=n.contains(r),a=e.contains(r);!i&&!a&&_()}}return c.add_child(a),n.connect("key-press-event",(function(t,e){e.get_key_symbol()===p&&_()})),e.connect("queue-relayout",(function(){n.visible&&setTimeout((function(){g()}),0)})),a.connect("queue-relayout",(function(){n.visible&&setTimeout((function(){g()}),0)})),n.toggle=function(){n.visible?_():(g(),a.show(),n.show(),e.add_style_pseudo_class("checked"),u(n),global.stage.connect("button-press-event",m),global.stage.connect("button-release-event",m))},n.close=_,n}},147:t=>{t.exports=require("fs")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{main:()=>Io});const{AppletSettings:t}=imports.ui.settings;class e{constructor(t){this.channelList=t}set channelList(t){this._channelList=t.flatMap((t=>t.inc?Object.assign(Object.assign({},t),{url:t.url.trim()}):[]))}get activatedChannelUrls(){return this._channelList.map((t=>t.url))}get activatedChannelNames(){return this._channelList.map((t=>t.name))}getChannelName(t){const e=this._channelList.find((e=>e.url===t));return e?e.name:null}getChannelUrl(t){const e=this._channelList.find((e=>e.name===t));return e?e.url:null}checkListChanged(t){return JSON.stringify(t)!==JSON.stringify(this._channelList)}checkUrlValid(t){return this._channelList.some((e=>e.url===t))}}const{KEY_space:r,KEY_KP_Enter:i,KEY_Return:a}=imports.gi.Clutter;function c(t){const{widget:e,onActivated:n}=t;e.can_focus=!0,e.reactive=!0,e.track_hover=!0,e.connect("button-release-event",(()=>null==n?void 0:n())),e.connect("notify::hover",(()=>{e.change_style_pseudo_class("active",e.hover),e.hover&&e.grab_key_focus()})),e.connect("key-press-event",((t,o)=>{const c=o.get_key_symbol();[r,i,a].includes(c)&&e.hover&&(null==n||n())}))}const{BoxLayout:s,Label:l,Icon:u,ScrollView:d}=imports.gi.St,{ActorAlign:p,Point:f}=imports.gi.Clutter,{PolicyType:h}=imports.gi.Gtk;const{get_home_dir:g}=imports.gi.GLib,_=`${g()}/.cinnamon/configs/${__meta.uuid}/.mpris.so`,m="org.mpris.MediaPlayer2.Player",y="org.mpris.MediaPlayer2.mpv",v="popup-menu-item",b="radioapplet",w="media-playback-start",S="media-playback-pause",x="view-refresh-symbolic",{Icon:C,IconType:O,Label:P,BoxLayout:I}=imports.gi.St;function j(t){const{text:e,maxCharNumber:n,iconName:o,onActivated:r}=t;let i,a;const s=new I({style_class:"popup-menu-item"});function l(t){if(i&&!t)return s.remove_child(i),void(i=null);t&&(i||(i=new C({icon_type:O.SYMBOLIC,style_class:"popup-menu-icon"})),i.icon_name=t,s.get_child_at_index(0)!==i&&s.insert_child_at_index(i,0))}function u(t){const e=t||" ";a||(a=new P,s.add_child(a)),a.set_text(function(t,e){if(t)return t.length<=e?t:[...t].slice(0,e-3).join("")+"..."}(e,n))}return l(o),u(e),r&&c({widget:s,onActivated:r}),{actor:s,setIconName:l,setText:u}}function k(t){const{stationNames:e,onChannelClicked:n}=t,o=function(t){const{text:e}=t,n=new s({vertical:!0}),o=new l({text:e}),r=new u({style_class:"popup-menu-arrow",icon_name:"pan-end",rotation_angle_z:90,x_expand:!0,x_align:p.END,pivot_point:new f({x:.5,y:.5}),important:!0}),i=new s({style_class:"popup-menu-item popup-submenu-menu-item"});c({widget:i,onActivated:function(){a.visible?(a.hide(),r.rotation_angle_z=0):(a.show(),r.rotation_angle_z=90)}}),[o,r].forEach((t=>i.add_child(t))),n.add_child(i);const a=new d({style_class:"popup-sub-menu",vscrollbar_policy:h.AUTOMATIC,hscrollbar_policy:h.NEVER}),g=new s({vertical:!0});return a.add_actor(g),[i,a].forEach((t=>n.add_child(t))),{actor:n,box:g}}({text:"My Stations"});let r,i="Stopped";const a=new Map;function g(t){a.clear(),o.box.remove_all_children(),t.forEach((t=>{const e=function(t){const{channelName:e,onActivated:n,playbackStatus:o}=t,r=new Map([["Playing",w],["Paused",S],["Loading",x],["Stopped",null]]),i=j({maxCharNumber:40,text:e,onActivated:()=>n(e)});function a(t){const e=r.get(t);i.setIconName(e)}return o&&a(o),{setPlaybackStatus:a,actor:i.actor}}({channelName:t,onActivated:n,playbackStatus:t===r?i:"Stopped"});a.set(t,e),o.box.add_child(e.actor)}))}return g(e),{actor:o.actor,setPlaybackStatus:function(t){if(i=t,!r)return;const e=a.get(r);null==e||e.setPlaybackStatus(i),"Stopped"===i&&(r=null)},setStationNames:g,setCurrentChannel:function(t){const e=a.get(r);if(null==e||e.setPlaybackStatus("Stopped"),t){const e=a.get(t);if(!e)throw new Error(`No channelItem exist for ${t}`);e.setPlaybackStatus(i)}r=t}}}var M=n(729);const{getDBusProperties:T,getDBus:L,getDBusProxyWithOwner:B}=imports.misc.interfaces,{spawnCommandLine:A}=imports.misc.util,{MixerControl:V}=imports.gi.Cvc,{Message:E,SessionAsync:U,MessageFlags:z}=imports.gi.Soup,F=imports.byteArray;const{DrawingArea:N}=imports.gi.St,{cairo_set_source_color:D,grab_pointer:R,ungrab_pointer:$}=imports.gi.Clutter;function G(t){const{initialValue:e,onValueChanged:n}=t;let o;e&&(o=a(e));const r=new N({style_class:"popup-slider-menu-item",reactive:!0,x_expand:!0});function i(t){const[e,n]=t.get_coords(),[o,i]=r.get_transformed_position(),s=e-o,l=r.width,u=r.get_theme_node().get_length("-slider-handle-radius");c(a((s-u)/(l-2*u)))}function a(t){return Math.max(Math.min(t,1),0)}function c(t,e=!1){const i=a(t);i!==o&&(o=i,e||null==n||n(o),r.queue_repaint())}return r.connect("repaint",(()=>{const t=r.get_context(),e=r.get_theme_node(),[n,i]=r.get_surface_size(),a=e.get_length("-slider-handle-radius"),c=e.get_length("-slider-height"),s=e.get_length("-slider-border-width"),l=Math.min(n,c)/2,u=e.get_color("-slider-border-color"),d=e.get_color("-slider-background-color"),p=e.get_color("-slider-active-border-color"),f=e.get_color("-slider-active-background-color"),h=2*Math.PI,g=a+(n-2*a)*o;t.arc(l+s,i/2,l,1*h/4,3*h/4),t.lineTo(g,(i-c)/2),t.lineTo(g,(i+c)/2),t.lineTo(l+s,(i+c)/2),D(t,f),t.fillPreserve(),D(t,p),t.setLineWidth(s),t.stroke(),t.arc(n-l-s,i/2,l,3*h/4,1*h/4),t.lineTo(g,(i+c)/2),t.lineTo(g,(i-c)/2),t.lineTo(n-l-s,(i-c)/2),D(t,d),t.fillPreserve(),D(t,u),t.setLineWidth(s),t.stroke();const _=i/2,m=e.get_foreground_color();D(t,m),t.arc(g,_,a,0,2*Math.PI),t.fill(),t.$dispose()})),r.connect("button-press-event",((t,e)=>{R(r);const n=r.connect("motion-event",((t,e)=>{i(e)})),o=r.connect("button-release-event",(()=>{r.disconnect(o),r.disconnect(n),$()}));i(e)})),{actor:r,setValue:c,getValue:function(){return o}}}const{BoxLayout:K,Icon:Y,IconType:q}=imports.gi.St,{Tooltip:W}=imports.ui.tooltips,{KEY_Right:J,KEY_Left:H,ScrollDirection:Z}=imports.gi.Clutter;function Q(t){const{onVolumeChanged:e}=t;let n;const o=new K({style_class:v});let r;c({widget:o});const i=G({onValueChanged:function(t){l(100*t,!0)}}),a=new Y({icon_type:q.SYMBOLIC,style_class:"popup-menu-icon",reactive:!0});function s(t){const e="increase"===t?5:-5,n=i.getValue()+e/100;i.setValue(n)}function l(t,o){const c=Math.round(t);c!==r&&(r=c,i.setValue(r/100),a.set_icon_name(function(t){const{volume:e}=t,n=[{max:0,name:"audio-volume-muted"},{max:33,name:"audio-volume-low"},{max:66,name:"audio-volume-medium"},{max:100,name:"audio-volume-high"}];if(e<0||e>100)throw new RangeError("volume should be between 0 and 100");const o=n.findIndex((t=>{var{max:n}=t;return function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}}(t,["max"]),e<=n}));return n[o].name}({volume:r})),function(t){n||(n=new W(i.actor," ")),n.set_text(`Volume: ${t.toString()} %`)}(r),o&&n.show(),null==e||e(r))}return[a,i.actor].forEach((t=>{o.add_child(t)})),o.connect("key-press-event",((t,e)=>{const n=e.get_key_symbol();n!==J&&n!==H||s(n===J?"increase":"decrease")})),o.connect("scroll-event",((t,e)=>{s(e.get_scroll_direction()===Z.UP?"increase":"decrease")})),a.connect("button-press-event",(()=>{i.setValue(0)})),{actor:o,setVolume:function(t){l(t,!1)}}}var X=n(447);const{BoxLayout:tt,DrawingArea:et}=imports.gi.St,{LinearGradient:nt}=imports.gi.cairo,{BoxLayout:ot}=imports.gi.St,{ActorAlign:rt}=imports.gi.Clutter,{Button:it,Icon:at,IconType:ct}=imports.gi.St,{Tooltip:st}=imports.ui.tooltips;function lt(t){const{iconName:e,tooltipTxt:n,onClick:o}=t,r=new at({icon_type:ct.SYMBOLIC,icon_name:e,style_class:"popup-menu-icon"}),i=new it({reactive:!0,can_focus:!0,style_class:"popup-menu-item",style:"width:20px; padding:10px!important",child:r});return c({widget:i,onActivated:o}),{actor:i,icon:r,tooltip:new st(i,n)}}const{BoxLayout:ut}=imports.gi.St,{spawnCommandLineAsyncIO:dt}=imports.misc.util,{get_home_dir:pt}=imports.gi.GLib,{spawnCommandLineAsyncIO:ft}=imports.misc.util,ht=function(t){return new Promise(((e,n)=>{ft(t,((t,n,o)=>{e(t?[null,t,0]:[n,null,o])}))}))},{SystemNotificationSource:gt,Notification:_t}=imports.ui.messageTray,{messageTray:mt}=imports.ui.main,{Icon:yt,IconType:vt}=imports.gi.St,bt=new gt("Radio Applet");function wt(t){const{notificationText:e,isMarkup:n=!1,transient:o=!0}=t,r=new yt({icon_type:vt.SYMBOLIC,icon_name:b,icon_size:25}),i=new _t(bt,__meta.name,e,{icon:r,bodyMarkup:n});return i.setTransient(o),i.notify=()=>{bt.notify(i)},i}function St(t){const{text:e}=t;wt({notificationText:e}).notify()}mt.add(bt);const{find_program_in_path:xt,file_test:Ct,FileTest:Ot}=imports.gi.GLib;function Pt(){return xt("mpv")}function It(){return Ct(_,Ot.IS_REGULAR)}const{Clipboard:jt,ClipboardType:kt}=imports.gi.St,{Applet:Mt,AllowedLayout:Tt}=imports.ui.applet,{Bin:Lt}=imports.gi.St,{EventType:Bt}=imports.gi.Clutter,{Icon:At,IconType:Vt}=imports.gi.St,{IconType:Et}=imports.gi.St,{Label:Ut}=imports.gi.St,{EllipsizeMode:zt}=imports.gi.Pango,{ActorAlign:Ft}=imports.gi.Clutter,{PanelItemTooltip:Nt}=imports.ui.tooltips,{spawnCommandLine:Dt}=imports.misc.util,{spawnCommandLine:Rt}=imports.misc.util,{get_home_dir:$t}=imports.gi.GLib;function Gt(){const t=wt({notificationText:"Couldn't download Song from Youtube due to an Error. Make Sure you have the newest version of youtube-dl installed. \n        \n<b>Important:</b> Don't use apt for the installation but follow the installation instruction given on the Radio Applet Site in the Cinnamon Store instead\n        \nFor more information see the logs",isMarkup:!0,transient:!1}),e="viewStoreBtn",n="viewLogBtn";t.addButton(e,"View Installation Instruction"),t.addButton(n,"View Logs"),t.connect("action-invoked",((t,o)=>{o===e&&Rt("xdg-open https://cinnamon-spices.linuxmint.com/applets/view/297 "),o===n&&Rt(`xdg-open ${$t()}/.xsession-errors`)})),t.notify()}const{BoxLayout:Kt,Label:Yt}=imports.gi.St;function qt(){return new Yt({style:"font-family: mono"})}const Wt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Jt="object"==typeof global&&global&&global.Object===Object&&global;var Ht="object"==typeof self&&self&&self.Object===Object&&self;const Zt=Jt||Ht||Function("return this")(),Qt=Zt.Symbol;var Xt=Object.prototype,te=Xt.hasOwnProperty,ee=Xt.toString,ne=Qt?Qt.toStringTag:void 0;var oe=Object.prototype.toString;var re=Qt?Qt.toStringTag:void 0;const ie=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":re&&re in Object(t)?function(t){var e=te.call(t,ne),n=t[ne];try{t[ne]=void 0;var o=!0}catch(t){}var r=ee.call(t);return o&&(e?t[ne]=n:delete t[ne]),r}(t):function(t){return oe.call(t)}(t)},ae=function(t){if(!Wt(t))return!1;var e=ie(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},ce=Zt["__core-js_shared__"];var se,le=(se=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"";var ue=Function.prototype.toString;const de=function(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var pe=/^\[object .+?Constructor\]$/,fe=Function.prototype,he=Object.prototype,ge=fe.toString,_e=he.hasOwnProperty,me=RegExp("^"+ge.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ye=function(t){return!(!Wt(t)||(e=t,le&&le in e))&&(ae(t)?me:pe).test(de(t));var e},ve=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ye(n)?n:void 0},be=function(){try{var t=ve(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),we=function(t,e,n){for(var o=-1,r=Object(t),i=n(t),a=i.length;a--;){var c=i[++o];if(!1===e(r[c],c,r))break}return t},Se=function(t){return null!=t&&"object"==typeof t},xe=function(t){return Se(t)&&"[object Arguments]"==ie(t)};var Ce=Object.prototype,Oe=Ce.hasOwnProperty,Pe=Ce.propertyIsEnumerable;const Ie=xe(function(){return arguments}())?xe:function(t){return Se(t)&&Oe.call(t,"callee")&&!Pe.call(t,"callee")},je=Array.isArray;var ke="object"==typeof exports&&exports&&!exports.nodeType&&exports,Me=ke&&"object"==typeof module&&module&&!module.nodeType&&module,Te=Me&&Me.exports===ke?Zt.Buffer:void 0;const Le=(Te?Te.isBuffer:void 0)||function(){return!1};var Be=/^(?:0|[1-9]\d*)$/;const Ae=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Be.test(t))&&t>-1&&t%1==0&&t<e},Ve=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Ee={};Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Arguments]"]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object Boolean]"]=Ee["[object DataView]"]=Ee["[object Date]"]=Ee["[object Error]"]=Ee["[object Function]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee["[object Object]"]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object WeakMap]"]=!1;var Ue="object"==typeof exports&&exports&&!exports.nodeType&&exports,ze=Ue&&"object"==typeof module&&module&&!module.nodeType&&module,Fe=ze&&ze.exports===Ue&&Jt.process,Ne=function(){try{return ze&&ze.require&&ze.require("util").types||Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}(),De=Ne&&Ne.isTypedArray;const Re=De?($e=De,function(t){return $e(t)}):function(t){return Se(t)&&Ve(t.length)&&!!Ee[ie(t)]};var $e,Ge=Object.prototype.hasOwnProperty;const Ke=function(t,e){var n=je(t),o=!n&&Ie(t),r=!n&&!o&&Le(t),i=!n&&!o&&!r&&Re(t),a=n||o||r||i,c=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],s=c.length;for(var l in t)!e&&!Ge.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ae(l,s))||c.push(l);return c};var Ye=Object.prototype;const qe=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object);var We=Object.prototype.hasOwnProperty;const Je=function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||Ye))return qe(t);var e,n,o=[];for(var r in Object(t))We.call(t,r)&&"constructor"!=r&&o.push(r);return o},He=function(t){return null!=(e=t)&&Ve(e.length)&&!ae(e)?Ke(t):Je(t);var e},Ze=function(t,e){return t===e||t!=t&&e!=e},Qe=function(t,e){for(var n=t.length;n--;)if(Ze(t[n][0],e))return n;return-1};var Xe=Array.prototype.splice;function tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}tn.prototype.clear=function(){this.__data__=[],this.size=0},tn.prototype.delete=function(t){var e=this.__data__,n=Qe(e,t);return!(n<0||(n==e.length-1?e.pop():Xe.call(e,n,1),--this.size,0))},tn.prototype.get=function(t){var e=this.__data__,n=Qe(e,t);return n<0?void 0:e[n][1]},tn.prototype.has=function(t){return Qe(this.__data__,t)>-1},tn.prototype.set=function(t,e){var n=this.__data__,o=Qe(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};const en=tn,nn=ve(Zt,"Map"),on=ve(Object,"create");var rn=Object.prototype.hasOwnProperty;var an=Object.prototype.hasOwnProperty;function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}cn.prototype.clear=function(){this.__data__=on?on(null):{},this.size=0},cn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},cn.prototype.get=function(t){var e=this.__data__;if(on){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return rn.call(e,t)?e[t]:void 0},cn.prototype.has=function(t){var e=this.__data__;return on?void 0!==e[t]:an.call(e,t)},cn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=on&&void 0===e?"__lodash_hash_undefined__":e,this};const sn=cn,ln=function(t,e){var n,o,r=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map};function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}un.prototype.clear=function(){this.size=0,this.__data__={hash:new sn,map:new(nn||en),string:new sn}},un.prototype.delete=function(t){var e=ln(this,t).delete(t);return this.size-=e?1:0,e},un.prototype.get=function(t){return ln(this,t).get(t)},un.prototype.has=function(t){return ln(this,t).has(t)},un.prototype.set=function(t,e){var n=ln(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};const dn=un;function pn(t){var e=this.__data__=new en(t);this.size=e.size}pn.prototype.clear=function(){this.__data__=new en,this.size=0},pn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},pn.prototype.get=function(t){return this.__data__.get(t)},pn.prototype.has=function(t){return this.__data__.has(t)},pn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof en){var o=n.__data__;if(!nn||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new dn(o)}return n.set(t,e),this.size=n.size,this};const fn=pn;function hn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new dn;++e<n;)this.add(t[e])}hn.prototype.add=hn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},hn.prototype.has=function(t){return this.__data__.has(t)};const gn=hn,_n=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1},mn=function(t,e,n,o,r,i){var a=1&n,c=t.length,s=e.length;if(c!=s&&!(a&&s>c))return!1;var l=i.get(t),u=i.get(e);if(l&&u)return l==e&&u==t;var d=-1,p=!0,f=2&n?new gn:void 0;for(i.set(t,e),i.set(e,t);++d<c;){var h=t[d],g=e[d];if(o)var _=a?o(g,h,d,e,t,i):o(h,g,d,t,e,i);if(void 0!==_){if(_)continue;p=!1;break}if(f){if(!_n(e,(function(t,e){if(a=e,!f.has(a)&&(h===t||r(h,t,n,o,i)))return f.push(e);var a}))){p=!1;break}}else if(h!==g&&!r(h,g,n,o,i)){p=!1;break}}return i.delete(t),i.delete(e),p},yn=Zt.Uint8Array,vn=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n},bn=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var wn=Qt?Qt.prototype:void 0,Sn=wn?wn.valueOf:void 0;var xn=Object.prototype.propertyIsEnumerable,Cn=Object.getOwnPropertySymbols;const On=Cn?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[r++]=a)}return i}(Cn(t),(function(e){return xn.call(t,e)})))}:function(){return[]},Pn=function(t){return function(t,e,n){var o=e(t);return je(t)?o:function(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}(o,n(t))}(t,He,On)};var In=Object.prototype.hasOwnProperty;const jn=ve(Zt,"DataView"),kn=ve(Zt,"Promise"),Mn=ve(Zt,"Set"),Tn=ve(Zt,"WeakMap");var Ln="[object Map]",Bn="[object Promise]",An="[object Set]",Vn="[object WeakMap]",En="[object DataView]",Un=de(jn),zn=de(nn),Fn=de(kn),Nn=de(Mn),Dn=de(Tn),Rn=ie;(jn&&Rn(new jn(new ArrayBuffer(1)))!=En||nn&&Rn(new nn)!=Ln||kn&&Rn(kn.resolve())!=Bn||Mn&&Rn(new Mn)!=An||Tn&&Rn(new Tn)!=Vn)&&(Rn=function(t){var e=ie(t),n="[object Object]"==e?t.constructor:void 0,o=n?de(n):"";if(o)switch(o){case Un:return En;case zn:return Ln;case Fn:return Bn;case Nn:return An;case Dn:return Vn}return e});const $n=Rn;var Gn="[object Arguments]",Kn="[object Array]",Yn="[object Object]",qn=Object.prototype.hasOwnProperty;const Wn=function(t,e,n,o,r,i){var a=je(t),c=je(e),s=a?Kn:$n(t),l=c?Kn:$n(e),u=(s=s==Gn?Yn:s)==Yn,d=(l=l==Gn?Yn:l)==Yn,p=s==l;if(p&&Le(t)){if(!Le(e))return!1;a=!0,u=!1}if(p&&!u)return i||(i=new fn),a||Re(t)?mn(t,e,n,o,r,i):function(t,e,n,o,r,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new yn(t),new yn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ze(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=vn;case"[object Set]":var s=1&o;if(c||(c=bn),t.size!=e.size&&!s)return!1;var l=a.get(t);if(l)return l==e;o|=2,a.set(t,e);var u=mn(c(t),c(e),o,r,i,a);return a.delete(t),u;case"[object Symbol]":if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,s,n,o,r,i);if(!(1&n)){var f=u&&qn.call(t,"__wrapped__"),h=d&&qn.call(e,"__wrapped__");if(f||h){var g=f?t.value():t,_=h?e.value():e;return i||(i=new fn),r(g,_,n,o,i)}}return!!p&&(i||(i=new fn),function(t,e,n,o,r,i){var a=1&n,c=Pn(t),s=c.length;if(s!=Pn(e).length&&!a)return!1;for(var l=s;l--;){var u=c[l];if(!(a?u in e:In.call(e,u)))return!1}var d=i.get(t),p=i.get(e);if(d&&p)return d==e&&p==t;var f=!0;i.set(t,e),i.set(e,t);for(var h=a;++l<s;){var g=t[u=c[l]],_=e[u];if(o)var m=a?o(_,g,u,e,t,i):o(g,_,u,t,e,i);if(!(void 0===m?g===_||r(g,_,n,o,i):m)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(f=!1)}return i.delete(t),i.delete(e),f}(t,e,n,o,r,i))},Jn=function t(e,n,o,r,i){return e===n||(null==e||null==n||!Se(e)&&!Se(n)?e!=e&&n!=n:Wn(e,n,o,r,t,i))},Hn=function(t){return t==t&&!Wt(t)},Zn=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Qn=function(t){var e=function(t){for(var e=He(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,Hn(r)]}return e}(t);return 1==e.length&&e[0][2]?Zn(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,o){var r=n.length,i=r,a=!o;if(null==t)return!i;for(t=Object(t);r--;){var c=n[r];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++r<i;){var s=(c=n[r])[0],l=t[s],u=c[1];if(a&&c[2]){if(void 0===l&&!(s in t))return!1}else{var d=new fn;if(o)var p=o(l,u,s,t,e,d);if(!(void 0===p?Jn(u,l,3,o,d):p))return!1}}return!0}(n,t,e)}},Xn=function(t){return"symbol"==typeof t||Se(t)&&"[object Symbol]"==ie(t)};var to=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eo=/^\w*$/;const no=function(t,e){if(je(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Xn(t))||eo.test(t)||!to.test(t)||null!=e&&t in Object(e)};function oo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=t.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(oo.Cache||dn),n}oo.Cache=dn;var ro=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,io=/\\(\\)?/g;const ao=(co=oo((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ro,(function(t,n,o,r){e.push(o?r.replace(io,"$1"):n||t)})),e}),(function(t){return 500===so.size&&so.clear(),t})),so=co.cache,co);var co,so;var lo=Qt?Qt.prototype:void 0,uo=lo?lo.toString:void 0;const po=function t(e){if("string"==typeof e)return e;if(je(e))return function(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}(e,t)+"";if(Xn(e))return uo?uo.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},fo=function(t,e){return je(t)?t:no(t,e)?[t]:ao(function(t){return null==t?"":po(t)}(t))},ho=function(t){if("string"==typeof t||Xn(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},go=function(t,e){for(var n=0,o=(e=fo(e,t)).length;null!=t&&n<o;)t=t[ho(e[n++])];return n&&n==o?t:void 0},_o=function(t,e){return null!=t&&e in Object(t)},mo=function(t,e){return null!=t&&function(t,e,n){for(var o=-1,r=(e=fo(e,t)).length,i=!1;++o<r;){var a=ho(e[o]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++o!=r?i:!!(r=null==t?0:t.length)&&Ve(r)&&Ae(a,r)&&(je(t)||Ie(t))}(t,e,_o)},yo=function(t,e){return no(t)&&Hn(e)?Zn(ho(t),e):function(n){var o=function(t,e,n){var o=null==t?void 0:go(t,e);return void 0===o?n:o}(n,t);return void 0===o&&o===e?mo(n,t):Jn(e,o,3)}},vo=function(t){return t},bo=function(t){return no(t)?(e=ho(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return go(e,t)}}(t);var e},wo=function(t,e){var n,o={};return e="function"==typeof(n=e)?n:null==n?vo:"object"==typeof n?je(n)?yo(n[0],n[1]):Qn(n):bo(n),function(t,e){t&&we(t,e,He)}(t,(function(t,n,r){!function(t,e,n){"__proto__"==e&&be?be(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}(o,n,e(t,n,r))})),o},{Variant:So}=imports.gi.GLib,{ScrollDirection:xo}=imports.gi.Clutter,{getAppletDefinition:Co}=imports.ui.appletManager,{panelManager:Oo}=imports.ui.main,{BoxLayout:Po}=imports.gi.St;function Io(n){const{orientation:o,panelHeight:r,instanceId:i}=n;let a,s;String.prototype.hasOwnProperty("replaceAll")||(String.prototype.replaceAll=function(t,e){return this.split(t).join(e)}),Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function(){var t=void 0===arguments[0]?1:Number(arguments[0])||0,e=[],n=e.forEach,o=function(t,r){n.call(t,(function(t){r>0&&Array.isArray(t)?o(t,r-1):e.push(t)}))};return o(this,t),e}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){return Array.prototype.map.apply(this,arguments).flat(1)}}),So.prototype.deepUnpack=So.prototype.deep_unpack,So.prototype.recursiveUnpack||(So.prototype.recursiveUnpack=function(){const t=this.deep_unpack();return Wt(t)?wo(t,(function(t){if(t instanceof So){const e=t.deep_unpack();return e instanceof So?e.recursiveUnpack():e}return t})):t});let l=!1;const u=Co({applet_id:i}),d=Oo.panels.find((t=>(null==t?void 0:t.panelId)===u.panelId));d.connect("icon-size-changed",(()=>p.updateIconSize()));const p=function(t){const{panel:e,locationLabel:n}=t;let o;const r=new Map([["Stopped"," "],["Loading"," "]]),i=new At({});let a;function c(t,o){i.style_class=t===Et.SYMBOLIC?"system-status-icon":"applet-icon",i.icon_name=o,i.icon_type=t,i.icon_size=e.getPanelZoneIconSize(n,t)}function s(t){if(!t)return;let e,n;a=t,"SYMBOLIC"===t?(n=b,e=Et.SYMBOLIC):(n=`radioapplet-${t.toLowerCase()}`,e=Et.FULLCOLOR),c(e,n)}function l(t){o=t;const e=r.get(o);"Loading"===t?c(Et.SYMBOLIC,x):s(a),e&&i.set_style(e)}return{actor:i,setPlaybackStatus:l,setColorWhenPlaying:function(t){r.set("Playing",`color: ${t}`),o&&l(o)},setColorWhenPaused:function(t){r.set("Paused",`color: ${t}`),o&&l(o)},setIconType:s,updateIconSize:function(){const t=e.getPanelZoneIconSize(n,i.icon_type);i.icon_size=t}}}({locationLabel:u.location_label,panel:d}),f=function(){const t=new Ut({reactive:!0,track_hover:!0,style_class:"applet-label",y_align:Ft.CENTER,y_expand:!1,visible:!1});let e,n;function o(o){n=o,e&&(t.show(),o?t.text=` ${o}`:t.hide())}return t.clutter_text.ellipsize=zt.NONE,{actor:t,setVisibility:function(r){e=r,n&&(t.visible=r),e&&n&&o(n)},setText:o}}(),h=function(t){const{orientation:e,panelHeight:n,instanceId:o,icon:r,label:i,onClick:a,onScroll:c,onMiddleClick:s,onAppletMoved:l,onAppletRemoved:u,onRightClick:d}=t,p=new Mt(e,n,o);let f=!1;return[r,i].forEach((t=>{p.actor.add_child(t)})),p.on_applet_clicked=a,p.on_applet_middle_clicked=s,p.setAllowedLayout(Tt.BOTH),p.on_applet_reloaded=function(){f=!0},p.on_applet_removed_from_panel=function(){f?l():u(),f=!1},p.actor.connect("event",((t,e)=>{e.type()===Bt.BUTTON_PRESS&&3===e.get_button()&&d()})),p.actor.connect("scroll-event",((t,e)=>{c(e.get_scroll_direction())})),p}({icon:p.actor,label:f.actor,instanceId:i,orientation:o,panelHeight:r,onClick:async function(){if(!l)try{l=!0,await async function(){const t=It(),e=Pt();!t&&await new Promise((async(t,e)=>{if(It())return t();let[n,o,r]=await ht(`python3  ${__meta.path}/download-dialog-mpris.py`);return"Continue"!==o.trim()?e():([n,o,r]=await ht(`\n            wget https://github.com/hoyon/mpv-mpris/releases/download/0.5/mpris.so -O ${_}`),0===r?t():e(n))})),e||(St({text:`Please ${t?"":"also"} install the mpv package.`}),await new Promise((async(t,e)=>{if(Pt())return t();if(!xt("apturl"))return e();const[n,o,r]=await ht("\n            apturl apt://mpv");return 0===r?t():e(n)})))}(),z.toggle()}catch(t){St({text:"Couldn't start the applet. Make sure mpv is installed and the mpv mpris plugin saved in the configs folder."}),global.logError(t)}finally{l=!1}},onScroll:function(t){const e=t===xo.UP?5:-5;s.increaseDecreaseVolume(e)},onMiddleClick:()=>null==s?void 0:s.togglePlayPause(),onAppletMoved:()=>null==s?void 0:s.deactivateAllListener(),onAppletRemoved:function(){null==s||s.deactivateAllListener(),null==s||s.stop()},onRightClick:()=>null==z?void 0:z.close()}),g=function(t){const{orientation:e,applet:n}=t,o=new Nt(n,null,e);function r(){o.set_text("Radio++")}return r(),{setVolume:function(t){o.set_text(`Volume: ${t.toString()} %`)},setDefaultTooltip:r}}({applet:h,orientation:o}),C=(e=>{const{uuid:n,instanceId:o,onIconChanged:r,onIconColorPlayingChanged:i,onIconColorPausedChanged:a,onChannelOnPanelChanged:c,onMyStationsChanged:s}=e,l={get initialVolume(){return function(){const{keepVolume:t,lastVolume:e,customInitVolume:n}=l;return t?e:n}()}},u=new t(l,n,o);return u.bind("icon-type","iconType",(t=>r(t))),u.bind("color-on","symbolicIconColorWhenPlaying",(t=>i(t))),u.bind("color-paused","symbolicIconColorWhenPaused",(t=>a(t))),u.bind("channel-on-panel","channelNameOnPanel",(t=>c(t))),u.bind("keep-volume-between-sessions","keepVolume"),u.bind("initial-volume","customInitVolume"),u.bind("last-volume","lastVolume"),u.bind("tree","userStations",s),u.bind("last-url","lastUrl"),u.bind("music-download-dir-select","musicDownloadDir",(()=>{null===l.musicDownloadDir&&(l.musicDownloadDir="~/Music/Radio")})),r(l.iconType),i(l.symbolicIconColorWhenPlaying),a(l.symbolicIconColorWhenPaused),c(l.channelNameOnPanel),l})({uuid:__meta.uuid,instanceId:i,onIconChanged:function(t){p.setIconType(t)},onIconColorPlayingChanged:t=>{p.setColorWhenPlaying(t)},onIconColorPausedChanged:t=>{p.setColorWhenPaused(t)},onChannelOnPanelChanged:t=>{f.setVisibility(t)},onMyStationsChanged:function(t){O.checkListChanged(t)&&(O.channelList=t,P.setStationNames(O.activatedChannelNames),O.checkUrlValid(C.lastUrl)||s.stop())}}),O=new e(C.userStations),P=k({stationNames:O.activatedChannelNames,onChannelClicked:function(t){const e=O.getChannelUrl(t);s.setUrl(e)}}),I=Q({onVolumeChanged:t=>null==s?void 0:s.setVolume(t)}),z=(0,X.S)({launcher:h.actor}),N=function(){const t=o(b),e=o("audio-x-generic"),n=new ut({vertical:!0});function o(t){return j({iconName:t,maxCharNumber:40})}return[t,e].forEach((t=>{n.add_child(t.actor)})),{actor:n,setSongTitle:function(t){e.setText(t)},setChannel:function(e){t.setText(e)}}}(),D=function(t){const{onClick:e}=t,n=lt({iconName:w,tooltipTxt:"Play",onClick:e});return{actor:n.actor,setPlaybackStatus:function(t){let e,o;"Playing"===t&&(e="Pause",o=S),"Paused"===t&&(e="Play",o=w),n.tooltip.set_text(e),n.icon.icon_name=o}}}({onClick:()=>s.togglePlayPause()}),R=function(t){const{onClick:e}=t;return{actor:lt({iconName:"media-playback-stop",tooltipTxt:"Stop",onClick:e}).actor}}({onClick:()=>s.stop()}),$=function(t){const{onClick:e}=t;return{actor:lt({iconName:"south-arrow-weather-symbolic",tooltipTxt:"Download current song from Youtube",onClick:e}).actor}}({onClick:function(){const t=s.getCurrentTitle(),e=function(t){const{title:e,downloadDir:n,onDownloadFinished:o,onDownloadFailed:r}=t;let i=!1;const a=`youtube-dl --output "${n.replace("~",pt()).replace("file://","")}/%(title)s.%(ext)s" --extract-audio --audio-format mp3 ytsearch1:"${e.replaceAll('"','\\"')}" --add-metadata --embed-thumbnail`,c=dt(a,((t,e)=>{try{if(i)return void(i=!1);if(e)throw new Error(e);if(t){const e=function(t){const e=t.match(/[^\r\n]+/g),n="[ffmpeg] Destination: ";return e.find((t=>t.includes(n))).split(n)[1]}(t);if(!e)throw new Error("File not saved");o(e)}}catch(t){global.logError(`The following error occured at youtube download attempt: ${t}. The used download Command was: ${a}`),r()}}));return{cancel:function(){i=!0,c.force_exit()}}}({downloadDir:C.musicDownloadDir,title:t,onDownloadFinished:t=>function(t){const{downloadPath:e}=t,n=wt({notificationText:`Download finished. File saved to ${e}`}),o="openBtn";n.addButton(o,"Play"),n.connect("action-invoked",((t,n)=>{n===o&&Dt(`xdg-open '${e}'`)})),n.notify()}({downloadPath:t}),onDownloadFailed:Gt});!function(t){const{title:e,onCancelClicked:n}=t,o=wt({notificationText:`Downloading ${e} ...`}),r="cancelBtn";o.addButton(r,"Cancel"),o.connect("action-invoked",((t,e)=>{e===r&&n()})),o.notify()}({title:t,onCancelClicked:()=>e.cancel()})}}),K=function(t){const{onClick:e}=t,n=lt({iconName:"edit-copy",tooltipTxt:"Copy current song title to Clipboard",onClick:function(){n.tooltip.show(),e()}});return{actor:n.actor}}({onClick:()=>{return t=s.getCurrentTitle(),void jt.get_default().set_text(kt.CLIPBOARD,t);var t}}),Y=(t=>{const{controlBtns:e}=t,n=new ot({style_class:"radio-applet-media-control-toolbar",x_align:rt.CENTER});return e.forEach((t=>n.add_child(t))),n})({controlBtns:[D.actor,$.actor,K.actor,R.actor]}),q=function(t){const{onPositionChanged:e}=t,n=new Kt({style_class:v});c({widget:n});let o,r=100;const i=qt(),a=qt(),s=G({initialValue:.5,onValueChanged:function(t){e(t*r)}});function l(){const t=0===r?0:Math.min(o/r,1);s.setValue(t,!0)}function u(t){const e=Math.floor(t/60);return[e,t-60*e].map((t=>t.toString().padStart(2,"0"))).join(":")}return[i,s.actor,a].forEach((t=>{n.add_child(t)})),{actor:n,setLength:function(t){r=t,a.set_text(u(t)),l()},setPosition:function(t){o=t,i.set_text(u(o)),l()}}}({onPositionChanged:t=>null==s?void 0:s.setPosition(t)}),W=new Po({vertical:!0,visible:!1});return[N.actor,Y,I.actor,q.actor].forEach((t=>{W.add_child(function(){const t=new tt({style_class:"popup-menu-item"}),e=new et({style_class:"popup-separator-menu-item",x_expand:!0});return t.add_child(e),e.connect("repaint",(()=>{const t=e.get_context(),n=e.get_theme_node(),[o,r]=e.get_surface_size(),i=n.get_length("-margin-horizontal"),a=n.get_length("-gradient-height"),c=n.get_color("-gradient-start"),s=n.get_color("-gradient-end"),l=o-2*i,u=(r-a)/2,d=new nt(i,u,o-i,u+a);d.addColorStopRGBA(0,c.red/255,c.green/255,c.blue/255,c.alpha/255),d.addColorStopRGBA(.5,s.red/255,s.green/255,s.blue/255,s.alpha/255),d.addColorStopRGBA(1,c.red/255,c.green/255,c.blue/255,c.alpha/255),t.setSource(d),t.rectangle(i,u,l,a),t.fill(),t.$dispose})),t}()),W.add_child(t)})),z.add_child(P.actor),z.add_child(W),s=function(t){const{onPlaybackstatusChanged:e,onUrlChanged:n,onVolumeChanged:o,onTitleChanged:r,onLengthChanged:i,onPositionChanged:a,checkUrlValid:c,lastUrl:s,getInitialVolume:l}=t,u=L(),d=B(m,y),p=T(y,"/org/mpris/MediaPlayer2"),f=new V({name:__meta.name});let h;f.open(),f.connect("stream-added",((t,e)=>{const n=f.lookup_stream_id(e);"mpv Media Player"===(null==n?void 0:n.name)&&(h=n,h.connect("notify::volume",(()=>{K(Math.round(h.volume/f.get_vol_max_norm()*100))})))}));const g=s?q():"Stopped";let v="Stopped"!==g?s:null,b=J((null===(S=null===(w=d.Metadata)||void 0===w?void 0:w["mpris:length"])||void 0===S?void 0:S.unpack())||0);var w,S;let x,C,O,P,I=!1;"Stopped"!==g&&(k(),z(),n(v),e(g),o(W()),r(Y()),i(b),a(G()),R());const j=u.connectSignal("NameOwnerChanged",((...t)=>{const n=t[2][0],o=t[2][1],r=t[2][2];n===y&&(r&&(k(),z(),u.ListNamesSync()[0].forEach((t=>{t.includes("org.mpris.MediaPlayer2")&&t!==y&&B(m,t).PauseSync()}))),o&&(b=0,$(),p.disconnectSignal(C),d.disconnectSignal(O),C=O=v=null,e("Stopped")))}));function k(){C=p.connectSignal("PropertiesChanged",((t,i,[s,l])=>{var u,p,g;const _=null===(u=l.Metadata)||void 0===u?void 0:u.recursiveUnpack(),m=null===(p=l.Volume)||void 0===p?void 0:p.unpack(),y=null===(g=l.PlaybackStatus)||void 0===g?void 0:g.unpack(),w=null==_?void 0:_["xesam:url"],S=null==_?void 0:_["xesam:title"],C=null==_?void 0:_["mpris:length"],O=c(w);var I;(O||v)&&(null!=C&&N(C),null!=m&&function(t){if(100*t>100)return void(d.Volume=1);const e=Math.round(100*t);(function(t){const e=t/100*f.get_vol_max_norm();h&&h.volume!==e&&(h.is_muted&&h.change_is_muted(!1),h.volume=e,h.push_volume())})(e),o(e)}(m),y&&function(t){0!==b&&(e(t),"Paused"===t?$():D(G()))}(y),w&&O&&w!==v&&(v=I=w,N(0),x&&$(),a(0),n(I)),S&&async function(t){if(P!==t){global.log("lastTitle",P),global.log("newTitle",t),global.log("handleTitleChanged called"),r(t),P=t;try{global.log("before decoding");const t=await async function(t){const e=new U;return global.log("getDecodedTitle called"),new Promise(((n,o)=>{const r=E.new("GET",t);let i;r.request_headers.append("Icy-MetaData","1"),r.connect("got-headers",(t=>{i=+r.response_headers.get_one("icy-metaint")}));let a=[];const c=r.connect("got-chunk",((t,e)=>{if(global.log("chunk changed"),!i)return o("metaInt undefined"),void r.disconnect(c);const s=e.get_as_bytes().get_data();if(a=[...a,...s],a.length<=i)return;const l=16*a[i],u=i+1+l;if(!(a.length<u))try{const t=new Uint8Array(a.slice(i+1,u)),e=M.detect(t),o=F.toString(t,e);global.log("decodedMeta",o),n(o.slice(0,-2).split("StreamTitle='")[1])}catch(t){o(t)}finally{r.disconnect(c)}}));e.queue_message(r,(()=>{global.log("inside quere-message")}))}))}(v);global.log("titleDecoded",t),r(t)}catch(t){global.logError(t)}}}(S))}))}function z(){O=d.connectSignal("Seeked",((t,e,n)=>{D(J(n))}))}function N(t){const n=J(t);i(n);const o=0!==t&&0===b;b=n,0===t&&e("Loading"),(o||I)&&(D(o?0:G()),e(q()),I=!1)}function D(t){$(),a(t),R()}function R(){"Playing"===q()&&(x=setInterval((()=>{const t=Math.min(G(),b);a(t),t===b&&(e("Loading"),I=!0,$())}),1e3))}function $(){x&&(clearInterval(x),x=null)}function G(){return"Stopped"===q()?0:J(p.GetSync("org.mpris.MediaPlayer2.Player","Position")[0].deepUnpack())}function K(t){W()!==t&&"Stopped"!==q()&&(d.Volume=t/100)}function Y(){if("Stopped"!==q())return d.Metadata["xesam:title"].unpack()}function q(){return u.ListNamesSync()[0].includes(y)?d.PlaybackStatus:"Stopped"}function W(){return"Stopped"===q()?null:Math.round(100*d.Volume)}function J(t){const e=t/1e6;return Math.round(e)}return{increaseDecreaseVolume:function(t){K(Math.min(100,Math.max(0,W()+t)))},setVolume:K,setUrl:function(t){if("Stopped"!==q())d.OpenUriRemote(t),d.PlaySync();else{let e=l();null==e&&(global.logWarning("initial Volume was null or undefined. Applying 50 as a fallback solution to prevent radio stop working"),e=50),A(`mpv --script=${_} ${t} \n                --volume=${e}`)}},togglePlayPause:function(){"Stopped"!==q()&&d.PlayPauseSync()},stop:function(){"Stopped"!==q()&&d.StopSync()},getCurrentTitle:Y,setPosition:function(t){const e=Math.min(1e6*t,1e6*b),n=d.Metadata["mpris:trackid"].unpack();null==d||d.SetPositionRemote(n,e)},deactivateAllListener:function(){u.disconnectSignal(j),C&&(null==p||p.disconnectSignal(C)),O&&(null==d||d.disconnectSignal(O))},dbus:u}}({getInitialVolume:()=>C.initialVolume,onVolumeChanged:function(t){I.setVolume(t),g.setVolume(t),a=t},onLengthChanged:function(t){q.setLength(t)},onPositionChanged:function(t){null==q||q.setPosition(t)},checkUrlValid:t=>O.checkUrlValid(t),onTitleChanged:function(t){N.setSongTitle(t)},onPlaybackstatusChanged:function(t){"Stopped"===t&&(W.hide(),C.lastVolume=a,C.lastUrl=null,f.setText(null),g.setDefaultTooltip(),z.close()),"Stopped"===t||W.visible||W.show(),P.setPlaybackStatus(t),p.setPlaybackStatus(t),("Playing"===t||"Paused"===t)&&D.setPlaybackStatus(t)},lastUrl:C.lastUrl,onUrlChanged:function(t){const e=t?O.getChannelName(t):null;f.setText(e),P.setCurrentChannel(e),N.setChannel(e),C.lastUrl=t}}),h}})(),radioApplet=o})();