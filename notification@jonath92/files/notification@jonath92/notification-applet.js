var notificationApplet;(()=>{"use strict";var __webpack_modules__={852:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"main\": () => (/* binding */ main)\n});\n\n;// CONCATENATED MODULE: ./src/Applet.ts\nconst { TextIconApplet, AllowedLayout, AppletPopupMenu } = imports.ui.applet;\nconst { PopupMenuManager, PopupMenuItem, PopupSeparatorMenuItem } = imports.ui.popupMenu;\nconst { BoxLayout, Label, Side, ScrollView, Align, Icon, IconType } = imports.gi.St;\nconst { messageTray } = imports.ui.main;\nconst { Urgency, NotificationDestroyedReason } = imports.ui.messageTray;\nconst Mainloop = imports.mainloop;\nconst Lang = imports.lang;\nconst { spawnCommandLine } = imports.misc.util;\nconst { Settings } = imports.gi.Gio;\nconst { PolicyType } = imports.gi.Gtk;\nconst { Clone } = imports.gi.Clutter;\nconst PANEL_EDIT_MODE_KEY = \"panel-edit-mode\";\nclass NoticiationApplet extends TextIconApplet {\n    constructor(orientation, panel_height, instance_id) {\n        super(orientation, panel_height, instance_id);\n        this.setAllowedLayout(AllowedLayout.BOTH);\n        this._orientation = orientation;\n        this.menuManager = new PopupMenuManager(this);\n        this.notifications = [];\n        messageTray.connect('notify-applet-update', (actor, notification) => this._notification_added(actor, notification));\n        global.settings.connect('changed::' + PANEL_EDIT_MODE_KEY, Lang.bind(this, this._on_panel_edit_mode_changed));\n        this._blinking = false;\n        this._blink_toggle = false;\n    }\n    _openMenu() {\n        this._update_timestamp();\n        this.menu.toggle();\n    }\n    _display() {\n        this.set_applet_icon_symbolic_name('empty-notif');\n        this.set_applet_tooltip('Notifications');\n        // Setup the notification container.\n        this._maincontainer = new BoxLayout({\n            name: 'traycontainer',\n            vertical: true\n        });\n        global.log('_display called');\n        this._notificationbin = new BoxLayout({ vertical: true });\n        this.button_label_box = new BoxLayout();\n        // Setup the tray icon.\n        this.menu_label = new PopupMenuItem(stringify(this.notifications.length));\n        this.menu_label.actor.reactive = false;\n        this.menu_label.actor.can_focus = false;\n        this.menu_label.label.add_style_class_name('popup-subtitle-menu-item');\n        this.clear_separator = new PopupSeparatorMenuItem();\n        this.clear_action = new PopupMenuItem(\"Clear notifications\");\n        this.clear_action.connect('activate', Lang.bind(this, this._clear_all));\n        this.clear_action.actor.hide();\n        if (this._orientation == Side.BOTTOM) {\n            this.menu.addMenuItem(this.menu_label);\n            this.menu.addActor(this._maincontainer);\n            this.menu.addMenuItem(this.clear_separator);\n            this.menu.addMenuItem(this.clear_action);\n        }\n        else {\n            this.menu.addMenuItem(this.clear_action);\n            this.menu.addMenuItem(this.clear_separator);\n            this.menu.addMenuItem(this.menu_label);\n            this.menu.addActor(this._maincontainer);\n        }\n        this.scrollview = new ScrollView({\n            x_fill: true,\n            y_fill: true,\n            y_align: Align.START,\n            style_class: \"vfade\",\n        });\n        this._maincontainer.add(this.scrollview);\n        this.scrollview.add_actor(this._notificationbin);\n        this.scrollview.set_policy(PolicyType.NEVER, PolicyType.AUTOMATIC);\n        let vscroll = this.scrollview.get_vscroll_bar();\n        vscroll.connect('scroll-start', () => {\n            this.menu.passEvents = true;\n        });\n        vscroll.connect('scroll-stop', () => {\n            this.menu.passEvents = false;\n        });\n        this._crit_icon = new Icon({\n            icon_name: 'critical-notif',\n            icon_type: IconType.SYMBOLIC,\n            reactive: true,\n            track_hover: true,\n            style_class: 'system-status-icon'\n        });\n        this._alt_crit_icon = new Icon({\n            icon_name: 'alt-critical-notif',\n            icon_type: IconType.SYMBOLIC,\n            reactive: true,\n            track_hover: true,\n            style_class: 'system-status-icon'\n        });\n        this._on_panel_edit_mode_changed();\n        this.menu.addSettingsAction(\"Notification Settings\", 'notifications');\n    }\n    _notification_added(actor, notification) {\n        global.log('notificaton added');\n        const dummyLabel = new Label({ text: 'dummy' });\n        // @ts-ignore\n        const clone = new Clone({\n            source: notification.actor\n        });\n        notification.actor.unparent();\n        let existing_index = this.notifications.indexOf(notification);\n        if (existing_index != -1) { // This notification is already listed.\n            if (notification[\"_destroyed\"]) {\n                this.notifications.splice(existing_index, 1);\n            }\n            else {\n                notification[\"_inNotificationBin\"] = true;\n                global.reparentActor(notification.actor, this._notificationbin);\n                notification[\"_timeLabel\"].show();\n            }\n            this.update_list();\n            return;\n        }\n        else if (notification[\"_destroyed\"]) {\n            return;\n        }\n        // Add notification to list.\n        notification[\"_inNotificationBin\"] = true;\n        this.notifications.push(notification);\n        // Steal the notication panel.\n        // @ts-ignore\n        this._notificationbin.add(clone);\n        this._notificationbin.add(dummyLabel);\n        // @ts-ignore\n        notification.actor._parent_container = this._notificationbin;\n        notification.actor.add_style_class_name('notification-applet-padding');\n        // Register for destruction.\n        // @ts-ignore\n        notification.connect('scrolling-changed', (notif, scrolling) => { this.menu.passEvents = scrolling; });\n        notification.connect('destroy', () => {\n            let i = this.notifications.indexOf(notification);\n            if (i != -1)\n                this.notifications.splice(i, 1);\n            this.update_list();\n        });\n        notification[\"_timeLabel\"].show();\n        this.update_list();\n    }\n    update_list() {\n        try {\n            let count = this.notifications.length;\n            if (count > 0) { // There are notifications.\n                this.actor.show();\n                this.clear_action.actor.show();\n                this.set_applet_label(count.toString());\n                // Find max urgency and derive list icon.\n                let max_urgency = -1;\n                for (let i = 0; i < count; i++) {\n                    let cur_urgency = this.notifications[i].urgency;\n                    if (cur_urgency > max_urgency)\n                        max_urgency = cur_urgency;\n                }\n                switch (max_urgency) {\n                    case Urgency.LOW:\n                        this._blinking = false;\n                        this.set_applet_icon_symbolic_name(\"low-notif\");\n                        break;\n                    case Urgency.NORMAL:\n                    case Urgency.HIGH:\n                        this._blinking = false;\n                        this.set_applet_icon_symbolic_name(\"normal-notif\");\n                        break;\n                    case Urgency.CRITICAL:\n                        if (!this._blinking) {\n                            this._blinking = true;\n                            this.critical_blink();\n                        }\n                        break;\n                }\n            }\n            else { // There are no notifications.\n                this._blinking = false;\n                this.set_applet_label('');\n                this.set_applet_icon_symbolic_name(\"empty-notif\");\n                this.clear_action.actor.hide();\n                // @ts-ignore\n                if (!this.showEmptyTray) {\n                    this.actor.hide();\n                }\n            }\n            this.menu_label.label.set_text(stringify(count));\n            this._notificationbin.queue_relayout();\n        }\n        catch (e) {\n            global.logError(e);\n        }\n    }\n    _clear_all() {\n        const count = this.notifications.length;\n        if (count > 0) {\n            for (let i = count - 1; i >= 0; i--) {\n                this._notificationbin.remove_actor(this.notifications[i].actor);\n                this.notifications[i].destroy(NotificationDestroyedReason.DISMISSED);\n            }\n        }\n        this.notifications = [];\n        this.update_list();\n    }\n    _on_panel_edit_mode_changed() {\n        if (global.settings.get_boolean(PANEL_EDIT_MODE_KEY)) {\n            this.actor.show();\n        }\n        else {\n            this.update_list();\n        }\n    }\n    on_applet_added_to_panel() {\n        this.on_orientation_changed(this._orientation);\n    }\n    on_orientation_changed(orientation) {\n        this._orientation = orientation;\n        if (this.menu) {\n            this.menu.destroy();\n        }\n        this.menu = new AppletPopupMenu(this, orientation);\n        this.menuManager.addMenu(this.menu);\n        this._display();\n    }\n    on_applet_clicked(event) {\n        global.log('applet_clicked');\n        this._openMenu();\n    }\n    on_btn_open_system_settings_clicked() {\n        spawnCommandLine(\"cinnamon-settings notifications\");\n    }\n    _update_timestamp() {\n        let len = this.notifications.length;\n        if (len > 0) {\n            for (let i = 0; i < len; i++) {\n                let notification = this.notifications[i];\n                let orig_time = notification[\"_timestamp\"];\n                notification[\"_timeLabel\"].clutter_text.set_markup(timeify(orig_time));\n            }\n        }\n    }\n    critical_blink() {\n        if (!this._blinking)\n            return;\n        if (this._blink_toggle) {\n            this._applet_icon_box.child = this._crit_icon;\n        }\n        else {\n            this._applet_icon_box.child = this._alt_crit_icon;\n        }\n        this._blink_toggle = !this._blink_toggle;\n        Mainloop.timeout_add_seconds(1, Lang.bind(this, this.critical_blink));\n    }\n}\nfunction stringify(count) {\n    if (count === 0) {\n        return \"No notifications\";\n    }\n    else {\n        return `notifications ${count}`;\n    }\n}\nfunction timeify(orig_time) {\n    let settings = new Settings({ schema_id: 'org.cinnamon.desktop.interface' });\n    let use_24h = settings.get_boolean('clock-use-24h');\n    let now = new Date();\n    let diff = Math.floor((now.getTime() - orig_time.getTime()) / 1000); // get diff in seconds\n    let str;\n    if (use_24h) {\n        // @ts-ignore (toLocaleFormat exist on Date but is depreacted: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_toLocaleFormat )\n        str = orig_time.toLocaleFormat('%T');\n    }\n    else {\n        //@ts-ignore\n        str = orig_time.toLocaleFormat('%r');\n    }\n    return str;\n}\n\n;// CONCATENATED MODULE: ./src/index.ts\n\nconst { BoxLayout: src_BoxLayout, Label: src_Label, Table, Button, Bin, Icon: src_Icon, IconType: src_IconType, Align: src_Align } = imports.gi.St;\nconst { NOTIFICATION } = imports.gi.Atk.Role;\nconst { WrapMode } = imports.gi.Pango;\nfunction main(args) {\n    const { orientation, panelHeight: panel_height, instanceId: instance_id } = args;\n    const reminderApplet = new NoticiationApplet(orientation, panel_height, instance_id);\n    return reminderApplet;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVyxFQUFFLFlBQVksRUFDekIsVUFBVSxFQUFFLFdBQVcsRUFDMUIsR0FBRyxJQUFJO0lBRVIsTUFBTSxjQUFjLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQztJQUVwRixPQUFPLGNBQWM7QUFFekIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGlmaWNhdGlvbkFwcGxldC8uL3NyYy9BcHBsZXQudHM/MzQ3NiIsIndlYnBhY2s6Ly9ub3RpZmljYXRpb25BcHBsZXQvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IFRleHRJY29uQXBwbGV0LCBBbGxvd2VkTGF5b3V0LCBBcHBsZXRQb3B1cE1lbnUgfSA9IGltcG9ydHMudWkuYXBwbGV0XG5jb25zdCB7IFBvcHVwTWVudU1hbmFnZXIsIFBvcHVwTWVudUl0ZW0sIFBvcHVwU2VwYXJhdG9yTWVudUl0ZW0gfSA9IGltcG9ydHMudWkucG9wdXBNZW51XG5jb25zdCB7IEJveExheW91dCwgTGFiZWwsIFNpZGUsIFNjcm9sbFZpZXcsIEFsaWduLCBJY29uLCBJY29uVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuXG5jb25zdCB7IG1lc3NhZ2VUcmF5IH0gPSBpbXBvcnRzLnVpLm1haW5cbmNvbnN0IHsgVXJnZW5jeSwgTm90aWZpY2F0aW9uRGVzdHJveWVkUmVhc29uIH0gPSBpbXBvcnRzLnVpLm1lc3NhZ2VUcmF5XG5jb25zdCBNYWlubG9vcCA9IGltcG9ydHMubWFpbmxvb3A7XG5jb25zdCBMYW5nID0gaW1wb3J0cy5sYW5nO1xuXG5jb25zdCB7IHNwYXduQ29tbWFuZExpbmUgfSA9IGltcG9ydHMubWlzYy51dGlsXG5cbmNvbnN0IHsgU2V0dGluZ3MgfSA9IGltcG9ydHMuZ2kuR2lvXG5cbmNvbnN0IHsgUG9saWN5VHlwZSB9ID0gaW1wb3J0cy5naS5HdGtcblxuY29uc3QgeyBDbG9uZSB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmNvbnN0IFBBTkVMX0VESVRfTU9ERV9LRVkgPSBcInBhbmVsLWVkaXQtbW9kZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBOb3RpY2lhdGlvbkFwcGxldCBleHRlbmRzIFRleHRJY29uQXBwbGV0IHtcblxuICAgIHB1YmxpYyBzZXR0aW5nczogaW1wb3J0cy51aS5zZXR0aW5ncy5BcHBsZXRTZXR0aW5nc1xuICAgIHByaXZhdGUgX29yaWVudGF0aW9uOiBpbXBvcnRzLmdpLlN0LlNpZGVcbiAgICBwdWJsaWMgbWVudU1hbmFnZXI6IGltcG9ydHMudWkucG9wdXBNZW51LlBvcHVwTWVudU1hbmFnZXJcbiAgICBwdWJsaWMgbm90aWZpY2F0aW9uczogaW1wb3J0cy51aS5tZXNzYWdlVHJheS5Ob3RpZmljYXRpb25bXVxuICAgIHByaXZhdGUgX25vdGlmaWNhdGlvbmJpbjogaW1wb3J0cy5naS5TdC5Cb3hMYXlvdXRcbiAgICBwdWJsaWMgY2xlYXJfYWN0aW9uOiBpbXBvcnRzLnVpLnBvcHVwTWVudS5Qb3B1cE1lbnVJdGVtXG4gICAgcHJpdmF0ZSBfYmxpbmtpbmc6IGJvb2xlYW5cbiAgICBwcml2YXRlIF9ibGlua190b2dnbGU6IGJvb2xlYW5cbiAgICBwcml2YXRlIF9jcml0X2ljb246IGltcG9ydHMuZ2kuU3QuSWNvblxuICAgIHByaXZhdGUgX2FsdF9jcml0X2ljb246IGltcG9ydHMuZ2kuU3QuSWNvblxuICAgIHB1YmxpYyBtZW51X2xhYmVsOiBpbXBvcnRzLnVpLnBvcHVwTWVudS5Qb3B1cE1lbnVJdGVtXG4gICAgcHJpdmF0ZSBfbWFpbmNvbnRhaW5lcjogaW1wb3J0cy5naS5TdC5Cb3hMYXlvdXRcbiAgICBwdWJsaWMgYnV0dG9uX2xhYmVsX2JveDogaW1wb3J0cy5naS5TdC5Cb3hMYXlvdXRcbiAgICBwdWJsaWMgY2xlYXJfc2VwYXJhdG9yOiBpbXBvcnRzLnVpLnBvcHVwTWVudS5Qb3B1cFNlcGFyYXRvck1lbnVJdGVtXG4gICAgcHVibGljIG1lbnU6IGltcG9ydHMudWkuYXBwbGV0LkFwcGxldFBvcHVwTWVudVxuICAgIHB1YmxpYyBzY3JvbGx2aWV3OiBpbXBvcnRzLmdpLlN0LlNjcm9sbFZpZXdcblxuICAgIGNvbnN0cnVjdG9yKG9yaWVudGF0aW9uOiBpbXBvcnRzLmdpLlN0LlNpZGUsIHBhbmVsX2hlaWdodDogbnVtYmVyLCBpbnN0YW5jZV9pZDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKG9yaWVudGF0aW9uLCBwYW5lbF9oZWlnaHQsIGluc3RhbmNlX2lkKVxuXG4gICAgICAgIHRoaXMuc2V0QWxsb3dlZExheW91dChBbGxvd2VkTGF5b3V0LkJPVEgpXG5cblxuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uXG4gICAgICAgIHRoaXMubWVudU1hbmFnZXIgPSBuZXcgUG9wdXBNZW51TWFuYWdlcih0aGlzKVxuXG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9ucyA9IFtdXG5cbiAgICAgICAgbWVzc2FnZVRyYXkuY29ubmVjdCgnbm90aWZ5LWFwcGxldC11cGRhdGUnLCAoYWN0b3IsIG5vdGlmaWNhdGlvbikgPT4gdGhpcy5fbm90aWZpY2F0aW9uX2FkZGVkKGFjdG9yLCBub3RpZmljYXRpb24pKVxuICAgICAgICBnbG9iYWwuc2V0dGluZ3MuY29ubmVjdCgnY2hhbmdlZDo6JyArIFBBTkVMX0VESVRfTU9ERV9LRVksIExhbmcuYmluZCh0aGlzLCB0aGlzLl9vbl9wYW5lbF9lZGl0X21vZGVfY2hhbmdlZCkpO1xuXG5cbiAgICAgICAgdGhpcy5fYmxpbmtpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLl9ibGlua190b2dnbGUgPSBmYWxzZVxuXG4gICAgfVxuXG4gICAgX29wZW5NZW51KCkge1xuICAgICAgICB0aGlzLl91cGRhdGVfdGltZXN0YW1wKCk7XG4gICAgICAgIHRoaXMubWVudS50b2dnbGUoKTtcbiAgICB9XG5cblxuICAgIF9kaXNwbGF5KCkge1xuICAgICAgICB0aGlzLnNldF9hcHBsZXRfaWNvbl9zeW1ib2xpY19uYW1lKCdlbXB0eS1ub3RpZicpXG4gICAgICAgIHRoaXMuc2V0X2FwcGxldF90b29sdGlwKCdOb3RpZmljYXRpb25zJylcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbm90aWZpY2F0aW9uIGNvbnRhaW5lci5cbiAgICAgICAgdGhpcy5fbWFpbmNvbnRhaW5lciA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICAgICAgbmFtZTogJ3RyYXljb250YWluZXInLFxuICAgICAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgZ2xvYmFsLmxvZygnX2Rpc3BsYXkgY2FsbGVkJylcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uYmluID0gbmV3IEJveExheW91dCh7IHZlcnRpY2FsOiB0cnVlIH0pXG4gICAgICAgIHRoaXMuYnV0dG9uX2xhYmVsX2JveCA9IG5ldyBCb3hMYXlvdXQoKVxuXG4gICAgICAgIC8vIFNldHVwIHRoZSB0cmF5IGljb24uXG4gICAgICAgIHRoaXMubWVudV9sYWJlbCA9IG5ldyBQb3B1cE1lbnVJdGVtKHN0cmluZ2lmeSh0aGlzLm5vdGlmaWNhdGlvbnMubGVuZ3RoKSk7XG4gICAgICAgIHRoaXMubWVudV9sYWJlbC5hY3Rvci5yZWFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1lbnVfbGFiZWwuYWN0b3IuY2FuX2ZvY3VzID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVudV9sYWJlbC5sYWJlbC5hZGRfc3R5bGVfY2xhc3NfbmFtZSgncG9wdXAtc3VidGl0bGUtbWVudS1pdGVtJyk7XG5cbiAgICAgICAgdGhpcy5jbGVhcl9zZXBhcmF0b3IgPSBuZXcgUG9wdXBTZXBhcmF0b3JNZW51SXRlbSgpO1xuXG4gICAgICAgIHRoaXMuY2xlYXJfYWN0aW9uID0gbmV3IFBvcHVwTWVudUl0ZW0oXCJDbGVhciBub3RpZmljYXRpb25zXCIpO1xuICAgICAgICB0aGlzLmNsZWFyX2FjdGlvbi5jb25uZWN0KCdhY3RpdmF0ZScsIExhbmcuYmluZCh0aGlzLCB0aGlzLl9jbGVhcl9hbGwpKTtcbiAgICAgICAgdGhpcy5jbGVhcl9hY3Rpb24uYWN0b3IuaGlkZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vcmllbnRhdGlvbiA9PSBTaWRlLkJPVFRPTSkge1xuICAgICAgICAgICAgdGhpcy5tZW51LmFkZE1lbnVJdGVtKHRoaXMubWVudV9sYWJlbCk7XG4gICAgICAgICAgICB0aGlzLm1lbnUuYWRkQWN0b3IodGhpcy5fbWFpbmNvbnRhaW5lcik7XG4gICAgICAgICAgICB0aGlzLm1lbnUuYWRkTWVudUl0ZW0odGhpcy5jbGVhcl9zZXBhcmF0b3IpO1xuICAgICAgICAgICAgdGhpcy5tZW51LmFkZE1lbnVJdGVtKHRoaXMuY2xlYXJfYWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWVudS5hZGRNZW51SXRlbSh0aGlzLmNsZWFyX2FjdGlvbik7XG4gICAgICAgICAgICB0aGlzLm1lbnUuYWRkTWVudUl0ZW0odGhpcy5jbGVhcl9zZXBhcmF0b3IpO1xuICAgICAgICAgICAgdGhpcy5tZW51LmFkZE1lbnVJdGVtKHRoaXMubWVudV9sYWJlbCk7XG4gICAgICAgICAgICB0aGlzLm1lbnUuYWRkQWN0b3IodGhpcy5fbWFpbmNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjcm9sbHZpZXcgPSBuZXcgU2Nyb2xsVmlldyh7XG4gICAgICAgICAgICB4X2ZpbGw6IHRydWUsXG4gICAgICAgICAgICB5X2ZpbGw6IHRydWUsXG4gICAgICAgICAgICB5X2FsaWduOiBBbGlnbi5TVEFSVCxcbiAgICAgICAgICAgIHN0eWxlX2NsYXNzOiBcInZmYWRlXCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX21haW5jb250YWluZXIuYWRkKHRoaXMuc2Nyb2xsdmlldyk7XG4gICAgICAgIHRoaXMuc2Nyb2xsdmlldy5hZGRfYWN0b3IodGhpcy5fbm90aWZpY2F0aW9uYmluKTtcbiAgICAgICAgdGhpcy5zY3JvbGx2aWV3LnNldF9wb2xpY3koUG9saWN5VHlwZS5ORVZFUiwgUG9saWN5VHlwZS5BVVRPTUFUSUMpO1xuXG4gICAgICAgIGxldCB2c2Nyb2xsID0gdGhpcy5zY3JvbGx2aWV3LmdldF92c2Nyb2xsX2JhcigpO1xuXG4gICAgICAgIHZzY3JvbGwuY29ubmVjdCgnc2Nyb2xsLXN0YXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZW51LnBhc3NFdmVudHMgPSB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgdnNjcm9sbC5jb25uZWN0KCdzY3JvbGwtc3RvcCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVudS5wYXNzRXZlbnRzID0gZmFsc2VcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLl9jcml0X2ljb24gPSBuZXcgSWNvbih7XG4gICAgICAgICAgICBpY29uX25hbWU6ICdjcml0aWNhbC1ub3RpZicsXG4gICAgICAgICAgICBpY29uX3R5cGU6IEljb25UeXBlLlNZTUJPTElDLFxuICAgICAgICAgICAgcmVhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICB0cmFja19ob3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgIHN0eWxlX2NsYXNzOiAnc3lzdGVtLXN0YXR1cy1pY29uJ1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9hbHRfY3JpdF9pY29uID0gbmV3IEljb24oe1xuICAgICAgICAgICAgaWNvbl9uYW1lOiAnYWx0LWNyaXRpY2FsLW5vdGlmJyxcbiAgICAgICAgICAgIGljb25fdHlwZTogSWNvblR5cGUuU1lNQk9MSUMsXG4gICAgICAgICAgICByZWFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHRyYWNrX2hvdmVyOiB0cnVlLFxuICAgICAgICAgICAgc3R5bGVfY2xhc3M6ICdzeXN0ZW0tc3RhdHVzLWljb24nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX29uX3BhbmVsX2VkaXRfbW9kZV9jaGFuZ2VkKCk7XG5cbiAgICAgICAgdGhpcy5tZW51LmFkZFNldHRpbmdzQWN0aW9uKFwiTm90aWZpY2F0aW9uIFNldHRpbmdzXCIsICdub3RpZmljYXRpb25zJyk7XG4gICAgfVxuXG4gICAgX25vdGlmaWNhdGlvbl9hZGRlZChhY3RvcjogaW1wb3J0cy51aS5tZXNzYWdlVHJheS5NZXNzYWdlVHJheSwgbm90aWZpY2F0aW9uOiBpbXBvcnRzLnVpLm1lc3NhZ2VUcmF5Lk5vdGlmaWNhdGlvbikge1xuXG4gICAgICAgIGdsb2JhbC5sb2coJ25vdGlmaWNhdG9uIGFkZGVkJylcblxuICAgICAgICBjb25zdCBkdW1teUxhYmVsID0gbmV3IExhYmVsKHsgdGV4dDogJ2R1bW15JyB9KVxuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgQ2xvbmUoe1xuICAgICAgICAgICAgc291cmNlOiBub3RpZmljYXRpb24uYWN0b3JcbiAgICAgICAgfSlcblxuXG4gICAgICAgIG5vdGlmaWNhdGlvbi5hY3Rvci51bnBhcmVudCgpO1xuICAgICAgICBsZXQgZXhpc3RpbmdfaW5kZXggPSB0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoZXhpc3RpbmdfaW5kZXggIT0gLTEpIHsgLy8gVGhpcyBub3RpZmljYXRpb24gaXMgYWxyZWFkeSBsaXN0ZWQuXG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uW1wiX2Rlc3Ryb3llZFwiXSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoZXhpc3RpbmdfaW5kZXgsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25bXCJfaW5Ob3RpZmljYXRpb25CaW5cIl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGdsb2JhbC5yZXBhcmVudEFjdG9yKG5vdGlmaWNhdGlvbi5hY3RvciwgdGhpcy5fbm90aWZpY2F0aW9uYmluKTtcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25bXCJfdGltZUxhYmVsXCJdLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlX2xpc3QoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChub3RpZmljYXRpb25bXCJfZGVzdHJveWVkXCJdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIG5vdGlmaWNhdGlvbiB0byBsaXN0LlxuICAgICAgICBub3RpZmljYXRpb25bXCJfaW5Ob3RpZmljYXRpb25CaW5cIl0gPSB0cnVlO1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgICAvLyBTdGVhbCB0aGUgbm90aWNhdGlvbiBwYW5lbC5cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLl9ub3RpZmljYXRpb25iaW4uYWRkKGNsb25lKTtcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uYmluLmFkZChkdW1teUxhYmVsKVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG5vdGlmaWNhdGlvbi5hY3Rvci5fcGFyZW50X2NvbnRhaW5lciA9IHRoaXMuX25vdGlmaWNhdGlvbmJpbjtcbiAgICAgICAgbm90aWZpY2F0aW9uLmFjdG9yLmFkZF9zdHlsZV9jbGFzc19uYW1lKCdub3RpZmljYXRpb24tYXBwbGV0LXBhZGRpbmcnKTtcbiAgICAgICAgLy8gUmVnaXN0ZXIgZm9yIGRlc3RydWN0aW9uLlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG5vdGlmaWNhdGlvbi5jb25uZWN0KCdzY3JvbGxpbmctY2hhbmdlZCcsIChub3RpZiwgc2Nyb2xsaW5nKSA9PiB7IHRoaXMubWVudS5wYXNzRXZlbnRzID0gc2Nyb2xsaW5nIH0pO1xuICAgICAgICBub3RpZmljYXRpb24uY29ubmVjdCgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBpID0gdGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChpICE9IC0xKVxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZV9saXN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBub3RpZmljYXRpb25bXCJfdGltZUxhYmVsXCJdLnNob3coKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZV9saXN0KCk7XG4gICAgfVxuXG5cbiAgICB1cGRhdGVfbGlzdCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IHRoaXMubm90aWZpY2F0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7ICAgIC8vIFRoZXJlIGFyZSBub3RpZmljYXRpb25zLlxuICAgICAgICAgICAgICAgIHRoaXMuYWN0b3Iuc2hvdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJfYWN0aW9uLmFjdG9yLnNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9hcHBsZXRfbGFiZWwoY291bnQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgLy8gRmluZCBtYXggdXJnZW5jeSBhbmQgZGVyaXZlIGxpc3QgaWNvbi5cbiAgICAgICAgICAgICAgICBsZXQgbWF4X3VyZ2VuY3kgPSAtMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cl91cmdlbmN5ID0gdGhpcy5ub3RpZmljYXRpb25zW2ldLnVyZ2VuY3k7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJfdXJnZW5jeSA+IG1heF91cmdlbmN5KVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3VyZ2VuY3kgPSBjdXJfdXJnZW5jeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChtYXhfdXJnZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVyZ2VuY3kuTE9XOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxpbmtpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0X2FwcGxldF9pY29uX3N5bWJvbGljX25hbWUoXCJsb3ctbm90aWZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVcmdlbmN5Lk5PUk1BTDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBVcmdlbmN5LkhJR0g6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibGlua2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRfYXBwbGV0X2ljb25fc3ltYm9saWNfbmFtZShcIm5vcm1hbC1ub3RpZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFVyZ2VuY3kuQ1JJVElDQUw6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2JsaW5raW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxpbmtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JpdGljYWxfYmxpbmsoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7ICAgIC8vIFRoZXJlIGFyZSBubyBub3RpZmljYXRpb25zLlxuICAgICAgICAgICAgICAgIHRoaXMuX2JsaW5raW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfYXBwbGV0X2xhYmVsKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9hcHBsZXRfaWNvbl9zeW1ib2xpY19uYW1lKFwiZW1wdHktbm90aWZcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcl9hY3Rpb24uYWN0b3IuaGlkZSgpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvd0VtcHR5VHJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lbnVfbGFiZWwubGFiZWwuc2V0X3RleHQoc3RyaW5naWZ5KGNvdW50KSk7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZmljYXRpb25iaW4ucXVldWVfcmVsYXlvdXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2xvYmFsLmxvZ0Vycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jbGVhcl9hbGwoKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNvdW50IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3RpZmljYXRpb25iaW4ucmVtb3ZlX2FjdG9yKHRoaXMubm90aWZpY2F0aW9uc1tpXS5hY3Rvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zW2ldLmRlc3Ryb3koTm90aWZpY2F0aW9uRGVzdHJveWVkUmVhc29uLkRJU01JU1NFRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gW107XG4gICAgICAgIHRoaXMudXBkYXRlX2xpc3QoKTtcbiAgICB9XG5cbiAgICBfb25fcGFuZWxfZWRpdF9tb2RlX2NoYW5nZWQoKSB7XG4gICAgICAgIGlmIChnbG9iYWwuc2V0dGluZ3MuZ2V0X2Jvb2xlYW4oUEFORUxfRURJVF9NT0RFX0tFWSkpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0b3Iuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVfbGlzdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25fYXBwbGV0X2FkZGVkX3RvX3BhbmVsKCkge1xuICAgICAgICB0aGlzLm9uX29yaWVudGF0aW9uX2NoYW5nZWQodGhpcy5fb3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIG9uX29yaWVudGF0aW9uX2NoYW5nZWQob3JpZW50YXRpb246IGltcG9ydHMuZ2kuU3QuU2lkZSkge1xuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuXG4gICAgICAgIGlmICh0aGlzLm1lbnUpIHtcbiAgICAgICAgICAgIHRoaXMubWVudS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IEFwcGxldFBvcHVwTWVudSh0aGlzLCBvcmllbnRhdGlvbik7XG4gICAgICAgIHRoaXMubWVudU1hbmFnZXIuYWRkTWVudSh0aGlzLm1lbnUpO1xuICAgICAgICB0aGlzLl9kaXNwbGF5KCk7XG4gICAgfVxuXG4gICAgb25fYXBwbGV0X2NsaWNrZWQoZXZlbnQ6IGltcG9ydHMuZ2kuQ2x1dHRlci5FdmVudCkge1xuICAgICAgICBnbG9iYWwubG9nKCdhcHBsZXRfY2xpY2tlZCcpXG4gICAgICAgIHRoaXMuX29wZW5NZW51KCk7XG4gICAgfVxuXG4gICAgb25fYnRuX29wZW5fc3lzdGVtX3NldHRpbmdzX2NsaWNrZWQoKSB7XG4gICAgICAgIHNwYXduQ29tbWFuZExpbmUoXCJjaW5uYW1vbi1zZXR0aW5ncyBub3RpZmljYXRpb25zXCIpO1xuICAgIH1cblxuICAgIF91cGRhdGVfdGltZXN0YW1wKCkge1xuICAgICAgICBsZXQgbGVuID0gdGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uID0gdGhpcy5ub3RpZmljYXRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGxldCBvcmlnX3RpbWUgPSBub3RpZmljYXRpb25bXCJfdGltZXN0YW1wXCJdO1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbltcIl90aW1lTGFiZWxcIl0uY2x1dHRlcl90ZXh0LnNldF9tYXJrdXAodGltZWlmeShvcmlnX3RpbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyaXRpY2FsX2JsaW5rKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2JsaW5raW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5fYmxpbmtfdG9nZ2xlKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBsZXRfaWNvbl9ib3guY2hpbGQgPSB0aGlzLl9jcml0X2ljb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGxldF9pY29uX2JveC5jaGlsZCA9IHRoaXMuX2FsdF9jcml0X2ljb25cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2JsaW5rX3RvZ2dsZSA9ICF0aGlzLl9ibGlua190b2dnbGVcblxuICAgICAgICBNYWlubG9vcC50aW1lb3V0X2FkZF9zZWNvbmRzKDEsIExhbmcuYmluZCh0aGlzLCB0aGlzLmNyaXRpY2FsX2JsaW5rKSk7XG5cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShjb3VudDogbnVtYmVyKSB7XG4gICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBcIk5vIG5vdGlmaWNhdGlvbnNcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYG5vdGlmaWNhdGlvbnMgJHtjb3VudH1gXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIHRpbWVpZnkob3JpZ190aW1lOiBEYXRlKSB7XG4gICAgbGV0IHNldHRpbmdzID0gbmV3IFNldHRpbmdzKHsgc2NoZW1hX2lkOiAnb3JnLmNpbm5hbW9uLmRlc2t0b3AuaW50ZXJmYWNlJyB9KTtcbiAgICBsZXQgdXNlXzI0aCA9IHNldHRpbmdzLmdldF9ib29sZWFuKCdjbG9jay11c2UtMjRoJyk7XG4gICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGRpZmYgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gb3JpZ190aW1lLmdldFRpbWUoKSkgLyAxMDAwKTsgLy8gZ2V0IGRpZmYgaW4gc2Vjb25kc1xuICAgIGxldCBzdHI7XG4gICAgaWYgKHVzZV8yNGgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAodG9Mb2NhbGVGb3JtYXQgZXhpc3Qgb24gRGF0ZSBidXQgaXMgZGVwcmVhY3RlZDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRXJyb3JzL0RlcHJlY2F0ZWRfdG9Mb2NhbGVGb3JtYXQgKVxuICAgICAgICBzdHIgPSBvcmlnX3RpbWUudG9Mb2NhbGVGb3JtYXQoJyVUJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIHN0ciA9IG9yaWdfdGltZS50b0xvY2FsZUZvcm1hdCgnJXInKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbiIsImltcG9ydCB7IE5vdGljaWF0aW9uQXBwbGV0IH0gZnJvbSBcIi4vQXBwbGV0XCI7XG5pbXBvcnQgeyBjcmVhdGVQb3B1cE1lbnUgfSBmcm9tICdjaW5uYW1vbnBvcHVwJ1xuY29uc3QgeyBCb3hMYXlvdXQsIExhYmVsLCBUYWJsZSwgQnV0dG9uLCBCaW4sIEljb24sIEljb25UeXBlLCBBbGlnbiB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBOT1RJRklDQVRJT04gfSA9IGltcG9ydHMuZ2kuQXRrLlJvbGVcblxuY29uc3QgeyBXcmFwTW9kZSB9ID0gaW1wb3J0cy5naS5QYW5nb1xuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBvcmllbnRhdGlvbjogaW1wb3J0cy5naS5TdC5TaWRlLFxuICAgIHBhbmVsSGVpZ2h0OiBudW1iZXIsXG4gICAgaW5zdGFuY2VJZDogbnVtYmVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWluKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgcGFuZWxIZWlnaHQ6IHBhbmVsX2hlaWdodCxcbiAgICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2VfaWRcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgcmVtaW5kZXJBcHBsZXQgPSBuZXcgTm90aWNpYXRpb25BcHBsZXQob3JpZW50YXRpb24sIHBhbmVsX2hlaWdodCwgaW5zdGFuY2VfaWQpXG5cbiAgICByZXR1cm4gcmVtaW5kZXJBcHBsZXRcblxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///852\n")}},__webpack_require__={d:(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},o:(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),r:Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})}},__webpack_exports__={};__webpack_modules__[852](0,__webpack_exports__,__webpack_require__),notificationApplet=__webpack_exports__})();