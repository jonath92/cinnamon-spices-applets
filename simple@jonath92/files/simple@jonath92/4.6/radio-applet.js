var radioApplet;(()=>{"use strict";var __webpack_modules__={397:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"main\": () => (/* binding */ main)\n});\n\n;// CONCATENATED MODULE: ./src/consts.ts\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nconst { get_home_dir } = imports.gi.GLib;\nconst APPLET_SITE = 'https://cinnamon-spices.linuxmint.com/applets/view/297';\nconst DEFAULT_TOOLTIP_TXT = 'Radio++';\nconst CONFIG_DIR = `${get_home_dir()}/.cinnamon/configs/${__meta.uuid}`;\nconst MPRIS_PLUGIN_PATH = CONFIG_DIR + '/.mpris.so';\nconst MPRIS_PLUGIN_URL = \"https://github.com/hoyon/mpv-mpris/releases/download/0.5/mpris.so\";\nconst MEDIA_PLAYER_2_NAME = \"org.mpris.MediaPlayer2\";\nconst MEDIA_PLAYER_2_PLAYER_NAME = \"org.mpris.MediaPlayer2.Player\";\nconst MEDIA_PLAYER_2_PATH = \"/org/mpris/MediaPlayer2\";\nconst MPV_MPRIS_BUS_NAME = `${MEDIA_PLAYER_2_NAME}.mpv`;\nconst MPV_CVC_NAME = 'mpv Media Player';\nconst MAX_STRING_LENGTH = 40;\n/** in percent */\nconst MAX_VOLUME = 100; // see https://github.com/linuxmint/cinnamon-spices-applets/issues/3402#issuecomment-756430754 for an explanation of this value\n/** in percent */\nconst VOLUME_DELTA = 5;\n// STYLE CLASSES \nconst POPUP_ICON_CLASS = 'popup-menu-icon';\nconst POPUP_MENU_ITEM_CLASS = 'popup-menu-item';\n// ICONS\nfunction getVolumeIcon(args) {\n    const { volume } = args;\n    const VOLUME_ICON_PREFIX = 'audio-volume';\n    const VOLUME_ICONS = [\n        { max: 0, name: `${VOLUME_ICON_PREFIX}-muted` },\n        { max: 33, name: `${VOLUME_ICON_PREFIX}-low` },\n        { max: 66, name: `${VOLUME_ICON_PREFIX}-medium` },\n        { max: 100, name: `${VOLUME_ICON_PREFIX}-high` },\n    ];\n    if (volume < 0 || volume > 100)\n        throw new RangeError('volume should be between 0 and 100');\n    const index = VOLUME_ICONS.findIndex((_a) => {\n        var { max } = _a, rest = __rest(_a, [\"max\"]);\n        return volume <= max;\n    });\n    return VOLUME_ICONS[index].name;\n}\nconst RADIO_SYMBOLIC_ICON_NAME = 'radioapplet';\nconst PLAYBACK_ICON_PREFIX = 'media-playback';\nconst PLAY_ICON_NAME = `${PLAYBACK_ICON_PREFIX}-start`;\nconst PAUSE_ICON_NAME = `${PLAYBACK_ICON_PREFIX}-pause`;\nconst STOP_ICON_NAME = `${PLAYBACK_ICON_PREFIX}-stop`;\nconst SONG_INFO_ICON_NAME = 'audio-x-generic';\nconst COPY_ICON_NAME = 'edit-copy';\nconst DOWNLOAD_ICON_NAME = 'south-arrow-weather-symbolic';\nconst LOADING_ICON_NAME = 'view-refresh-symbolic';\n\n;// CONCATENATED MODULE: ./src/ui/Applet/AppletIcon.ts\n\nconst { Icon, IconType } = imports.gi.St;\nconst { IconType: IconTypeEnum } = imports.gi.St;\nfunction createAppletIcon(args) {\n    const { panel, locationLabel } = args;\n    let playbackStatus;\n    const playbackStatusStyleMap = new Map([\n        ['Stopped', ' '],\n        ['Loading', ' ']\n    ]);\n    const icon = new Icon({});\n    let normalIconType;\n    // the icon type passed from outside is overriten when the playbackstatus is 'loading' \n    function setIconTypeInternal(iconTypeEnum, iconName) {\n        icon.style_class = iconTypeEnum === IconTypeEnum.SYMBOLIC ?\n            'system-status-icon' : 'applet-icon';\n        icon.icon_name = iconName;\n        icon.icon_type = iconTypeEnum;\n        icon.icon_size = panel.getPanelZoneIconSize(locationLabel, iconTypeEnum);\n    }\n    function setIconType(iconType) {\n        if (!iconType)\n            return;\n        let iconTypeEnum;\n        let iconName;\n        normalIconType = iconType;\n        if (iconType === 'SYMBOLIC') {\n            iconName = RADIO_SYMBOLIC_ICON_NAME;\n            iconTypeEnum = IconTypeEnum.SYMBOLIC;\n        }\n        else {\n            iconName = `radioapplet-${iconType.toLowerCase()}`;\n            iconTypeEnum = IconTypeEnum.FULLCOLOR;\n        }\n        setIconTypeInternal(iconTypeEnum, iconName);\n    }\n    function updateIconSize() {\n        const iconSize = panel.getPanelZoneIconSize(locationLabel, icon.icon_type);\n        icon.icon_size = iconSize;\n    }\n    function setColorWhenPaused(color) {\n        playbackStatusStyleMap.set('Paused', `color: ${color}`);\n        if (playbackStatus)\n            setPlaybackStatus(playbackStatus);\n    }\n    function setColorWhenPlaying(color) {\n        playbackStatusStyleMap.set('Playing', `color: ${color}`);\n        if (playbackStatus)\n            setPlaybackStatus(playbackStatus);\n    }\n    function setPlaybackStatus(newPlaybackStatus) {\n        playbackStatus = newPlaybackStatus;\n        const style = playbackStatusStyleMap.get(playbackStatus);\n        if (newPlaybackStatus === 'Loading') {\n            setIconTypeInternal(IconTypeEnum.SYMBOLIC, LOADING_ICON_NAME);\n        }\n        else {\n            setIconType(normalIconType);\n        }\n        if (!style)\n            return;\n        icon.set_style(style);\n    }\n    return {\n        actor: icon,\n        setPlaybackStatus,\n        setColorWhenPlaying,\n        setColorWhenPaused,\n        setIconType,\n        updateIconSize\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Applet/Applet.ts\nconst { Applet, AllowedLayout } = imports.ui.applet;\nconst { Bin } = imports.gi.St;\nconst { EventType } = imports.gi.Clutter;\nfunction createApplet(args) {\n    const { orientation, panelHeight, instanceId, icon, label, onClick, onScroll, onMiddleClick, onAppletMoved, onAppletRemoved, onRightClick } = args;\n    const applet = new Applet(orientation, panelHeight, instanceId);\n    let appletReloaded = false;\n    [icon, label].forEach(widget => {\n        applet.actor.add_child(widget);\n    });\n    applet.on_applet_clicked = onClick;\n    applet.on_applet_middle_clicked = onMiddleClick;\n    applet.setAllowedLayout(AllowedLayout.BOTH);\n    applet.on_applet_reloaded = function () {\n        appletReloaded = true;\n    };\n    applet.on_applet_removed_from_panel = function () {\n        appletReloaded ? onAppletMoved() : onAppletRemoved();\n        appletReloaded = false;\n    };\n    applet.actor.connect('event', (actor, event) => {\n        if (event.type() !== EventType.BUTTON_PRESS)\n            return;\n        if (event.get_button() === 3) {\n            onRightClick();\n        }\n    });\n    applet.actor.connect('scroll-event', (actor, event) => {\n        onScroll(event.get_scroll_direction());\n    });\n    return applet;\n}\n\n;// CONCATENATED MODULE: ./src/mpv/MpvHandler.ts\n\nconst { getDBusProperties, getDBus, getDBusProxyWithOwner } = imports.misc.interfaces;\nconst { spawnCommandLine } = imports.misc.util;\n// see https://lazka.github.io/pgi-docs/Cvc-1.0/index.html\nconst { MixerControl } = imports.gi.Cvc;\nfunction createMpvHandler(args) {\n    const { onPlaybackstatusChanged, onUrlChanged, onVolumeChanged, onTitleChanged, onLengthChanged, onPositionChanged, checkUrlValid, lastUrl, getInitialVolume, } = args;\n    const dbus = getDBus();\n    const mediaServerPlayer = getDBusProxyWithOwner(MEDIA_PLAYER_2_PLAYER_NAME, MPV_MPRIS_BUS_NAME);\n    const mediaProps = getDBusProperties(MPV_MPRIS_BUS_NAME, MEDIA_PLAYER_2_PATH);\n    const control = new MixerControl({ name: __meta.name });\n    let cvcStream;\n    control.open();\n    control.connect('stream-added', (ctrl, id) => {\n        const addedStream = control.lookup_stream_id(id);\n        if ((addedStream === null || addedStream === void 0 ? void 0 : addedStream.name) !== MPV_CVC_NAME)\n            return;\n        cvcStream = addedStream;\n        cvcStream.connect('notify::volume', () => {\n            handleCvcVolumeChanged();\n        });\n    });\n    // When no last Url is passed and mpv is running, it is assumed that mpv is not used for the radio applet (and therefore the playbackstatus is Stopped)\n    const initialPlaybackStatus = !lastUrl ? 'Stopped' : getPlaybackStatus();\n    let currentUrl = initialPlaybackStatus !== \"Stopped\" ? lastUrl : null;\n    let currentLength = getLength(); // in seconds\n    let positionTimerId;\n    let bufferExceeded = false;\n    let mediaPropsListenerId;\n    let seekListenerId;\n    if (initialPlaybackStatus !== \"Stopped\") {\n        activateMprisPropsListener();\n        activeSeekListener();\n        onUrlChanged(currentUrl);\n        onPlaybackstatusChanged(initialPlaybackStatus);\n        onVolumeChanged(getVolume());\n        onTitleChanged(getCurrentTitle());\n        onLengthChanged(currentLength);\n        onPositionChanged(getPosition());\n        startPositionTimer();\n    }\n    const nameOwnerSignalId = dbus.connectSignal('NameOwnerChanged', (...args) => {\n        const name = args[2][0];\n        const oldOwner = args[2][1];\n        const newOwner = args[2][2];\n        if (name !== MPV_MPRIS_BUS_NAME)\n            return;\n        if (newOwner) {\n            activateMprisPropsListener();\n            activeSeekListener();\n            pauseAllOtherMediaPlayers();\n        }\n        if (oldOwner) {\n            currentLength = 0;\n            stopPositionTimer();\n            mediaProps.disconnectSignal(mediaPropsListenerId);\n            mediaServerPlayer.disconnectSignal(seekListenerId);\n            mediaPropsListenerId = seekListenerId = currentUrl = null;\n            onPlaybackstatusChanged('Stopped');\n        }\n    });\n    function deactivateAllListener() {\n        dbus.disconnectSignal(nameOwnerSignalId);\n        if (mediaPropsListenerId)\n            mediaProps === null || mediaProps === void 0 ? void 0 : mediaProps.disconnectSignal(mediaPropsListenerId);\n        if (seekListenerId)\n            mediaServerPlayer === null || mediaServerPlayer === void 0 ? void 0 : mediaServerPlayer.disconnectSignal(seekListenerId);\n    }\n    function activateMprisPropsListener() {\n        mediaPropsListenerId = mediaProps.connectSignal('PropertiesChanged', (proxy, nameOwner, [interfaceName, props]) => {\n            var _a, _b, _c, _d, _e, _f;\n            // theoretically it could be used recursiveUnpack but this doesn't work on cinnamon 20 yet (but on 20.1)\n            const metadata = (_a = props.Metadata) === null || _a === void 0 ? void 0 : _a.deep_unpack();\n            const volume = (_b = props.Volume) === null || _b === void 0 ? void 0 : _b.unpack();\n            const playbackStatus = (_c = props.PlaybackStatus) === null || _c === void 0 ? void 0 : _c.unpack();\n            //global.log(`metadata: ${JSON.stringify(props.Metadata?.recursiveUnpack())}, playbackStatus: ${playbackStatus}, volume: ${volume}`)\n            const url = (_d = metadata === null || metadata === void 0 ? void 0 : metadata['xesam:url']) === null || _d === void 0 ? void 0 : _d.unpack();\n            const title = (_e = metadata === null || metadata === void 0 ? void 0 : metadata['xesam:title']) === null || _e === void 0 ? void 0 : _e.unpack();\n            const length = (_f = metadata === null || metadata === void 0 ? void 0 : metadata[\"mpris:length\"]) === null || _f === void 0 ? void 0 : _f.unpack();\n            const newUrlValid = checkUrlValid(url);\n            const relevantEvent = newUrlValid || currentUrl;\n            if (!relevantEvent)\n                return; // happens when mpv is running with a file/stream not managed by the applet\n            if (length != null)\n                handleLengthChanged(length);\n            if (volume != null)\n                handleMprisVolumeChanged(volume);\n            playbackStatus && handleMprisPlaybackStatusChanged(playbackStatus);\n            url && newUrlValid && url !== currentUrl && handleUrlChanged(url);\n            title && handleTitleSet(title);\n        });\n    }\n    function activeSeekListener() {\n        seekListenerId = mediaServerPlayer.connectSignal('Seeked', (id, sender, value) => {\n            handlePositionChanged(microSecondsToRoundedSeconds(value));\n        });\n    }\n    /** @param length in microseconds */\n    function handleLengthChanged(length) {\n        const lengthInSeconds = microSecondsToRoundedSeconds(length);\n        onLengthChanged(lengthInSeconds);\n        const startLoading = (length === 0);\n        const finishedLoading = length !== 0 && currentLength === 0;\n        currentLength = lengthInSeconds;\n        if (startLoading) {\n            onPlaybackstatusChanged('Loading');\n        }\n        if (finishedLoading || bufferExceeded) {\n            const position = finishedLoading ? 0 : getPosition();\n            handlePositionChanged(position);\n            onPlaybackstatusChanged(getPlaybackStatus());\n            bufferExceeded = false;\n        }\n    }\n    /**  @param position in seconds! */\n    function handlePositionChanged(position) {\n        stopPositionTimer();\n        onPositionChanged(position);\n        startPositionTimer();\n    }\n    function startPositionTimer() {\n        if (getPlaybackStatus() !== 'Playing')\n            return;\n        positionTimerId = setInterval(() => {\n            const position = Math.min(getPosition(), currentLength);\n            onPositionChanged(position);\n            if (position === currentLength) {\n                onPlaybackstatusChanged('Loading');\n                bufferExceeded = true;\n                stopPositionTimer();\n            }\n        }, 1000);\n    }\n    function stopPositionTimer() {\n        if (!positionTimerId)\n            return;\n        clearInterval(positionTimerId);\n        positionTimerId = null;\n    }\n    function handleMprisPlaybackStatusChanged(playbackStatus) {\n        if (currentLength !== 0) {\n            onPlaybackstatusChanged(playbackStatus);\n            playbackStatus === 'Paused' ? stopPositionTimer()\n                : handlePositionChanged(getPosition());\n        }\n    }\n    function handleUrlChanged(newUrl) {\n        currentUrl = newUrl;\n        handleLengthChanged(0);\n        if (positionTimerId)\n            stopPositionTimer();\n        onPositionChanged(0);\n        onUrlChanged(newUrl);\n    }\n    function handleMprisVolumeChanged(mprisVolume) {\n        if (mprisVolume * 100 > MAX_VOLUME) {\n            mediaServerPlayer.Volume = MAX_VOLUME / 100;\n            return;\n        }\n        const normalizedVolume = Math.round(mprisVolume * 100);\n        setCvcVolume(normalizedVolume);\n        onVolumeChanged(normalizedVolume);\n    }\n    function handleCvcVolumeChanged() {\n        const normalizedVolume = Math.round(cvcStream.volume / control.get_vol_max_norm() * 100);\n        setMprisVolume(normalizedVolume);\n    }\n    function handleTitleSet(title) {\n        onTitleChanged(title);\n    }\n    /** @returns length in seconds */\n    function getLength() {\n        var _a, _b;\n        const lengthMicroSeconds = ((_b = (_a = mediaServerPlayer.Metadata) === null || _a === void 0 ? void 0 : _a[\"mpris:length\"]) === null || _b === void 0 ? void 0 : _b.unpack()) || 0;\n        return microSecondsToRoundedSeconds(lengthMicroSeconds);\n    }\n    /** @returns position in seconds */\n    function getPosition() {\n        if (getPlaybackStatus() === 'Stopped')\n            return 0;\n        // for some reason, this only return the right value the first time it is called. When calling this multiple times, it returns always the same value which however is wrong when radio is playing\n        // const positionMicroSeconds = mediaServerPlayer.Position\n        const positionMicroSeconds = mediaProps.GetSync('org.mpris.MediaPlayer2.Player', 'Position')[0].deep_unpack();\n        return microSecondsToRoundedSeconds(positionMicroSeconds);\n    }\n    function setUrl(url) {\n        if (getPlaybackStatus() === 'Stopped') {\n            const initialVolume = getInitialVolume();\n            if (initialVolume == null) {\n                throw new Error('initial Volume must not be undefined or null');\n            }\n            const command = `mpv --script=${MPRIS_PLUGIN_PATH} ${url} \n                --volume=${initialVolume}`;\n            spawnCommandLine(command);\n            return;\n        }\n        mediaServerPlayer.OpenUriRemote(url);\n        mediaServerPlayer.PlaySync();\n    }\n    function increaseDecreaseVolume(volumeChange) {\n        // newVolume is the current Volume plus(or minus) volumeChange \n        // but at least 0 and maximum Max_Volume\n        const newVolume = Math.min(MAX_VOLUME, Math.max(0, getVolume() + volumeChange));\n        setMprisVolume(newVolume);\n    }\n    /** @param newVolume volume in percent */\n    function setMprisVolume(newVolume) {\n        if (getVolume() === newVolume || getPlaybackStatus() === 'Stopped')\n            return;\n        mediaServerPlayer.Volume = newVolume / 100;\n    }\n    /** @param newVolume volume in percent */\n    function setCvcVolume(newVolume) {\n        const newStreamVolume = newVolume / 100 * control.get_vol_max_norm();\n        if (!cvcStream)\n            return;\n        if (cvcStream.volume === newStreamVolume)\n            return;\n        cvcStream.is_muted && cvcStream.change_is_muted(false);\n        cvcStream.volume = newStreamVolume;\n        cvcStream.push_volume();\n    }\n    function togglePlayPause() {\n        if (getPlaybackStatus() === \"Stopped\")\n            return;\n        mediaServerPlayer.PlayPauseSync();\n    }\n    function stop() {\n        if (getPlaybackStatus() === \"Stopped\")\n            return;\n        mediaServerPlayer.StopSync();\n    }\n    function getCurrentTitle() {\n        if (getPlaybackStatus() === \"Stopped\")\n            return;\n        return mediaServerPlayer.Metadata[\"xesam:title\"].unpack();\n    }\n    /**\n     * pauses all MediaPlayers with MPRIS Support except mpv\n     */\n    function pauseAllOtherMediaPlayers() {\n        dbus.ListNamesSync()[0].forEach(busName => {\n            if (!busName.includes(MEDIA_PLAYER_2_NAME) || busName === MPV_MPRIS_BUS_NAME)\n                return;\n            const nonMpvMediaServerPlayer = getDBusProxyWithOwner(MEDIA_PLAYER_2_PLAYER_NAME, busName);\n            nonMpvMediaServerPlayer.PauseSync();\n        });\n    }\n    function getPlaybackStatus() {\n        // this is necessary because when a user stops mpv and afterwards start vlc (or maybe also an other media player), mediaServerPlayer.PlaybackStatus wrongly returns \"Playing\"  \n        const mpvRunning = dbus.ListNamesSync()[0].includes(MPV_MPRIS_BUS_NAME);\n        return mpvRunning ? mediaServerPlayer.PlaybackStatus : 'Stopped';\n    }\n    function getVolume() {\n        if (getPlaybackStatus() === 'Stopped')\n            return null;\n        return Math.round(mediaServerPlayer.Volume * 100);\n    }\n    function microSecondsToRoundedSeconds(microSeconds) {\n        const seconds = microSeconds / 1000000;\n        const secondsRounded = Math.round(seconds);\n        return secondsRounded;\n    }\n    /** @param newPosition in seconds */\n    function setPosition(newPosition) {\n        const positioninMicroSeconds = Math.min(newPosition * 1000000, currentLength * 1000000);\n        const trackId = mediaServerPlayer.Metadata['mpris:trackid'].unpack();\n        mediaServerPlayer === null || mediaServerPlayer === void 0 ? void 0 : mediaServerPlayer.SetPositionRemote(trackId, positioninMicroSeconds);\n    }\n    return {\n        increaseDecreaseVolume,\n        setVolume: setMprisVolume,\n        setUrl,\n        togglePlayPause,\n        stop,\n        getCurrentTitle,\n        setPosition,\n        deactivateAllListener,\n        // it is very confusing but dbus must be returned!\n        // Otherwilse all listeners stop working after about 20 seconds which is fucking difficult to debug\n        dbus\n    };\n}\n\n;// CONCATENATED MODULE: ./src/Config.ts\nconst { AppletSettings } = imports.ui.settings;\nconst createConfig = (args) => {\n    const { uuid, instanceId, onIconChanged, onIconColorPlayingChanged, onIconColorPausedChanged, onChannelOnPanelChanged, onMyStationsChanged, } = args;\n    // all settings are saved to this object\n    const settingsObject = {\n        get initialVolume() { return getInitialVolume(); }\n    };\n    const appletSettings = new AppletSettings(settingsObject, uuid, instanceId);\n    appletSettings.bind('icon-type', 'iconType', (iconType) => onIconChanged(iconType));\n    appletSettings.bind('color-on', 'symbolicIconColorWhenPlaying', (newColor) => onIconColorPlayingChanged(newColor));\n    appletSettings.bind('color-paused', 'symbolicIconColorWhenPaused', (newColor) => onIconColorPausedChanged(newColor));\n    appletSettings.bind('channel-on-panel', 'channelNameOnPanel', (channelOnPanel) => onChannelOnPanelChanged(channelOnPanel));\n    appletSettings.bind('keep-volume-between-sessions', \"keepVolume\");\n    appletSettings.bind('initial-volume', 'customInitVolume');\n    appletSettings.bind('last-volume', 'lastVolume');\n    appletSettings.bind('tree', \"userStations\", onMyStationsChanged);\n    appletSettings.bind('last-url', 'lastUrl');\n    appletSettings.bind('music-download-dir-select', 'musicDownloadDir', () => handleMusicDirChanged());\n    function getInitialVolume() {\n        const { keepVolume, lastVolume, customInitVolume } = settingsObject;\n        let initialVolume = keepVolume ? lastVolume : customInitVolume;\n        if (initialVolume == null) {\n            global.logWarning('initial Volume was null or undefined. Applying 50 as a fallback solution to prevent radio stop working');\n            initialVolume = 50;\n        }\n        return initialVolume;\n    }\n    function handleMusicDirChanged() {\n        // By Default the value is set to ~/Music/Radio but when changing to another location and back again to the default value in the settings dialog, the music dir is set to null instead of the default value again. As workaround the music dir is set programmatically to default value again if value is set to null (and the settings dialog can't be opened anymore). \n        if (settingsObject.musicDownloadDir === null) {\n            settingsObject.musicDownloadDir = \"~/Music/Radio\";\n        }\n    }\n    onIconChanged(settingsObject.iconType);\n    onIconColorPlayingChanged(settingsObject.symbolicIconColorWhenPlaying);\n    onIconColorPausedChanged(settingsObject.symbolicIconColorWhenPaused);\n    onChannelOnPanelChanged(settingsObject.channelNameOnPanel);\n    // TODO also onMyStationChanged should be called (and removed as arg from  ChannelStore)\n    return settingsObject;\n};\n\n;// CONCATENATED MODULE: ./src/ui/Applet/AppletLabel.ts\nconst { Label } = imports.gi.St;\nconst { EllipsizeMode } = imports.gi.Pango;\nconst { ActorAlign } = imports.gi.Clutter;\nfunction createAppletLabel() {\n    const label = new Label({\n        reactive: true,\n        track_hover: true,\n        style_class: 'applet-label',\n        y_align: ActorAlign.CENTER,\n        y_expand: false,\n        visible: false\n    });\n    // No idea why needed but without the label is not shown \n    label.clutter_text.ellipsize = EllipsizeMode.NONE;\n    let visible;\n    let text;\n    /**\n     *\n     * @param newValue text to show on the label. The text however is only visible in the GUI when visible is true. It is also shown no text when passing null for text but in that case the text is shown again when calling this function again with a string (i.e this function is intended to be used with null when the text shall only temporarily be hidden)\n     *\n     */\n    function setText(newValue) {\n        text = newValue;\n        if (!visible)\n            return;\n        label.show();\n        newValue ? label.text = ` ${newValue}` : label.hide();\n    }\n    function setVisibility(newValue) {\n        visible = newValue;\n        if (text)\n            label.visible = newValue;\n        if (visible && text)\n            setText(text);\n    }\n    return {\n        actor: label,\n        setVisibility,\n        setText,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Applet/AppletTooltip.ts\n\nconst { PanelItemTooltip } = imports.ui.tooltips;\nfunction createAppletTooltip(args) {\n    const { orientation, applet } = args;\n    const tooltip = new PanelItemTooltip(applet, null, orientation);\n    function setVolume(volume) {\n        if (volume == null) {\n            tooltip.set_text(DEFAULT_TOOLTIP_TXT);\n            return;\n        }\n        tooltip.set_text(`Volume: ${volume.toString()} %`);\n    }\n    return {\n        setVolume\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ChannelStore.ts\nclass ChannelStore {\n    constructor(channelList) {\n        this.channelList = channelList;\n    }\n    set channelList(channelList) {\n        const filteredChannelList = channelList.filter(channel => channel.inc);\n        this._channelList = filteredChannelList.map(channel => {\n            return Object.assign(Object.assign({}, channel), { url: channel.url.trim() });\n        });\n        // TODO: add babel to allow the usage of flatMap!\n        // return this.channelList.flatMap(channel =>\n        //     channel.inc ? channel.url : []\n        // )\n    }\n    get activatedChannelUrls() {\n        return this._channelList.map(channel => channel.url);\n    }\n    get activatedChannelNames() {\n        return this._channelList.map(channel => channel.name);\n    }\n    // TODO: what is when two Channels have the same Name or Url? :O\n    getChannelName(channelUrl) {\n        const channel = this._channelList.find(cnl => cnl.url === channelUrl);\n        return channel ? channel.name : null;\n    }\n    getChannelUrl(channelName) {\n        const channel = this._channelList.find(cnl => cnl.name === channelName);\n        return channel ? channel.url : null;\n    }\n    checkListChanged(channelList) {\n        return JSON.stringify(channelList) === JSON.stringify(this._channelList) ?\n            false : true;\n    }\n    checkUrlValid(channelUrl) {\n        return this._channelList.some(cnl => cnl.url === channelUrl);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/lib/ActivWidget.ts\nconst { KEY_space, KEY_KP_Enter, KEY_Return } = imports.gi.Clutter;\nfunction createActivWidget(args) {\n    const { widget, onActivated } = args;\n    // TODO: understand can_focus\n    widget.can_focus = true;\n    widget.reactive = true;\n    widget.track_hover = true;\n    widget.connect('button-release-event', () => onActivated === null || onActivated === void 0 ? void 0 : onActivated());\n    // TODO: This is needed because some themes (at least Adapta-Nokto but maybe also others) don't provide style for the hover pseudo class. But it would be much easier to once (and on theme changes) programmatically set the hover pseudo class equal to the active pseudo class when the hover class isn't provided by the theme. \n    widget.connect('notify::hover', () => {\n        widget.change_style_pseudo_class('active', widget.hover);\n        if (widget.hover)\n            widget.grab_key_focus();\n    });\n    widget.connect('key-press-event', (actor, event) => {\n        const symbol = event.get_key_symbol();\n        const relevantKeys = [KEY_space, KEY_KP_Enter, KEY_Return];\n        if (relevantKeys.includes(symbol) && widget.hover)\n            onActivated === null || onActivated === void 0 ? void 0 : onActivated();\n    });\n}\n\n;// CONCATENATED MODULE: ./src/lib/PopupSubMenu.ts\n\nconst { BoxLayout, Label: PopupSubMenu_Label, Icon: PopupSubMenu_Icon, ScrollView } = imports.gi.St;\nconst { ActorAlign: PopupSubMenu_ActorAlign, Point } = imports.gi.Clutter;\nconst { PolicyType } = imports.gi.Gtk;\nfunction createSubMenu(args) {\n    const { text } = args;\n    const container = new BoxLayout({\n        vertical: true\n    });\n    const label = new PopupSubMenu_Label({\n        text\n    });\n    const triangle = new PopupSubMenu_Icon({\n        style_class: 'popup-menu-arrow',\n        icon_name: 'pan-end',\n        rotation_angle_z: 90,\n        x_expand: true,\n        x_align: PopupSubMenu_ActorAlign.END,\n        pivot_point: new Point({ x: 0.5, y: 0.5 }),\n        important: true // without this, it looks ugly on Mint-X Themes\n    });\n    const toggle = new BoxLayout({\n        style_class: 'popup-menu-item popup-submenu-menu-item'\n    });\n    createActivWidget({\n        widget: toggle,\n        onActivated: toggleScrollbox\n    });\n    [label, triangle].forEach(widget => toggle.add_child(widget));\n    container.add_child(toggle);\n    const scrollbox = new ScrollView({\n        style_class: 'popup-sub-menu',\n        vscrollbar_policy: PolicyType.AUTOMATIC,\n        hscrollbar_policy: PolicyType.NEVER\n    });\n    const box = new BoxLayout({\n        vertical: true\n    });\n    function toggleScrollbox() {\n        scrollbox.visible ? closeMenu() : openMenu();\n    }\n    function openMenu() {\n        scrollbox.show();\n        triangle.rotation_angle_z = 90;\n    }\n    function closeMenu() {\n        scrollbox.hide();\n        triangle.rotation_angle_z = 0;\n    }\n    // add_child is recommended but doesn't work: https://gitlab.gnome.org/GNOME/gnome-shell/-/issues/3172\n    scrollbox.add_actor(box);\n    [toggle, scrollbox].forEach(widget => container.add_child(widget));\n    return {\n        /** the container which should be used to add it as child to a parent Actor */\n        actor: container,\n        /** the container which should be used to add children  */\n        box,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/functions/limitString.ts\nfunction limitString(text, maxCharNumber) {\n    if (!text)\n        return;\n    if (text.length <= maxCharNumber)\n        return text;\n    return [...text].slice(0, maxCharNumber - 3).join('') + '...';\n}\n\n;// CONCATENATED MODULE: ./src/lib/IconMenuItem.ts\n\n\nconst { Icon: IconMenuItem_Icon, IconType: IconMenuItem_IconType, Label: IconMenuItem_Label, BoxLayout: IconMenuItem_BoxLayout } = imports.gi.St;\nfunction createIconMenuItem(args) {\n    const { text, maxCharNumber, iconName, onActivated } = args;\n    let icon;\n    let label;\n    const container = new IconMenuItem_BoxLayout({\n        style_class: 'popup-menu-item'\n    });\n    setIconName(iconName);\n    setText(text);\n    function setIconName(name) {\n        if (icon && !name) {\n            container.remove_child(icon);\n            icon = null;\n            return;\n        }\n        if (!name)\n            return;\n        initIcon();\n        icon.icon_name = name;\n        if (container.get_child_at_index(0) !== icon)\n            container.insert_child_at_index(icon, 0);\n    }\n    function initIcon() {\n        if (!icon) {\n            icon = new IconMenuItem_Icon({\n                icon_type: IconMenuItem_IconType.SYMBOLIC,\n                style_class: 'popup-menu-icon'\n            });\n        }\n    }\n    function setText(text) {\n        const labelText = text || ' ';\n        if (!label) {\n            label = new IconMenuItem_Label();\n            container.add_child(label);\n        }\n        label.set_text(limitString(labelText, maxCharNumber));\n    }\n    onActivated && createActivWidget({ widget: container, onActivated });\n    return {\n        actor: container,\n        setIconName,\n        setText\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/ChannelList/ChannelMenuItem.ts\n\n\nfunction createChannelMenuItem(args) {\n    const { channelName, onActivated, playbackStatus } = args;\n    const playbackIconMap = new Map([\n        [\"Playing\", PLAY_ICON_NAME],\n        [\"Paused\", PAUSE_ICON_NAME],\n        [\"Loading\", LOADING_ICON_NAME],\n        [\"Stopped\", null]\n    ]);\n    const iconMenuItem = createIconMenuItem({\n        maxCharNumber: MAX_STRING_LENGTH,\n        text: channelName,\n        onActivated: () => onActivated(channelName)\n    });\n    function setPlaybackStatus(playbackStatus) {\n        const iconName = playbackIconMap.get(playbackStatus);\n        iconMenuItem.setIconName(iconName);\n    }\n    playbackStatus && setPlaybackStatus(playbackStatus);\n    return {\n        setPlaybackStatus,\n        actor: iconMenuItem.actor\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/ChannelList/ChannelList.ts\n\n\nfunction createChannelList(args) {\n    const { stationNames, onChannelClicked } = args;\n    const subMenu = createSubMenu({ text: 'My Stations' });\n    let currentChannelName;\n    let playbackStatus = 'Stopped';\n    // the channelItems are saved here to the map and to the container as on the container only the reduced name are shown. Theoretically it therefore couldn't be differentiated between two long channel names with the same first 30 (or so) characters   \n    const channelItems = new Map();\n    function setStationNames(names) {\n        channelItems.clear();\n        subMenu.box.remove_all_children();\n        names.forEach(name => {\n            const channelPlaybackstatus = (name === currentChannelName) ? playbackStatus : 'Stopped';\n            const channelItem = createChannelMenuItem({\n                channelName: name,\n                onActivated: onChannelClicked,\n                playbackStatus: channelPlaybackstatus\n            });\n            channelItems.set(name, channelItem);\n            subMenu.box.add_child(channelItem.actor);\n        });\n    }\n    function setPlaybackStatus(newStatus) {\n        playbackStatus = newStatus;\n        if (!currentChannelName)\n            return;\n        const channelMenuItem = channelItems.get(currentChannelName);\n        channelMenuItem === null || channelMenuItem === void 0 ? void 0 : channelMenuItem.setPlaybackStatus(playbackStatus);\n        if (playbackStatus === 'Stopped')\n            currentChannelName = null;\n    }\n    function setCurrentChannel(name) {\n        const currentChannelItem = channelItems.get(currentChannelName);\n        currentChannelItem === null || currentChannelItem === void 0 ? void 0 : currentChannelItem.setPlaybackStatus('Stopped');\n        if (name) {\n            const newChannelItem = channelItems.get(name);\n            if (!newChannelItem)\n                throw new Error(`No channelItem exist for ${name}`);\n            newChannelItem.setPlaybackStatus(playbackStatus);\n        }\n        currentChannelName = name;\n    }\n    setStationNames(stationNames);\n    return {\n        actor: subMenu.actor,\n        setPlaybackStatus,\n        setStationNames,\n        setCurrentChannel\n    };\n}\n\n;// CONCATENATED MODULE: ./src/lib/Slider.ts\nconst { DrawingArea } = imports.gi.St;\nconst { cairo_set_source_color, grab_pointer, ungrab_pointer } = imports.gi.Clutter;\nfunction createSlider(args) {\n    const style_class = 'popup-slider-menu-item';\n    const { initialValue, onValueChanged } = args;\n    let value;\n    if (initialValue)\n        value = limitToMinMax(initialValue);\n    const drawing = new DrawingArea({\n        style_class,\n        reactive: true,\n        x_expand: true\n    });\n    drawing.connect('repaint', () => {\n        const cr = drawing.get_context();\n        const themeNode = drawing.get_theme_node();\n        const [width, height] = drawing.get_surface_size();\n        const handleRadius = themeNode.get_length('-slider-handle-radius');\n        const sliderHeight = themeNode.get_length('-slider-height');\n        const sliderBorderWidth = themeNode.get_length('-slider-border-width');\n        const sliderBorderRadius = Math.min(width, sliderHeight) / 2;\n        const sliderBorderColor = themeNode.get_color('-slider-border-color');\n        const sliderColor = themeNode.get_color('-slider-background-color');\n        const sliderActiveBorderColor = themeNode.get_color('-slider-active-border-color');\n        const sliderActiveColor = themeNode.get_color('-slider-active-background-color');\n        const TAU = Math.PI * 2;\n        const handleX = handleRadius + (width - 2 * handleRadius) * value;\n        cr.arc(sliderBorderRadius + sliderBorderWidth, height / 2, sliderBorderRadius, TAU * 1 / 4, TAU * 3 / 4);\n        cr.lineTo(handleX, (height - sliderHeight) / 2);\n        cr.lineTo(handleX, (height + sliderHeight) / 2);\n        cr.lineTo(sliderBorderRadius + sliderBorderWidth, (height + sliderHeight) / 2);\n        cairo_set_source_color(cr, sliderActiveColor);\n        cr.fillPreserve();\n        cairo_set_source_color(cr, sliderActiveBorderColor);\n        cr.setLineWidth(sliderBorderWidth);\n        cr.stroke();\n        cr.arc(width - sliderBorderRadius - sliderBorderWidth, height / 2, sliderBorderRadius, TAU * 3 / 4, TAU * 1 / 4);\n        cr.lineTo(handleX, (height + sliderHeight) / 2);\n        cr.lineTo(handleX, (height - sliderHeight) / 2);\n        cr.lineTo(width - sliderBorderRadius - sliderBorderWidth, (height - sliderHeight) / 2);\n        cairo_set_source_color(cr, sliderColor);\n        cr.fillPreserve();\n        cairo_set_source_color(cr, sliderBorderColor);\n        cr.setLineWidth(sliderBorderWidth);\n        cr.stroke();\n        const handleY = height / 2;\n        const color = themeNode.get_foreground_color();\n        cairo_set_source_color(cr, color);\n        cr.arc(handleX, handleY, handleRadius, 0, 2 * Math.PI);\n        cr.fill();\n        cr.$dispose();\n    });\n    drawing.connect('button-press-event', (actor, event) => {\n        grab_pointer(drawing);\n        const motionId = drawing.connect('motion-event', (actor, event) => {\n            moveHandle(event);\n        });\n        const buttonReleaseId = drawing.connect('button-release-event', () => {\n            drawing.disconnect(buttonReleaseId);\n            drawing.disconnect(motionId);\n            ungrab_pointer();\n        });\n        moveHandle(event);\n    });\n    function moveHandle(event) {\n        const [absX, absY] = event.get_coords();\n        const [sliderX, sliderY] = drawing.get_transformed_position();\n        const relX = absX - sliderX;\n        const width = drawing.width;\n        const handleRadius = drawing.get_theme_node().get_length('-slider-handle-radius');\n        const newValue = (relX - handleRadius) / (width - 2 * handleRadius);\n        const newValueLimitToMinMax = limitToMinMax(newValue);\n        setValue(newValueLimitToMinMax);\n    }\n    function limitToMinMax(value) {\n        return Math.max(Math.min(value, 1), 0);\n    }\n    function setValue(newValue, silent = false) {\n        const correctedValue = limitToMinMax(newValue);\n        if (correctedValue === value)\n            return;\n        value = correctedValue;\n        if (!silent)\n            onValueChanged === null || onValueChanged === void 0 ? void 0 : onValueChanged(value);\n        drawing.queue_repaint();\n    }\n    function getValue() {\n        return value;\n    }\n    return {\n        actor: drawing,\n        setValue,\n        getValue\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/VolumeSlider.ts\n\n\n\nconst { BoxLayout: VolumeSlider_BoxLayout, Icon: VolumeSlider_Icon, IconType: VolumeSlider_IconType } = imports.gi.St;\nconst { Tooltip } = imports.ui.tooltips;\nconst { KEY_Right, KEY_Left, ScrollDirection } = imports.gi.Clutter;\nfunction createVolumeSlider(args) {\n    const { onVolumeChanged } = args;\n    let tooltip;\n    const container = new VolumeSlider_BoxLayout({\n        style_class: POPUP_MENU_ITEM_CLASS,\n    });\n    createActivWidget({\n        widget: container\n    });\n    /** in Percent and rounded! */\n    let volume;\n    const slider = createSlider({\n        onValueChanged: handleSliderValueChanged\n    });\n    const icon = new VolumeSlider_Icon({\n        icon_type: VolumeSlider_IconType.SYMBOLIC,\n        style_class: POPUP_ICON_CLASS,\n        reactive: true\n    });\n    [icon, slider.actor].forEach(widget => {\n        container.add_child(widget);\n    });\n    container.connect('key-press-event', (actor, event) => {\n        const key = event.get_key_symbol();\n        if (key === KEY_Right || key === KEY_Left) {\n            const direction = (key === KEY_Right) ? 'increase' : 'decrease';\n            deltaChange(direction);\n        }\n    });\n    container.connect('scroll-event', (actor, event) => {\n        const scrollDirection = event.get_scroll_direction();\n        const direction = (scrollDirection === ScrollDirection.UP) ? 'increase' : 'decrease';\n        deltaChange(direction);\n    });\n    icon.connect('button-press-event', () => {\n        slider.setValue(0);\n    });\n    /**\n     *\n     * @param newValue between 0 and 1\n     */\n    function handleSliderValueChanged(newValue) {\n        updateVolume(newValue * 100, true);\n    }\n    function deltaChange(direction) {\n        const delta = (direction === 'increase') ? VOLUME_DELTA : -VOLUME_DELTA;\n        const newValue = slider.getValue() + delta / 100;\n        slider.setValue(newValue);\n    }\n    /**\n     *\n     * @param newVolume in percent but doesn't need to be rounded\n     * @param showTooltip\n     */\n    function updateVolume(newVolume, showTooltip) {\n        const newVolumeRounded = Math.round(newVolume);\n        if (newVolumeRounded === volume)\n            return;\n        volume = newVolumeRounded;\n        slider.setValue(volume / 100);\n        icon.set_icon_name(getVolumeIcon({ volume }));\n        setTooltip(volume);\n        showTooltip && tooltip.show();\n        onVolumeChanged === null || onVolumeChanged === void 0 ? void 0 : onVolumeChanged(volume);\n    }\n    /**\n     *\n     * @param volume in Percent and rounded!\n     */\n    function setTooltip(volume) {\n        if (!tooltip)\n            tooltip = new Tooltip(slider.actor, ' ');\n        tooltip.set_text(`Volume: ${volume.toString()} %`);\n    }\n    /**\n     *\n     * @param newVolume in percent (0-100)\n     */\n    function setVolume(newVolume) {\n        updateVolume(newVolume, false);\n    }\n    return {\n        actor: container,\n        setVolume\n    };\n}\n\n;// CONCATENATED MODULE: ./src/lib/PopupMenu.ts\nconst { BoxLayout: PopupMenu_BoxLayout, Bin: PopupMenu_Bin, Side } = imports.gi.St;\nconst { uiGroup, layoutManager, panelManager, pushModal, popModal } = imports.ui.main;\nconst { KEY_Escape } = imports.gi.Clutter;\nconst { util_get_transformed_allocation } = imports.gi.Cinnamon;\nconst { PanelLoc } = imports.ui.popupMenu;\nfunction createPopupMenu(args) {\n    const { launcher } = args;\n    const box = new PopupMenu_BoxLayout({\n        style_class: 'popup-menu-content',\n        vertical: true,\n        visible: false,\n    });\n    // only for styling purposes\n    const bin = new PopupMenu_Bin({\n        style_class: 'menu',\n        child: box,\n        visible: false\n    });\n    uiGroup.add_child(bin);\n    box.connect('key-press-event', (actor, event) => {\n        event.get_key_symbol() === KEY_Escape && close();\n    });\n    launcher.connect('queue-relayout', () => {\n        if (!box.visible)\n            return;\n        setTimeout(() => {\n            setLayout();\n        }, 0);\n    });\n    function setLayout() {\n        const freeSpace = calculateFreeSpace();\n        const maxHeight = calculateMaxHeight(freeSpace);\n        box.style = `max-height: ${maxHeight}px;`;\n        const [xPos, yPos] = calculatePosition(maxHeight, freeSpace);\n        // Without Math.floor, the popup menu gets for some reason blurred on some themes (e.g. Adapta Nokto)!\n        bin.set_position(Math.floor(xPos), Math.floor(yPos));\n    }\n    function calculateFreeSpace() {\n        var _a, _b, _c, _d;\n        const monitor = layoutManager.findMonitorForActor(launcher);\n        const visiblePanels = panelManager.getPanelsInMonitor(monitor.index);\n        const panelSizes = new Map(visiblePanels.map(panel => {\n            let width = 0, height = 0;\n            if (panel.getIsVisible()) {\n                width = panel.actor.width;\n                height = panel.actor.height;\n            }\n            return [panel.panelPosition, { width, height }];\n        }));\n        return {\n            left: monitor.x + (((_a = panelSizes.get(PanelLoc.left)) === null || _a === void 0 ? void 0 : _a.width) || 0),\n            bottom: monitor.y + monitor.height - (((_b = panelSizes.get(PanelLoc.bottom)) === null || _b === void 0 ? void 0 : _b.height) || 0),\n            top: monitor.y + (((_c = panelSizes.get(PanelLoc.top)) === null || _c === void 0 ? void 0 : _c.height) || 0),\n            right: monitor.x + monitor.width - (((_d = panelSizes.get(PanelLoc.right)) === null || _d === void 0 ? void 0 : _d.width) || 0)\n        };\n    }\n    function calculateMaxHeight(freeSpace) {\n        const freeSpaceHeight = (freeSpace.bottom - freeSpace.top) / global.ui_scale;\n        const boxThemeNode = box.get_theme_node();\n        const binThemeNode = bin.get_theme_node();\n        const paddingTop = boxThemeNode.get_padding(Side.TOP);\n        const paddingBottom = boxThemeNode.get_padding(Side.BOTTOM);\n        const borderWidthTop = binThemeNode.get_border_width(Side.TOP);\n        const borderWidthBottom = binThemeNode.get_border_width(Side.BOTTOM);\n        const maxHeight = freeSpaceHeight - paddingBottom - paddingTop - borderWidthTop - borderWidthBottom;\n        return maxHeight;\n    }\n    function calculatePosition(maxHeight, freeSpace) {\n        const appletBox = util_get_transformed_allocation(launcher);\n        const [minWidth, minHeight, natWidth, natHeight] = box.get_preferred_size();\n        const margin = (natWidth - appletBox.get_width()) / 2;\n        const xLeftNormal = Math.max(freeSpace.left, appletBox.x1 - margin);\n        const xRightNormal = appletBox.x2 + margin;\n        const xLeftMax = freeSpace.right - appletBox.get_width() - margin * 2;\n        const xLeft = (xRightNormal < freeSpace.right) ? xLeftNormal : xLeftMax;\n        const yTopNormal = Math.max(appletBox.y1, freeSpace.top);\n        const yBottomNormal = yTopNormal + natHeight;\n        const yTopMax = freeSpace.bottom - box.height;\n        const yTop = (yBottomNormal < freeSpace.bottom) ? yTopNormal : yTopMax;\n        return [xLeft, yTop];\n    }\n    function toggle() {\n        box.visible ? close() : open();\n    }\n    // no idea why it sometimes needs to be bin and sometimes box ...\n    function open() {\n        setLayout();\n        bin.show();\n        box.show();\n        launcher.add_style_pseudo_class('checked');\n        pushModal(box);\n        // For some reason, it is emmited the button-press event when clicking e.g on the desktop but the button-release-event when clicking on another applet\n        global.stage.connect('button-press-event', handleClick);\n        global.stage.connect('button-release-event', handleClick);\n    }\n    function close() {\n        if (!box.visible)\n            return;\n        bin.hide();\n        box.hide();\n        launcher.remove_style_pseudo_class('checked');\n        popModal(box);\n    }\n    function handleClick(actor, event) {\n        if (!box.visible) {\n            return;\n        }\n        const clickedActor = event.get_source();\n        const binClicked = box.contains(clickedActor);\n        const appletClicked = launcher.contains(clickedActor);\n        (!binClicked && !appletClicked) && close();\n    }\n    box.toggle = toggle;\n    box.close = close;\n    return box;\n}\n\n;// CONCATENATED MODULE: ./src/ui/InfoSection.ts\n\n\nconst { BoxLayout: InfoSection_BoxLayout } = imports.gi.St;\nfunction createInfoSection() {\n    const channelInfoItem = createInfoItem(RADIO_SYMBOLIC_ICON_NAME);\n    const songInfoItem = createInfoItem(SONG_INFO_ICON_NAME);\n    const infoSection = new InfoSection_BoxLayout({\n        vertical: true\n    });\n    [channelInfoItem, songInfoItem].forEach(infoItem => {\n        infoSection.add_child(infoItem.actor);\n    });\n    function createInfoItem(iconName) {\n        const iconMenuItem = createIconMenuItem({\n            iconName,\n            maxCharNumber: MAX_STRING_LENGTH,\n        });\n        return iconMenuItem;\n    }\n    function setChannel(channeName) {\n        channelInfoItem.setText(channeName);\n    }\n    function setSongTitle(songTitle) {\n        songInfoItem.setText(songTitle);\n    }\n    return {\n        actor: infoSection,\n        setSongTitle,\n        setChannel\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/ControlBtn.ts\n\nconst { Button, Icon: ControlBtn_Icon, IconType: ControlBtn_IconType } = imports.gi.St;\nconst { Tooltip: ControlBtn_Tooltip } = imports.ui.tooltips;\nfunction createControlBtn(args) {\n    const { iconName, tooltipTxt, onClick } = args;\n    const icon = new ControlBtn_Icon({\n        icon_type: ControlBtn_IconType.SYMBOLIC,\n        icon_name: iconName,\n        style_class: 'popup-menu-icon' // this specifies the icon-size\n    });\n    const btn = new Button({\n        reactive: true,\n        can_focus: true,\n        // It is challenging to get a reasonable style on all themes. I have tried using the 'sound-player-overlay' class but didn't get it working. However might be possible anyway.  \n        style_class: \"popup-menu-item\",\n        style: \"width:20px; padding:10px!important\",\n        child: icon\n    });\n    createActivWidget({\n        widget: btn,\n        onActivated: onClick\n    });\n    const tooltip = new ControlBtn_Tooltip(btn, tooltipTxt);\n    return {\n        actor: btn,\n        icon,\n        tooltip\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/PlayPauseButton.ts\n\n\nfunction createPlayPauseButton(args) {\n    const { onClick } = args;\n    const controlBtn = createControlBtn({\n        iconName: PLAY_ICON_NAME,\n        tooltipTxt: 'Play',\n        onClick\n    });\n    /**\n     *\n     * @param playPause he current state of the radio, which means that the opposite is shown (e.g. when the radio is playing, it is shown a pause item)\n     *\n     */\n    function setPlaybackStatus(playPause) {\n        let tooltipTxt;\n        let iconName;\n        if (playPause === 'Playing') {\n            tooltipTxt = 'Pause';\n            iconName = PAUSE_ICON_NAME;\n        }\n        if (playPause === 'Paused') {\n            tooltipTxt = 'Play';\n            iconName = PLAY_ICON_NAME;\n        }\n        controlBtn.tooltip.set_text(tooltipTxt);\n        controlBtn.icon.icon_name = iconName;\n    }\n    return {\n        actor: controlBtn.actor,\n        setPlaybackStatus\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/CopyButton.ts\n\n\nfunction createCopyButton(args) {\n    const { onClick } = args;\n    const defaultTooltipTxt = \"Copy current song title to Clipboard\";\n    const controlBtn = createControlBtn({\n        iconName: COPY_ICON_NAME,\n        tooltipTxt: defaultTooltipTxt,\n        onClick: handleClick\n    });\n    function handleClick() {\n        controlBtn.tooltip.show();\n        onClick();\n        // showCopyInTooltip()\n    }\n    // For some reasons I don't understand, this function has stopped working after refactoring the popup Menu. No idea how to debug this. Therefore deactivating this for now :-(. It is thrown an  warning when clicking on the button but this has nothing to do with the tooltip\n    function showCopyInTooltip() {\n        const tooltip = controlBtn.tooltip;\n        tooltip.set_text(\"Copied\");\n        tooltip.show();\n        setTimeout(() => {\n            tooltip.hide();\n            tooltip.set_text(defaultTooltipTxt);\n        }, 500);\n    }\n    return {\n        actor: controlBtn.actor,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/DonwloadButton.ts\n\n\nfunction createDownloadButton(args) {\n    const { onClick } = args;\n    const downloadButton = createControlBtn({\n        iconName: DOWNLOAD_ICON_NAME,\n        tooltipTxt: \"Download current song from Youtube\",\n        onClick\n    });\n    return {\n        actor: downloadButton.actor\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/MediaControlToolbar.ts\nconst { BoxLayout: MediaControlToolbar_BoxLayout } = imports.gi.St;\nconst { ActorAlign: MediaControlToolbar_ActorAlign } = imports.gi.Clutter;\nconst createMediaControlToolbar = (args) => {\n    const { controlBtns } = args;\n    const toolbar = new MediaControlToolbar_BoxLayout({\n        style_class: \"radio-applet-media-control-toolbar\",\n        x_align: MediaControlToolbar_ActorAlign.CENTER\n    });\n    controlBtns.forEach(btn => toolbar.add_child(btn));\n    return toolbar;\n};\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/StopButton.ts\n\n\nfunction createStopBtn(args) {\n    const { onClick } = args;\n    const stopBtn = createControlBtn({\n        iconName: STOP_ICON_NAME,\n        tooltipTxt: \"Stop\",\n        onClick\n    });\n    return {\n        actor: stopBtn.actor\n    };\n}\n\n;// CONCATENATED MODULE: ./src/functions/copyText.ts\nconst { Clipboard, ClipboardType } = imports.gi.St;\nfunction copyText(text) {\n    Clipboard.get_default().set_text(ClipboardType.CLIPBOARD, text);\n}\n\n;// CONCATENATED MODULE: ./src/ui/Seeker.ts\n\n\n\nconst { BoxLayout: Seeker_BoxLayout, Label: Seeker_Label } = imports.gi.St;\nfunction createSeeker(args) {\n    const { onPositionChanged } = args;\n    const container = new Seeker_BoxLayout({\n        style_class: POPUP_MENU_ITEM_CLASS\n    });\n    createActivWidget({\n        widget: container\n    });\n    // length in seconds\n    let length = 100;\n    // position in seconds\n    let position;\n    const positionLabel = new Seeker_Label();\n    const lengthLabel = new Seeker_Label();\n    const slider = createSlider({\n        initialValue: 0.5,\n        onValueChanged: handleValueChanged\n    });\n    [positionLabel, slider.actor, lengthLabel].forEach(widget => {\n        container.add_child(widget);\n    });\n    /** @param value in seconds */\n    function setLength(value) {\n        length = value;\n        lengthLabel.set_text(secondsToFormatedMin(value));\n        refreshSliderValue();\n    }\n    /** @param value in seconds */\n    function setPosition(value) {\n        position = value;\n        positionLabel.set_text(secondsToFormatedMin(position));\n        refreshSliderValue();\n    }\n    function refreshSliderValue() {\n        const sliderValue = length === 0 ? 0 : Math.min(position / length, 1);\n        slider.setValue(sliderValue, true);\n    }\n    function handleValueChanged(value) {\n        const newPosition = value * length;\n        onPositionChanged(newPosition);\n    }\n    /**\n     * converts seconds to a string in the form of: mm:ss\n     *\n     * e.g. 10 seconds = 00:10, 100 seconds = 01:40,  6000 seconds = 100:00\n     *      *\n     * @param seconds\n     * @returns\n     */\n    function secondsToFormatedMin(seconds) {\n        const minutes = Math.floor(seconds / 60);\n        const remainingSeconds = seconds - minutes * 60;\n        // ensures minutes and seconds are shown with at least two digits\n        return [minutes, remainingSeconds].map(value => {\n            const valueString = value.toString().padStart(2, '0');\n            return valueString;\n        }).join(\":\");\n    }\n    return {\n        actor: container,\n        setLength,\n        setPosition\n    };\n}\n\n;// CONCATENATED MODULE: ./src/lib/PopupSeperator.ts\nconst { BoxLayout: PopupSeperator_BoxLayout, DrawingArea: PopupSeperator_DrawingArea } = imports.gi.St;\nconst { LinearGradient } = imports.gi.cairo;\nfunction createSeparatorMenuItem() {\n    const container = new PopupSeperator_BoxLayout({\n        style_class: 'popup-menu-item'\n    });\n    const drawingArea = new PopupSeperator_DrawingArea({\n        style_class: 'popup-separator-menu-item',\n        x_expand: true\n    });\n    container.add_child(drawingArea);\n    drawingArea.connect('repaint', () => {\n        const cr = drawingArea.get_context();\n        const themeNode = drawingArea.get_theme_node();\n        const [width, height] = drawingArea.get_surface_size();\n        const margin = themeNode.get_length('-margin-horizontal');\n        const gradientHeight = themeNode.get_length('-gradient-height');\n        const startColor = themeNode.get_color('-gradient-start');\n        const endColor = themeNode.get_color('-gradient-end');\n        const gradientWidth = (width - margin * 2);\n        const gradientOffset = (height - gradientHeight) / 2;\n        const pattern = new LinearGradient(margin, gradientOffset, width - margin, gradientOffset + gradientHeight);\n        // TODO\n        // const colors = ['red', 'green', 'blue', 'alpha'].map(color => startColor[color] / 255)\n        // https://github.com/microsoft/TypeScript/issues/4130#issuecomment-499525897\n        pattern.addColorStopRGBA(0, startColor.red / 255, startColor.green / 255, startColor.blue / 255, startColor.alpha / 255);\n        pattern.addColorStopRGBA(0.5, endColor.red / 255, endColor.green / 255, endColor.blue / 255, endColor.alpha / 255);\n        pattern.addColorStopRGBA(1, startColor.red / 255, startColor.green / 255, startColor.blue / 255, startColor.alpha / 255);\n        cr.setSource(pattern);\n        cr.rectangle(margin, gradientOffset, gradientWidth, gradientHeight);\n        cr.fill();\n        cr.$dispose;\n    });\n    return container;\n}\n\n;// CONCATENATED MODULE: ./src/functions/promiseHelpers.ts\nconst { spawnCommandLineAsyncIO } = imports.misc.util;\nconst spawnCommandLinePromise = function (command) {\n    return new Promise((resolve, reject) => {\n        spawnCommandLineAsyncIO(command, (stdout, stderr, exitCode) => {\n            (stdout) ? resolve([null, stdout, 0]) : resolve([stderr, null, exitCode]);\n        });\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/NotificationBase.ts\nconst { SystemNotificationSource, Notification } = imports.ui.messageTray;\nconst { messageTray } = imports.ui.main;\nconst { Icon: NotificationBase_Icon, IconType: NotificationBase_IconType } = imports.gi.St;\n\nconst messageSource = new SystemNotificationSource('Radio Applet');\nmessageTray.add(messageSource);\nfunction createBasicNotification(args) {\n    const { notificationText, isMarkup = false, transient = true } = args;\n    const icon = new NotificationBase_Icon({\n        icon_type: NotificationBase_IconType.SYMBOLIC,\n        icon_name: RADIO_SYMBOLIC_ICON_NAME,\n        icon_size: 25\n    });\n    const notification = new Notification(messageSource, __meta.name, notificationText, { icon, bodyMarkup: isMarkup });\n    notification.setTransient(transient);\n    notification.notify = () => {\n        messageSource.notify(notification);\n    };\n    return notification;\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/GenericNotification.ts\n\nfunction notify(args) {\n    const { text } = args;\n    const notification = createBasicNotification({\n        notificationText: text\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/mpv/CheckInstallation.ts\n\n\n\nconst { find_program_in_path, file_test, FileTest } = imports.gi.GLib;\nasync function installMpvWithMpris() {\n    const mprisPluginDownloaded = checkMprisPluginDownloaded();\n    const mpvInstalled = checkMpvInstalled();\n    !mprisPluginDownloaded && await downloadMrisPluginInteractive();\n    if (!mpvInstalled) {\n        const notificationText = `Please ${mprisPluginDownloaded ? '' : 'also'} install the mpv package.`;\n        notify({ text: notificationText });\n        await installMpvInteractive();\n    }\n}\nfunction checkMpvInstalled() {\n    return find_program_in_path('mpv');\n}\nfunction checkMprisPluginDownloaded() {\n    return file_test(MPRIS_PLUGIN_PATH, FileTest.IS_REGULAR);\n}\nfunction installMpvInteractive() {\n    return new Promise(async (resolve, reject) => {\n        if (checkMpvInstalled())\n            return resolve();\n        if (!find_program_in_path(\"apturl\"))\n            return reject();\n        const [stderr, stdout, exitCode] = await spawnCommandLinePromise(`\n            apturl apt://mpv`);\n        // exitCode 0 means sucessfully. See: man apturl\n        return (exitCode === 0) ? resolve() : reject(stderr);\n    });\n}\nfunction downloadMrisPluginInteractive() {\n    return new Promise(async (resolve, reject) => {\n        if (checkMprisPluginDownloaded()) {\n            return resolve();\n        }\n        let [stderr, stdout, exitCode] = await spawnCommandLinePromise(`python3  ${__meta.path}/download-dialog-mpris.py`);\n        if (stdout.trim() !== 'Continue') {\n            return reject();\n        }\n        [stderr, stdout, exitCode] = await spawnCommandLinePromise(`\n            wget ${MPRIS_PLUGIN_URL} -O ${MPRIS_PLUGIN_PATH}`);\n        // Wget always prints to stderr - exitcode 0 means it was sucessfull \n        // see:  https://stackoverflow.com/questions/13066518/why-does-wget-output-to-stderr-rather-than-stdout\n        // and https://www.gnu.org/software/wget/manual/html_node/Exit-Status.html\n        return (exitCode === 0) ? resolve() : reject(stderr);\n    });\n}\n\n;// CONCATENATED MODULE: ./src/functions/downloadFromYoutube.ts\nconst { spawnCommandLineAsyncIO: downloadFromYoutube_spawnCommandLineAsyncIO } = imports.misc.util;\nconst { get_home_dir: downloadFromYoutube_get_home_dir } = imports.gi.GLib;\nfunction downloadSongFromYoutube(args) {\n    const { title, downloadDir, onDownloadFinished, onDownloadFailed } = args;\n    let hasBeenCancelled = false;\n    // when using the default value of the settings, the dir starts with ~ what can't be understand when executing command. Else it starts with file:// what youtube-dl can't handle. Saving to network directories (e.g. ftp) doesn't work \n    // TODO: Shouldn't this be done in configs(at least replacing ~)? \n    const music_dir_absolut = downloadDir.replace('~', downloadFromYoutube_get_home_dir()).replace('file://', '');\n    const downloadCommand = `\n        youtube-dl --output \"${music_dir_absolut}/%(title)s.%(ext)s\" --extract-audio --audio-format mp3 ytsearch1:\"${title.replace('\"', '\\\"')}\" --add-metadata --embed-thumbnail`;\n    const process = downloadFromYoutube_spawnCommandLineAsyncIO(downloadCommand, (stdout, stderr) => {\n        try {\n            if (hasBeenCancelled) {\n                hasBeenCancelled = false;\n                return;\n            }\n            if (stderr)\n                throw new Error(stderr);\n            if (stdout) {\n                const downloadPath = getDownloadPath(stdout);\n                if (!downloadPath)\n                    throw new Error('File not saved');\n                onDownloadFinished(downloadPath);\n            }\n        }\n        catch (error) {\n            global.logError(`The following error occured at youtube download attempt: ${error}. The used download Command was: ${downloadCommand}`);\n            onDownloadFailed();\n        }\n    });\n    function cancel() {\n        hasBeenCancelled = true;\n        // it seems to be no problem to call this after the process has already finished\n        process.force_exit();\n    }\n    return { cancel };\n}\nfunction getDownloadPath(stdout) {\n    const arrayOfLines = stdout.match(/[^\\r\\n]+/g);\n    // there is only one line in stdout which gives the path of the downloaded mp3. This start with [ffmpeg] Destination ...\n    const searchString = '[ffmpeg] Destination: ';\n    return arrayOfLines.find(line => line.includes(searchString))\n        .split(searchString)[1];\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/YoutubeDownloadFailedNotification.ts\n\n\nconst { spawnCommandLine: YoutubeDownloadFailedNotification_spawnCommandLine } = imports.misc.util;\nconst { get_home_dir: YoutubeDownloadFailedNotification_get_home_dir } = imports.gi.GLib;\nfunction notifyYoutubeDownloadFailed() {\n    const notificationText = `Couldn't download Song from Youtube due to an Error. Make Sure you have the newest version of youtube-dl installed. \n        \\n<b>Important:</b> Don't use apt for the installation but follow the installation instruction given on the Radio Applet Site in the Cinnamon Store instead\n        \\nFor more information see the logs`;\n    const notification = createBasicNotification({\n        notificationText,\n        isMarkup: true,\n        transient: false\n    });\n    const viewStoreBtnId = 'viewStoreBtn';\n    const viewLogBtnId = 'viewLogBtn';\n    notification.addButton(viewStoreBtnId, 'View Installation Instruction');\n    notification.addButton(viewLogBtnId, \"View Logs\");\n    notification.connect('action-invoked', (actor, id) => {\n        if (id === viewStoreBtnId) {\n            YoutubeDownloadFailedNotification_spawnCommandLine(`xdg-open ${APPLET_SITE} `);\n        }\n        if (id === viewLogBtnId) {\n            YoutubeDownloadFailedNotification_spawnCommandLine(`xdg-open ${YoutubeDownloadFailedNotification_get_home_dir()}/.xsession-errors`);\n        }\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/YoutubeDownloadFinishedNotification.ts\n\nconst { spawnCommandLine: YoutubeDownloadFinishedNotification_spawnCommandLine } = imports.misc.util;\nfunction notifyYoutubeDownloadFinished(args) {\n    const { downloadPath } = args;\n    const notification = createBasicNotification({\n        notificationText: `Download finished. File saved to ${downloadPath}`\n    });\n    const playBtnId = 'openBtn';\n    notification.addButton(playBtnId, 'Play');\n    notification.connect('action-invoked', (actor, id) => {\n        if (id === playBtnId) {\n            YoutubeDownloadFinishedNotification_spawnCommandLine(`xdg-open '${downloadPath}'`);\n        }\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/YoutubeDownloadStartedNotification.ts\n\nfunction notifyYoutubeDownloadStarted(args) {\n    const { title, onCancelClicked } = args;\n    const notification = createBasicNotification({\n        notificationText: `Downloading ${title} ...`,\n    });\n    const cancelBtnId = 'cancelBtn';\n    notification.addButton(cancelBtnId, 'Cancel');\n    notification.connect('action-invoked', (actor, id) => {\n        if (id === cancelBtnId)\n            onCancelClicked();\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst { ScrollDirection: src_ScrollDirection } = imports.gi.Clutter;\nconst { getAppletDefinition } = imports.ui.appletManager;\nconst { panelManager: src_panelManager } = imports.ui.main;\nconst { BoxLayout: src_BoxLayout } = imports.gi.St;\nfunction main(args) {\n    const { orientation, panelHeight, instanceId } = args;\n    // this is a workaround for now. Optimally the lastVolume should be saved persistently each time the volume is changed but this lead to significant performance issue on scrolling at the moment. However this shouldn't be the case as it is no problem to log the volume each time the volume changes (so it is a problem in the config implementation). As a workaround the volume is only saved persistently when the radio stops but the volume obviously can't be received anymore from dbus when the player has been already stopped ... \n    let lastVolume;\n    let mpvHandler;\n    let installationInProgress = false;\n    const appletDefinition = getAppletDefinition({\n        applet_id: instanceId,\n    });\n    const panel = src_panelManager.panels.find(panel => (panel === null || panel === void 0 ? void 0 : panel.panelId) === appletDefinition.panelId);\n    panel.connect('icon-size-changed', () => appletIcon.updateIconSize());\n    const appletIcon = createAppletIcon({\n        locationLabel: appletDefinition.location_label,\n        panel\n    });\n    const appletLabel = createAppletLabel();\n    const applet = createApplet({\n        icon: appletIcon.actor,\n        label: appletLabel.actor,\n        instanceId,\n        orientation,\n        panelHeight,\n        onClick: handleAppletClicked,\n        onScroll: handleScroll,\n        onMiddleClick: () => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.togglePlayPause(),\n        onAppletMoved: () => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.deactivateAllListener(),\n        onAppletRemoved: handleAppletRemoved,\n        onRightClick: () => popupMenu === null || popupMenu === void 0 ? void 0 : popupMenu.close()\n    });\n    const appletTooltip = createAppletTooltip({\n        applet,\n        orientation\n    });\n    const configs = createConfig({\n        uuid: __meta.uuid,\n        instanceId,\n        onIconChanged: handleIconTypeChanged,\n        onIconColorPlayingChanged: (color) => {\n            appletIcon.setColorWhenPlaying(color);\n        },\n        onIconColorPausedChanged: (color) => {\n            appletIcon.setColorWhenPaused(color);\n        },\n        onChannelOnPanelChanged: (channelOnPanel) => {\n            appletLabel.setVisibility(channelOnPanel);\n        },\n        onMyStationsChanged: handleStationsUpdated,\n    });\n    const channelStore = new ChannelStore(configs.userStations);\n    const channelList = createChannelList({\n        stationNames: channelStore.activatedChannelNames,\n        onChannelClicked: handleChannelClicked\n    });\n    const volumeSlider = createVolumeSlider({\n        onVolumeChanged: (volume) => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.setVolume(volume)\n    });\n    const popupMenu = createPopupMenu({ launcher: applet.actor });\n    const infoSection = createInfoSection();\n    //toolbar\n    const playPauseBtn = createPlayPauseButton({\n        onClick: () => mpvHandler.togglePlayPause()\n    });\n    const stopBtn = createStopBtn({\n        onClick: () => mpvHandler.stop()\n    });\n    const downloadBtn = createDownloadButton({\n        onClick: handleDownloadBtnClicked\n    });\n    const copyBtn = createCopyButton({\n        onClick: () => copyText(mpvHandler.getCurrentTitle())\n    });\n    const mediaControlToolbar = createMediaControlToolbar({\n        controlBtns: [playPauseBtn.actor, downloadBtn.actor, copyBtn.actor, stopBtn.actor]\n    });\n    const seeker = createSeeker({\n        onPositionChanged: (value) => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.setPosition(value)\n    });\n    const radioActiveSection = new src_BoxLayout({\n        vertical: true,\n        visible: false\n    });\n    [\n        infoSection.actor,\n        mediaControlToolbar,\n        volumeSlider.actor,\n        seeker.actor\n    ].forEach(widget => {\n        radioActiveSection.add_child(createSeparatorMenuItem());\n        radioActiveSection.add_child(widget);\n    });\n    popupMenu.add_child(channelList.actor);\n    popupMenu.add_child(radioActiveSection);\n    mpvHandler = createMpvHandler({\n        getInitialVolume: () => { return configs.initialVolume; },\n        onVolumeChanged: handleVolumeChanged,\n        onLengthChanged: hanldeLengthChanged,\n        onPositionChanged: handlePositionChanged,\n        checkUrlValid: (url) => channelStore.checkUrlValid(url),\n        onTitleChanged: handleTitleChanged,\n        onPlaybackstatusChanged: handlePlaybackstatusChanged,\n        lastUrl: configs.lastUrl,\n        onUrlChanged: handleUrlChanged\n    });\n    // CALLBACKS\n    async function handleAppletClicked() {\n        if (installationInProgress)\n            return;\n        try {\n            installationInProgress = true;\n            await installMpvWithMpris();\n            popupMenu.toggle();\n        }\n        catch (error) {\n            const notificationText = \"Couldn't start the applet. Make sure mpv is installed and the mpv mpris plugin saved in the configs folder.\";\n            notify({ text: notificationText });\n            global.logError(error);\n        }\n        finally {\n            installationInProgress = false;\n        }\n    }\n    function handleAppletRemoved() {\n        mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.deactivateAllListener();\n        mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.stop();\n    }\n    function handleScroll(scrollDirection) {\n        const volumeChange = scrollDirection === src_ScrollDirection.UP ? VOLUME_DELTA : -VOLUME_DELTA;\n        mpvHandler.increaseDecreaseVolume(volumeChange);\n    }\n    function handleChannelClicked(name) {\n        const channelUrl = channelStore.getChannelUrl(name);\n        mpvHandler.setUrl(channelUrl);\n    }\n    function handleTitleChanged(title) {\n        infoSection.setSongTitle(title);\n    }\n    function handleVolumeChanged(volume) {\n        volumeSlider.setVolume(volume);\n        appletTooltip.setVolume(volume);\n        lastVolume = volume;\n    }\n    function handleIconTypeChanged(iconType) {\n        appletIcon.setIconType(iconType);\n    }\n    function handleStationsUpdated(stations) {\n        const stationsChanged = channelStore.checkListChanged(stations);\n        if (!stationsChanged)\n            return;\n        channelStore.channelList = stations;\n        channelList.setStationNames(channelStore.activatedChannelNames);\n        const lastUrlValid = channelStore.checkUrlValid(configs.lastUrl);\n        if (!lastUrlValid)\n            mpvHandler.stop();\n    }\n    function handlePlaybackstatusChanged(playbackstatus) {\n        if (playbackstatus === 'Stopped') {\n            radioActiveSection.hide();\n            configs.lastVolume = lastVolume;\n            configs.lastUrl = null;\n            appletLabel.setText(null);\n            handleVolumeChanged(null);\n            popupMenu.close();\n        }\n        if (playbackstatus !== 'Stopped' && !radioActiveSection.visible)\n            radioActiveSection.show();\n        channelList.setPlaybackStatus(playbackstatus);\n        appletIcon.setPlaybackStatus(playbackstatus);\n        if (playbackstatus === 'Playing' || playbackstatus === 'Paused') {\n            playPauseBtn.setPlaybackStatus(playbackstatus);\n        }\n    }\n    function handleUrlChanged(url) {\n        const channelName = url ? channelStore.getChannelName(url) : null;\n        appletLabel.setText(channelName);\n        channelList.setCurrentChannel(channelName);\n        infoSection.setChannel(channelName);\n        configs.lastUrl = url;\n    }\n    function hanldeLengthChanged(length) {\n        seeker.setLength(length);\n    }\n    function handlePositionChanged(position) {\n        seeker === null || seeker === void 0 ? void 0 : seeker.setPosition(position);\n    }\n    function handleDownloadBtnClicked() {\n        const title = mpvHandler.getCurrentTitle();\n        const downloadProcess = downloadSongFromYoutube({\n            downloadDir: configs.musicDownloadDir,\n            title,\n            onDownloadFinished: (path) => notifyYoutubeDownloadFinished({\n                downloadPath: path\n            }),\n            onDownloadFailed: notifyYoutubeDownloadFailed\n        });\n        notifyYoutubeDownloadStarted({\n            title,\n            onCancelClicked: () => downloadProcess.cancel()\n        });\n    }\n    return applet;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9jb25zdHMudHM/YzZlYyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9BcHBsZXQvQXBwbGV0SWNvbi50cz9iMDA1Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0FwcGxldC9BcHBsZXQudHM/YTMzMSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9tcHYvTXB2SGFuZGxlci50cz8wYWM3Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL0NvbmZpZy50cz9mMmNmIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0FwcGxldC9BcHBsZXRMYWJlbC50cz8zOTNkIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0FwcGxldC9BcHBsZXRUb29sdGlwLnRzP2E1M2UiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvQ2hhbm5lbFN0b3JlLnRzP2JiYjEiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbGliL0FjdGl2V2lkZ2V0LnRzPzAzMGIiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbGliL1BvcHVwU3ViTWVudS50cz9kYjlhIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2Z1bmN0aW9ucy9saW1pdFN0cmluZy50cz83ODE2Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2xpYi9JY29uTWVudUl0ZW0udHM/YTIzMyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9DaGFubmVsTGlzdC9DaGFubmVsTWVudUl0ZW0udHM/OGEzNiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9DaGFubmVsTGlzdC9DaGFubmVsTGlzdC50cz81ZWQ4Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2xpYi9TbGlkZXIudHM/MDA4NyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Wb2x1bWVTbGlkZXIudHM/YzBlNSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9saWIvUG9wdXBNZW51LnRzPzEwM2UiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvSW5mb1NlY3Rpb24udHM/OTY1ZiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ub29sYmFyL0NvbnRyb2xCdG4udHM/YWJkNSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ub29sYmFyL1BsYXlQYXVzZUJ1dHRvbi50cz82YWI2Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL1Rvb2xiYXIvQ29weUJ1dHRvbi50cz81ZjljIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL1Rvb2xiYXIvRG9ud2xvYWRCdXR0b24udHM/ZDhkZCIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ub29sYmFyL01lZGlhQ29udHJvbFRvb2xiYXIudHM/YTM0NCIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ub29sYmFyL1N0b3BCdXR0b24udHM/YjQ0ZiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9mdW5jdGlvbnMvY29weVRleHQudHM/YmRiNyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9TZWVrZXIudHM/MTNiMiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9saWIvUG9wdXBTZXBlcmF0b3IudHM/NDViNyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9mdW5jdGlvbnMvcHJvbWlzZUhlbHBlcnMudHM/N2U1ZSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ob3RpZmljYXRpb25zL05vdGlmaWNhdGlvbkJhc2UudHM/ZDUzYyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ob3RpZmljYXRpb25zL0dlbmVyaWNOb3RpZmljYXRpb24udHM/M2ZmOCIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9tcHYvQ2hlY2tJbnN0YWxsYXRpb24udHM/Zjk1ZCIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9mdW5jdGlvbnMvZG93bmxvYWRGcm9tWW91dHViZS50cz8zZWQyIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL05vdGlmaWNhdGlvbnMvWW91dHViZURvd25sb2FkRmFpbGVkTm90aWZpY2F0aW9uLnRzP2JiMDgiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvTm90aWZpY2F0aW9ucy9Zb3V0dWJlRG93bmxvYWRGaW5pc2hlZE5vdGlmaWNhdGlvbi50cz9kMmNiIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL05vdGlmaWNhdGlvbnMvWW91dHViZURvd25sb2FkU3RhcnRlZE5vdGlmaWNhdGlvbi50cz9iYmY1Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2luZGV4LnRzP2ZmYjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFNLEVBQUUsWUFBWSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFFbEMsTUFBTSxXQUFXLEdBQUcsd0RBQXdEO0FBRTVFLE1BQU0sbUJBQW1CLEdBQUcsU0FBUztBQUNyQyxNQUFNLFVBQVUsR0FBRyxHQUFHLFlBQVksRUFBRSxzQkFBc0IsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3hFLE1BQU0saUJBQWlCLEdBQUcsVUFBVSxHQUFHLFlBQVk7QUFDbkQsTUFBTSxnQkFBZ0IsR0FBRyxtRUFBbUU7QUFFNUYsTUFBTSxtQkFBbUIsR0FBRyx3QkFBd0IsQ0FBQztBQUNyRCxNQUFNLDBCQUEwQixHQUFHLCtCQUErQixDQUFDO0FBQ25FLE1BQU0sbUJBQW1CLEdBQUcseUJBQXlCLENBQUM7QUFDdEQsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLG1CQUFtQixNQUFNO0FBQ3ZELE1BQU0sWUFBWSxHQUFHLGtCQUFrQjtBQUV2QyxNQUFNLGlCQUFpQixH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MkI7U0FDaEQsQ0FBQztRQUVGLDRCQUE0QixDQUFDO1lBQ3pCLEtBQUs7WUFDTCxlQUFlLEVBQUUsR0FBRyxFQUFFLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRTtTQUNsRCxDQUFDO0lBQ04sQ0FBQztJQUVELE9BQU8sTUFBTTtBQUVqQixDQUFDIiwiZmlsZSI6IjM5Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZ2V0X2hvbWVfZGlyIH0gPSBpbXBvcnRzLmdpLkdMaWI7XG5cbmV4cG9ydCBjb25zdCBBUFBMRVRfU0lURSA9ICdodHRwczovL2Npbm5hbW9uLXNwaWNlcy5saW51eG1pbnQuY29tL2FwcGxldHMvdmlldy8yOTcnXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RPT0xUSVBfVFhUID0gJ1JhZGlvKysnXG5leHBvcnQgY29uc3QgQ09ORklHX0RJUiA9IGAke2dldF9ob21lX2RpcigpfS8uY2lubmFtb24vY29uZmlncy8ke19fbWV0YS51dWlkfWA7XG5leHBvcnQgY29uc3QgTVBSSVNfUExVR0lOX1BBVEggPSBDT05GSUdfRElSICsgJy8ubXByaXMuc28nXG5leHBvcnQgY29uc3QgTVBSSVNfUExVR0lOX1VSTCA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2hveW9uL21wdi1tcHJpcy9yZWxlYXNlcy9kb3dubG9hZC8wLjUvbXByaXMuc29cIlxuXG5leHBvcnQgY29uc3QgTUVESUFfUExBWUVSXzJfTkFNRSA9IFwib3JnLm1wcmlzLk1lZGlhUGxheWVyMlwiO1xuZXhwb3J0IGNvbnN0IE1FRElBX1BMQVlFUl8yX1BMQVlFUl9OQU1FID0gXCJvcmcubXByaXMuTWVkaWFQbGF5ZXIyLlBsYXllclwiO1xuZXhwb3J0IGNvbnN0IE1FRElBX1BMQVlFUl8yX1BBVEggPSBcIi9vcmcvbXByaXMvTWVkaWFQbGF5ZXIyXCI7XG5leHBvcnQgY29uc3QgTVBWX01QUklTX0JVU19OQU1FID0gYCR7TUVESUFfUExBWUVSXzJfTkFNRX0ubXB2YFxuZXhwb3J0IGNvbnN0IE1QVl9DVkNfTkFNRSA9ICdtcHYgTWVkaWEgUGxheWVyJ1xuXG5leHBvcnQgY29uc3QgTUFYX1NUUklOR19MRU5HVEggPSA0MFxuXG4vKiogaW4gcGVyY2VudCAqL1xuZXhwb3J0IGNvbnN0IE1BWF9WT0xVTUUgPSAxMDAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9saW51eG1pbnQvY2lubmFtb24tc3BpY2VzLWFwcGxldHMvaXNzdWVzLzM0MDIjaXNzdWVjb21tZW50LTc1NjQzMDc1NCBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhpcyB2YWx1ZVxuXG4vKiogaW4gcGVyY2VudCAqL1xuZXhwb3J0IGNvbnN0IFZPTFVNRV9ERUxUQSA9IDVcblxuXG4vLyBTVFlMRSBDTEFTU0VTIFxuZXhwb3J0IGNvbnN0IFBPUFVQX0lDT05fQ0xBU1MgPSAncG9wdXAtbWVudS1pY29uJ1xuZXhwb3J0IGNvbnN0IFBPUFVQX01FTlVfSVRFTV9DTEFTUyA9ICdwb3B1cC1tZW51LWl0ZW0nXG5cbi8vIElDT05TXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm9sdW1lSWNvbihhcmdzOiB7IHZvbHVtZTogbnVtYmVyIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICAgIHZvbHVtZVxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBWT0xVTUVfSUNPTl9QUkVGSVggPSAnYXVkaW8tdm9sdW1lJ1xuXG4gICAgY29uc3QgVk9MVU1FX0lDT05TID0gW1xuICAgICAgICB7IG1heDogMCwgbmFtZTogYCR7Vk9MVU1FX0lDT05fUFJFRklYfS1tdXRlZGAgfSxcbiAgICAgICAgeyBtYXg6IDMzLCBuYW1lOiBgJHtWT0xVTUVfSUNPTl9QUkVGSVh9LWxvd2AgfSxcbiAgICAgICAgeyBtYXg6IDY2LCBuYW1lOiBgJHtWT0xVTUVfSUNPTl9QUkVGSVh9LW1lZGl1bWAgfSxcbiAgICAgICAgeyBtYXg6IDEwMCwgbmFtZTogYCR7Vk9MVU1FX0lDT05fUFJFRklYfS1oaWdoYCB9LFxuICAgIF1cblxuICAgIGlmICh2b2x1bWUgPCAwIHx8IHZvbHVtZSA+IDEwMClcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3ZvbHVtZSBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCAxMDAnKVxuXG4gICAgY29uc3QgaW5kZXggPSBWT0xVTUVfSUNPTlMuZmluZEluZGV4KCh7IG1heCwgLi4ucmVzdCB9KSA9PiB7XG4gICAgICAgIHJldHVybiB2b2x1bWUgPD0gbWF4XG4gICAgfSlcblxuICAgIHJldHVybiBWT0xVTUVfSUNPTlNbaW5kZXhdLm5hbWVcbn1cblxuZXhwb3J0IGNvbnN0IFJBRElPX1NZTUJPTElDX0lDT05fTkFNRSA9ICdyYWRpb2FwcGxldCdcblxuY29uc3QgUExBWUJBQ0tfSUNPTl9QUkVGSVggPSAnbWVkaWEtcGxheWJhY2snXG5cbmV4cG9ydCBjb25zdCBQTEFZX0lDT05fTkFNRSA9IGAke1BMQVlCQUNLX0lDT05fUFJFRklYfS1zdGFydGBcbmV4cG9ydCBjb25zdCBQQVVTRV9JQ09OX05BTUUgPSBgJHtQTEFZQkFDS19JQ09OX1BSRUZJWH0tcGF1c2VgXG5leHBvcnQgY29uc3QgU1RPUF9JQ09OX05BTUUgPSBgJHtQTEFZQkFDS19JQ09OX1BSRUZJWH0tc3RvcGBcbmV4cG9ydCBjb25zdCBTT05HX0lORk9fSUNPTl9OQU1FID0gJ2F1ZGlvLXgtZ2VuZXJpYydcbmV4cG9ydCBjb25zdCBDT1BZX0lDT05fTkFNRSA9ICdlZGl0LWNvcHknXG5leHBvcnQgY29uc3QgRE9XTkxPQURfSUNPTl9OQU1FID0gJ3NvdXRoLWFycm93LXdlYXRoZXItc3ltYm9saWMnXG5leHBvcnQgY29uc3QgTE9BRElOR19JQ09OX05BTUUgPSAndmlldy1yZWZyZXNoLXN5bWJvbGljJyIsImltcG9ydCB7IFJBRElPX1NZTUJPTElDX0lDT05fTkFNRSwgTE9BRElOR19JQ09OX05BTUUgfSBmcm9tIFwiLi4vLi4vY29uc3RzXCJcbmltcG9ydCB7IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIEljb25UeXBlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCJcblxuY29uc3QgeyBJY29uLCBJY29uVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBJY29uVHlwZTogSWNvblR5cGVFbnVtIH0gPSBpbXBvcnRzLmdpLlN0XG5cblxuLy8gVE9ETyB0aGUgQXBwbGV0SWNvbiBzaG91bGRuJ3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyFcbi8vIEJldHRlciB0byBqdXN0IHBhc3MgdGhlIGljb25UeXBlIHNpemUgZm9yIGJvdGggZnVsbGNvbG9yIGFuZCBzeW1ib2xpYyBpY29uXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICAvLyBwYW5lbCBhbmQgbG9jYXRpb24gbGFiZWwgYXJlIG5lZWRlZCB0byBjYWxjIHRoZSBpY29uIHNpemVcbiAgICBwYW5lbDogaW1wb3J0cy51aS5wYW5lbC5QYW5lbCxcbiAgICBsb2NhdGlvbkxhYmVsOiBpbXBvcnRzLnVpLmFwcGxldE1hbmFnZXIuTG9jYXRpb25MYWJlbFxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcHBsZXRJY29uKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBwYW5lbCxcbiAgICAgICAgbG9jYXRpb25MYWJlbFxuICAgIH0gPSBhcmdzXG5cbiAgICBsZXQgcGxheWJhY2tTdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXNcblxuICAgIGNvbnN0IHBsYXliYWNrU3RhdHVzU3R5bGVNYXAgPSBuZXcgTWFwPEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIHN0cmluZz4oW1xuICAgICAgICBbJ1N0b3BwZWQnLCAnICddLFxuICAgICAgICBbJ0xvYWRpbmcnLCAnICddXG4gICAgXSlcblxuICAgIGNvbnN0IGljb24gPSBuZXcgSWNvbih7fSlcblxuICAgIGxldCBub3JtYWxJY29uVHlwZTogSWNvblR5cGVcblxuXG4gICAgLy8gdGhlIGljb24gdHlwZSBwYXNzZWQgZnJvbSBvdXRzaWRlIGlzIG92ZXJyaXRlbiB3aGVuIHRoZSBwbGF5YmFja3N0YXR1cyBpcyAnbG9hZGluZycgXG4gICAgZnVuY3Rpb24gc2V0SWNvblR5cGVJbnRlcm5hbChpY29uVHlwZUVudW06IGltcG9ydHMuZ2kuU3QuSWNvblR5cGUsIGljb25OYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWNvbi5zdHlsZV9jbGFzcyA9IGljb25UeXBlRW51bSA9PT0gSWNvblR5cGVFbnVtLlNZTUJPTElDID9cbiAgICAgICAgICAgICdzeXN0ZW0tc3RhdHVzLWljb24nIDogJ2FwcGxldC1pY29uJ1xuXG4gICAgICAgIGljb24uaWNvbl9uYW1lID0gaWNvbk5hbWVcbiAgICAgICAgaWNvbi5pY29uX3R5cGUgPSBpY29uVHlwZUVudW1cbiAgICAgICAgaWNvbi5pY29uX3NpemUgPSBwYW5lbC5nZXRQYW5lbFpvbmVJY29uU2l6ZShsb2NhdGlvbkxhYmVsLCBpY29uVHlwZUVudW0pXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzZXRJY29uVHlwZShpY29uVHlwZTogSWNvblR5cGUpIHtcblxuICAgICAgICBpZiAoIWljb25UeXBlKSByZXR1cm5cblxuICAgICAgICBsZXQgaWNvblR5cGVFbnVtOiBpbXBvcnRzLmdpLlN0Lkljb25UeXBlXG4gICAgICAgIGxldCBpY29uTmFtZTogc3RyaW5nXG4gICAgICAgIG5vcm1hbEljb25UeXBlID0gaWNvblR5cGVcblxuICAgICAgICBpZiAoaWNvblR5cGUgPT09ICdTWU1CT0xJQycpIHtcbiAgICAgICAgICAgIGljb25OYW1lID0gUkFESU9fU1lNQk9MSUNfSUNPTl9OQU1FXG4gICAgICAgICAgICBpY29uVHlwZUVudW0gPSBJY29uVHlwZUVudW0uU1lNQk9MSUNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGljb25OYW1lID0gYHJhZGlvYXBwbGV0LSR7aWNvblR5cGUudG9Mb3dlckNhc2UoKX1gXG4gICAgICAgICAgICBpY29uVHlwZUVudW0gPSBJY29uVHlwZUVudW0uRlVMTENPTE9SXG4gICAgICAgIH1cblxuICAgICAgICBzZXRJY29uVHlwZUludGVybmFsKGljb25UeXBlRW51bSwgaWNvbk5hbWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlSWNvblNpemUoKSB7XG4gICAgICAgIGNvbnN0IGljb25TaXplID0gcGFuZWwuZ2V0UGFuZWxab25lSWNvblNpemUobG9jYXRpb25MYWJlbCwgaWNvbi5pY29uX3R5cGUpXG4gICAgICAgIGljb24uaWNvbl9zaXplID0gaWNvblNpemVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDb2xvcldoZW5QYXVzZWQoY29sb3I6IHN0cmluZykge1xuICAgICAgICBwbGF5YmFja1N0YXR1c1N0eWxlTWFwLnNldCgnUGF1c2VkJywgYGNvbG9yOiAke2NvbG9yfWApXG5cbiAgICAgICAgaWYgKHBsYXliYWNrU3RhdHVzKSBzZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1cylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDb2xvcldoZW5QbGF5aW5nKGNvbG9yOiBzdHJpbmcpIHtcblxuICAgICAgICBwbGF5YmFja1N0YXR1c1N0eWxlTWFwLnNldCgnUGxheWluZycsIGBjb2xvcjogJHtjb2xvcn1gKVxuXG4gICAgICAgIGlmIChwbGF5YmFja1N0YXR1cykgc2V0UGxheWJhY2tTdGF0dXMocGxheWJhY2tTdGF0dXMpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UGxheWJhY2tTdGF0dXMobmV3UGxheWJhY2tTdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMpIHtcblxuICAgICAgICBwbGF5YmFja1N0YXR1cyA9IG5ld1BsYXliYWNrU3RhdHVzXG4gICAgICAgIGNvbnN0IHN0eWxlID0gcGxheWJhY2tTdGF0dXNTdHlsZU1hcC5nZXQocGxheWJhY2tTdGF0dXMpXG5cblxuICAgICAgICBpZiAobmV3UGxheWJhY2tTdGF0dXMgPT09ICdMb2FkaW5nJykge1xuICAgICAgICAgICAgc2V0SWNvblR5cGVJbnRlcm5hbChJY29uVHlwZUVudW0uU1lNQk9MSUMsIExPQURJTkdfSUNPTl9OQU1FKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0SWNvblR5cGUobm9ybWFsSWNvblR5cGUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0eWxlKSByZXR1cm5cblxuICAgICAgICBpY29uLnNldF9zdHlsZShzdHlsZSlcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogaWNvbixcbiAgICAgICAgc2V0UGxheWJhY2tTdGF0dXMsXG4gICAgICAgIHNldENvbG9yV2hlblBsYXlpbmcsXG4gICAgICAgIHNldENvbG9yV2hlblBhdXNlZCxcbiAgICAgICAgc2V0SWNvblR5cGUsXG4gICAgICAgIHVwZGF0ZUljb25TaXplXG4gICAgfVxuXG59IiwiY29uc3QgeyBBcHBsZXQsIEFsbG93ZWRMYXlvdXQgfSA9IGltcG9ydHMudWkuYXBwbGV0XG5jb25zdCB7IEJpbiB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBFdmVudFR5cGUgfSA9IGltcG9ydHMuZ2kuQ2x1dHRlclxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBpY29uOiBpbXBvcnRzLmdpLlN0Lkljb24sXG4gICAgbGFiZWw6IGltcG9ydHMuZ2kuU3QuTGFiZWwsXG4gICAgb3JpZW50YXRpb246IGltcG9ydHMuZ2kuU3QuU2lkZSxcbiAgICBwYW5lbEhlaWdodDogbnVtYmVyLFxuICAgIGluc3RhbmNlSWQ6IG51bWJlcixcbiAgICBvbkNsaWNrOiAoKSA9PiB2b2lkLFxuICAgIG9uU2Nyb2xsOiAoc2Nyb2xsRGlyZWN0aW9uOiBpbXBvcnRzLmdpLkNsdXR0ZXIuU2Nyb2xsRGlyZWN0aW9uKSA9PiB2b2lkLFxuICAgIG9uTWlkZGxlQ2xpY2s6ICgpID0+IHZvaWQsXG4gICAgb25SaWdodENsaWNrOiAoKSA9PiB2b2lkLFxuICAgIG9uQXBwbGV0TW92ZWQ6ICgpID0+IHZvaWQsXG4gICAgb25BcHBsZXRSZW1vdmVkOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcHBsZXQoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBwYW5lbEhlaWdodCxcbiAgICAgICAgaW5zdGFuY2VJZCxcbiAgICAgICAgaWNvbixcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIG9uQ2xpY2ssXG4gICAgICAgIG9uU2Nyb2xsLFxuICAgICAgICBvbk1pZGRsZUNsaWNrLFxuICAgICAgICBvbkFwcGxldE1vdmVkLFxuICAgICAgICBvbkFwcGxldFJlbW92ZWQsXG4gICAgICAgIG9uUmlnaHRDbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBhcHBsZXQgPSBuZXcgQXBwbGV0KG9yaWVudGF0aW9uLCBwYW5lbEhlaWdodCwgaW5zdGFuY2VJZCk7XG5cbiAgICBsZXQgYXBwbGV0UmVsb2FkZWQgPSBmYWxzZTtcblxuICAgIFtpY29uLCBsYWJlbF0uZm9yRWFjaCh3aWRnZXQgPT4ge1xuICAgICAgICBhcHBsZXQuYWN0b3IuYWRkX2NoaWxkKHdpZGdldClcbiAgICB9KVxuXG4gICAgYXBwbGV0Lm9uX2FwcGxldF9jbGlja2VkID0gb25DbGlja1xuICAgIGFwcGxldC5vbl9hcHBsZXRfbWlkZGxlX2NsaWNrZWQgPSBvbk1pZGRsZUNsaWNrXG4gICAgYXBwbGV0LnNldEFsbG93ZWRMYXlvdXQoQWxsb3dlZExheW91dC5CT1RIKVxuXG4gICAgYXBwbGV0Lm9uX2FwcGxldF9yZWxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBwbGV0UmVsb2FkZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgYXBwbGV0Lm9uX2FwcGxldF9yZW1vdmVkX2Zyb21fcGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwcGxldFJlbG9hZGVkID8gb25BcHBsZXRNb3ZlZCgpIDogb25BcHBsZXRSZW1vdmVkKClcbiAgICAgICAgYXBwbGV0UmVsb2FkZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIGFwcGxldC5hY3Rvci5jb25uZWN0KCdldmVudCcsIChhY3RvciwgZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUoKSAhPT0gRXZlbnRUeXBlLkJVVFRPTl9QUkVTUykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGV2ZW50LmdldF9idXR0b24oKSA9PT0gMykge1xuICAgICAgICAgICAgb25SaWdodENsaWNrKClcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgIGFwcGxldC5hY3Rvci5jb25uZWN0KCdzY3JvbGwtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIG9uU2Nyb2xsKGV2ZW50LmdldF9zY3JvbGxfZGlyZWN0aW9uKCkpXG4gICAgfSlcblxuICAgIHJldHVybiBhcHBsZXRcbn0iLCJpbXBvcnQgeyBQbGF5UGF1c2UsIEFkdmFuY2VkUGxheWJhY2tTdGF0dXMgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IE1QVl9NUFJJU19CVVNfTkFNRSwgTUVESUFfUExBWUVSXzJfUEFUSCwgTVBSSVNfUExVR0lOX1BBVEgsIE1BWF9WT0xVTUUsIE1FRElBX1BMQVlFUl8yX05BTUUsIE1FRElBX1BMQVlFUl8yX1BMQVlFUl9OQU1FLCBNUFZfQ1ZDX05BTUUgfSBmcm9tICcuLi9jb25zdHMnXG5pbXBvcnQgeyBNcHJpc01lZGlhUGxheWVyRGJ1cywgTXByaXNQcm9wc0RidXMsIFBsYXliYWNrU3RhdHVzIH0gZnJvbSAnLi4vTXByaXNUeXBlcyc7XG5jb25zdCB7IGdldERCdXNQcm9wZXJ0aWVzLCBnZXREQnVzLCBnZXREQnVzUHJveHlXaXRoT3duZXIgfSA9IGltcG9ydHMubWlzYy5pbnRlcmZhY2VzXG5jb25zdCB7IHNwYXduQ29tbWFuZExpbmUgfSA9IGltcG9ydHMubWlzYy51dGlsO1xuLy8gc2VlIGh0dHBzOi8vbGF6a2EuZ2l0aHViLmlvL3BnaS1kb2NzL0N2Yy0xLjAvaW5kZXguaHRtbFxuY29uc3QgeyBNaXhlckNvbnRyb2wgfSA9IGltcG9ydHMuZ2kuQ3ZjO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBvblBsYXliYWNrc3RhdHVzQ2hhbmdlZDogKHBsYXliYWNrU3RhdHVzOiBBZHZhbmNlZFBsYXliYWNrU3RhdHVzKSA9PiB2b2lkLFxuICAgIG9uVXJsQ2hhbmdlZDogKHVybDogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uVm9sdW1lQ2hhbmdlZDogKHZvbHVtZTogbnVtYmVyKSA9PiB2b2lkLFxuICAgIG9uVGl0bGVDaGFuZ2VkOiAodGl0bGU6IHN0cmluZykgPT4gdm9pZCxcbiAgICAvKiogbGVuZ3RoIGluIHNlY29uZHMgKi9cbiAgICBvbkxlbmd0aENoYW5nZWQ6IChsZW5ndGg6IG51bWJlcikgPT4gdm9pZCxcbiAgICAvKiogcG9zaXRpb24gaW4gc2Vjb25kcyAqL1xuICAgIG9uUG9zaXRpb25DaGFuZ2VkOiAocG9zaXRpb246IG51bWJlcikgPT4gdm9pZCxcbiAgICBjaGVja1VybFZhbGlkOiAodXJsOiBzdHJpbmcpID0+IGJvb2xlYW4sXG4gICAgLyoqIHRoZSBsYXN0VXJsIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIG1wdiBpcyBpbml0aWFsbHkgKGkuZS4gb24gY2lubmFtb24gcmVzdGFydCkgcnVubmluZyBmb3IgcmFkaW8gcHVycG9zZXMgYW5kIG5vdCBmb3Igc29tZXRoaW5nIGVsc2UuIEl0IGlzIG5vdCBzdWZmaWNpZW50IHRvIGdldCB0aGUgdXJsIGZyb20gYSBkYnVzIGludGVyZmFjZSBhbmQgY2hlY2sgaWYgdGhlIHVybCBpcyB2YWxpZCBiZWNhdXNlIHNvbWUgc3RyZWFtcyAoc3VjaCBhcyAucGxzIHN0cmVhbXMpIGNoYW5nZSB0aGVpciB1cmwgZHluYW1pY2FsbHkuIFRoaXMgYXBwcm9hY2ggaW4gbm90IDEwMCUgZm9vbHByb29mIGJ1dCBwcm9iYWJseSB0aGUgYmVzdCBwb3NzaWJsZSBhcHByb2FjaCAqL1xuICAgIGxhc3RVcmw6IHN0cmluZyxcblxuICAgIC8vIFRPRE8gbWFrZSBhcyBzZXR0ZXJcbiAgICBnZXRJbml0aWFsVm9sdW1lOiB7ICgpOiBudW1iZXIgfVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNcHZIYW5kbGVyKGFyZ3M6IEFyZ3VtZW50cykge1xuICAgIGNvbnN0IHtcbiAgICAgICAgb25QbGF5YmFja3N0YXR1c0NoYW5nZWQsXG4gICAgICAgIG9uVXJsQ2hhbmdlZCxcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkLFxuICAgICAgICBvblRpdGxlQ2hhbmdlZCxcbiAgICAgICAgb25MZW5ndGhDaGFuZ2VkLFxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZCxcbiAgICAgICAgY2hlY2tVcmxWYWxpZCxcbiAgICAgICAgbGFzdFVybCxcbiAgICAgICAgZ2V0SW5pdGlhbFZvbHVtZSxcblxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBkYnVzID0gZ2V0REJ1cygpXG5cbiAgICBjb25zdCBtZWRpYVNlcnZlclBsYXllciA9IGdldERCdXNQcm94eVdpdGhPd25lcihcbiAgICAgICAgTUVESUFfUExBWUVSXzJfUExBWUVSX05BTUUsIE1QVl9NUFJJU19CVVNfTkFNRSkgYXMgTXByaXNNZWRpYVBsYXllckRidXNcblxuICAgIGNvbnN0IG1lZGlhUHJvcHMgPSBnZXREQnVzUHJvcGVydGllcyhcbiAgICAgICAgTVBWX01QUklTX0JVU19OQU1FLCBNRURJQV9QTEFZRVJfMl9QQVRIKSBhcyBNcHJpc1Byb3BzRGJ1c1xuXG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBNaXhlckNvbnRyb2woeyBuYW1lOiBfX21ldGEubmFtZSB9KVxuICAgIGxldCBjdmNTdHJlYW06IGltcG9ydHMuZ2kuQ3ZjLk1peGVyU3RyZWFtXG5cbiAgICBjb250cm9sLm9wZW4oKVxuICAgIGNvbnRyb2wuY29ubmVjdCgnc3RyZWFtLWFkZGVkJywgKGN0cmwsIGlkKSA9PiB7XG5cbiAgICAgICAgY29uc3QgYWRkZWRTdHJlYW0gPSBjb250cm9sLmxvb2t1cF9zdHJlYW1faWQoaWQpXG5cbiAgICAgICAgaWYgKGFkZGVkU3RyZWFtPy5uYW1lICE9PSBNUFZfQ1ZDX05BTUUpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjdmNTdHJlYW0gPSBhZGRlZFN0cmVhbVxuICAgICAgICBjdmNTdHJlYW0uY29ubmVjdCgnbm90aWZ5Ojp2b2x1bWUnLCAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVDdmNWb2x1bWVDaGFuZ2VkKClcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gV2hlbiBubyBsYXN0IFVybCBpcyBwYXNzZWQgYW5kIG1wdiBpcyBydW5uaW5nLCBpdCBpcyBhc3N1bWVkIHRoYXQgbXB2IGlzIG5vdCB1c2VkIGZvciB0aGUgcmFkaW8gYXBwbGV0IChhbmQgdGhlcmVmb3JlIHRoZSBwbGF5YmFja3N0YXR1cyBpcyBTdG9wcGVkKVxuICAgIGNvbnN0IGluaXRpYWxQbGF5YmFja1N0YXR1cyA9ICFsYXN0VXJsID8gJ1N0b3BwZWQnIDogZ2V0UGxheWJhY2tTdGF0dXMoKVxuXG4gICAgbGV0IGN1cnJlbnRVcmwgPSBpbml0aWFsUGxheWJhY2tTdGF0dXMgIT09IFwiU3RvcHBlZFwiID8gbGFzdFVybCA6IG51bGxcbiAgICBsZXQgY3VycmVudExlbmd0aDogbnVtYmVyID0gZ2V0TGVuZ3RoKCkgLy8gaW4gc2Vjb25kc1xuICAgIGxldCBwb3NpdGlvblRpbWVySWQ6IFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPlxuXG4gICAgbGV0IGJ1ZmZlckV4Y2VlZGVkID0gZmFsc2VcblxuICAgIGxldCBtZWRpYVByb3BzTGlzdGVuZXJJZDogbnVtYmVyXG4gICAgbGV0IHNlZWtMaXN0ZW5lcklkOiBudW1iZXJcblxuICAgIGlmIChpbml0aWFsUGxheWJhY2tTdGF0dXMgIT09IFwiU3RvcHBlZFwiKSB7XG4gICAgICAgIGFjdGl2YXRlTXByaXNQcm9wc0xpc3RlbmVyKCk7XG4gICAgICAgIGFjdGl2ZVNlZWtMaXN0ZW5lcigpXG5cbiAgICAgICAgb25VcmxDaGFuZ2VkKGN1cnJlbnRVcmwpXG4gICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKGluaXRpYWxQbGF5YmFja1N0YXR1cylcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkKGdldFZvbHVtZSgpKVxuICAgICAgICBvblRpdGxlQ2hhbmdlZChnZXRDdXJyZW50VGl0bGUoKSlcbiAgICAgICAgb25MZW5ndGhDaGFuZ2VkKGN1cnJlbnRMZW5ndGgpXG4gICAgICAgIG9uUG9zaXRpb25DaGFuZ2VkKGdldFBvc2l0aW9uKCkpXG5cbiAgICAgICAgc3RhcnRQb3NpdGlvblRpbWVyKClcbiAgICB9XG5cbiAgICBjb25zdCBuYW1lT3duZXJTaWduYWxJZCA9IGRidXMuY29ubmVjdFNpZ25hbCgnTmFtZU93bmVyQ2hhbmdlZCcsICguLi5hcmdzKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IGFyZ3NbMl1bMF1cbiAgICAgICAgY29uc3Qgb2xkT3duZXIgPSBhcmdzWzJdWzFdXG4gICAgICAgIGNvbnN0IG5ld093bmVyID0gYXJnc1syXVsyXVxuXG4gICAgICAgIGlmIChuYW1lICE9PSBNUFZfTVBSSVNfQlVTX05BTUUpIHJldHVyblxuXG4gICAgICAgIGlmIChuZXdPd25lcikge1xuICAgICAgICAgICAgYWN0aXZhdGVNcHJpc1Byb3BzTGlzdGVuZXIoKVxuICAgICAgICAgICAgYWN0aXZlU2Vla0xpc3RlbmVyKClcbiAgICAgICAgICAgIHBhdXNlQWxsT3RoZXJNZWRpYVBsYXllcnMoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9sZE93bmVyKSB7XG4gICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gMFxuICAgICAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICAgICAgbWVkaWFQcm9wcy5kaXNjb25uZWN0U2lnbmFsKG1lZGlhUHJvcHNMaXN0ZW5lcklkKVxuICAgICAgICAgICAgbWVkaWFTZXJ2ZXJQbGF5ZXIuZGlzY29ubmVjdFNpZ25hbChzZWVrTGlzdGVuZXJJZClcbiAgICAgICAgICAgIG1lZGlhUHJvcHNMaXN0ZW5lcklkID0gc2Vla0xpc3RlbmVySWQgPSBjdXJyZW50VXJsID0gbnVsbFxuICAgICAgICAgICAgb25QbGF5YmFja3N0YXR1c0NoYW5nZWQoJ1N0b3BwZWQnKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGRlYWN0aXZhdGVBbGxMaXN0ZW5lcigpIHtcbiAgICAgICAgZGJ1cy5kaXNjb25uZWN0U2lnbmFsKG5hbWVPd25lclNpZ25hbElkKVxuICAgICAgICBpZiAobWVkaWFQcm9wc0xpc3RlbmVySWQpIG1lZGlhUHJvcHM/LmRpc2Nvbm5lY3RTaWduYWwobWVkaWFQcm9wc0xpc3RlbmVySWQpXG4gICAgICAgIGlmIChzZWVrTGlzdGVuZXJJZCkgbWVkaWFTZXJ2ZXJQbGF5ZXI/LmRpc2Nvbm5lY3RTaWduYWwoc2Vla0xpc3RlbmVySWQpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVNcHJpc1Byb3BzTGlzdGVuZXIoKSB7XG4gICAgICAgIG1lZGlhUHJvcHNMaXN0ZW5lcklkID0gbWVkaWFQcm9wcy5jb25uZWN0U2lnbmFsKCdQcm9wZXJ0aWVzQ2hhbmdlZCcsXG4gICAgICAgICAgICAocHJveHksIG5hbWVPd25lciwgW2ludGVyZmFjZU5hbWUsIHByb3BzXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gdGhlb3JldGljYWxseSBpdCBjb3VsZCBiZSB1c2VkIHJlY3Vyc2l2ZVVucGFjayBidXQgdGhpcyBkb2Vzbid0IHdvcmsgb24gY2lubmFtb24gMjAgeWV0IChidXQgb24gMjAuMSlcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHByb3BzLk1ldGFkYXRhPy5kZWVwX3VucGFjaygpXG4gICAgICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gcHJvcHMuVm9sdW1lPy51bnBhY2soKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWJhY2tTdGF0dXMgPSBwcm9wcy5QbGF5YmFja1N0YXR1cz8udW5wYWNrKCkgYXMgUGxheVBhdXNlXG5cbiAgICAgICAgICAgICAgICAvL2dsb2JhbC5sb2coYG1ldGFkYXRhOiAke0pTT04uc3RyaW5naWZ5KHByb3BzLk1ldGFkYXRhPy5yZWN1cnNpdmVVbnBhY2soKSl9LCBwbGF5YmFja1N0YXR1czogJHtwbGF5YmFja1N0YXR1c30sIHZvbHVtZTogJHt2b2x1bWV9YClcblxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG1ldGFkYXRhPy5bJ3hlc2FtOnVybCddPy51bnBhY2soKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gbWV0YWRhdGE/LlsneGVzYW06dGl0bGUnXT8udW5wYWNrKClcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IG1ldGFkYXRhPy5bXCJtcHJpczpsZW5ndGhcIl0/LnVucGFjaygpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVcmxWYWxpZCA9IGNoZWNrVXJsVmFsaWQodXJsKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50RXZlbnQgPSBuZXdVcmxWYWxpZCB8fCBjdXJyZW50VXJsXG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlbGV2YW50RXZlbnQpIHJldHVybiAvLyBoYXBwZW5zIHdoZW4gbXB2IGlzIHJ1bm5pbmcgd2l0aCBhIGZpbGUvc3RyZWFtIG5vdCBtYW5hZ2VkIGJ5IHRoZSBhcHBsZXRcblxuXG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCAhPSBudWxsKSBoYW5kbGVMZW5ndGhDaGFuZ2VkKGxlbmd0aClcblxuICAgICAgICAgICAgICAgIGlmICh2b2x1bWUgIT0gbnVsbCkgaGFuZGxlTXByaXNWb2x1bWVDaGFuZ2VkKHZvbHVtZSlcblxuICAgICAgICAgICAgICAgIHBsYXliYWNrU3RhdHVzICYmIGhhbmRsZU1wcmlzUGxheWJhY2tTdGF0dXNDaGFuZ2VkKHBsYXliYWNrU3RhdHVzKVxuICAgICAgICAgICAgICAgIHVybCAmJiBuZXdVcmxWYWxpZCAmJiB1cmwgIT09IGN1cnJlbnRVcmwgJiYgaGFuZGxlVXJsQ2hhbmdlZCh1cmwpXG4gICAgICAgICAgICAgICAgdGl0bGUgJiYgaGFuZGxlVGl0bGVTZXQodGl0bGUpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFjdGl2ZVNlZWtMaXN0ZW5lcigpIHtcbiAgICAgICAgc2Vla0xpc3RlbmVySWQgPSBtZWRpYVNlcnZlclBsYXllci5jb25uZWN0U2lnbmFsKCdTZWVrZWQnLCAoaWQsIHNlbmRlciwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChtaWNyb1NlY29uZHNUb1JvdW5kZWRTZWNvbmRzKHZhbHVlKSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIGxlbmd0aCBpbiBtaWNyb3NlY29uZHMgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVMZW5ndGhDaGFuZ2VkKGxlbmd0aDogbnVtYmVyKSB7XG5cbiAgICAgICAgY29uc3QgbGVuZ3RoSW5TZWNvbmRzID0gbWljcm9TZWNvbmRzVG9Sb3VuZGVkU2Vjb25kcyhsZW5ndGgpO1xuXG4gICAgICAgIG9uTGVuZ3RoQ2hhbmdlZChsZW5ndGhJblNlY29uZHMpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0TG9hZGluZyA9IChsZW5ndGggPT09IDApO1xuICAgICAgICBjb25zdCBmaW5pc2hlZExvYWRpbmcgPSBsZW5ndGggIT09IDAgJiYgY3VycmVudExlbmd0aCA9PT0gMDtcblxuICAgICAgICBjdXJyZW50TGVuZ3RoID0gbGVuZ3RoSW5TZWNvbmRzO1xuXG4gICAgICAgIGlmIChzdGFydExvYWRpbmcpIHtcbiAgICAgICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKCdMb2FkaW5nJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaW5pc2hlZExvYWRpbmcgfHwgYnVmZmVyRXhjZWVkZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZmluaXNoZWRMb2FkaW5nID8gMCA6IGdldFBvc2l0aW9uKClcbiAgICAgICAgICAgIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbilcbiAgICAgICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKGdldFBsYXliYWNrU3RhdHVzKCkpXG4gICAgICAgICAgICBidWZmZXJFeGNlZWRlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogIEBwYXJhbSBwb3NpdGlvbiBpbiBzZWNvbmRzISAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbjogbnVtYmVyKSB7XG5cbiAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbilcbiAgICAgICAgc3RhcnRQb3NpdGlvblRpbWVyKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydFBvc2l0aW9uVGltZXIoKSB7XG5cbiAgICAgICAgaWYgKGdldFBsYXliYWNrU3RhdHVzKCkgIT09ICdQbGF5aW5nJykgcmV0dXJuXG5cbiAgICAgICAgcG9zaXRpb25UaW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgubWluKGdldFBvc2l0aW9uKCksIGN1cnJlbnRMZW5ndGgpXG5cbiAgICAgICAgICAgIG9uUG9zaXRpb25DaGFuZ2VkKHBvc2l0aW9uKVxuXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IGN1cnJlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvblBsYXliYWNrc3RhdHVzQ2hhbmdlZCgnTG9hZGluZycpXG4gICAgICAgICAgICAgICAgYnVmZmVyRXhjZWVkZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3BQb3NpdGlvblRpbWVyKCkge1xuXG4gICAgICAgIGlmICghcG9zaXRpb25UaW1lcklkKSByZXR1cm5cblxuICAgICAgICBjbGVhckludGVydmFsKHBvc2l0aW9uVGltZXJJZClcbiAgICAgICAgcG9zaXRpb25UaW1lcklkID0gbnVsbFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZU1wcmlzUGxheWJhY2tTdGF0dXNDaGFuZ2VkKHBsYXliYWNrU3RhdHVzOiBQbGF5UGF1c2UpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKHBsYXliYWNrU3RhdHVzKVxuXG4gICAgICAgICAgICBwbGF5YmFja1N0YXR1cyA9PT0gJ1BhdXNlZCcgPyBzdG9wUG9zaXRpb25UaW1lcigpXG4gICAgICAgICAgICAgICAgOiBoYW5kbGVQb3NpdGlvbkNoYW5nZWQoZ2V0UG9zaXRpb24oKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVVybENoYW5nZWQobmV3VXJsOiBzdHJpbmcpIHtcbiAgICAgICAgY3VycmVudFVybCA9IG5ld1VybFxuICAgICAgICBoYW5kbGVMZW5ndGhDaGFuZ2VkKDApXG5cbiAgICAgICAgaWYgKHBvc2l0aW9uVGltZXJJZCkgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZCgwKVxuXG4gICAgICAgIG9uVXJsQ2hhbmdlZChuZXdVcmwpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlTXByaXNWb2x1bWVDaGFuZ2VkKG1wcmlzVm9sdW1lOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAobXByaXNWb2x1bWUgKiAxMDAgPiBNQVhfVk9MVU1FKSB7XG4gICAgICAgICAgICBtZWRpYVNlcnZlclBsYXllci5Wb2x1bWUgPSBNQVhfVk9MVU1FIC8gMTAwXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWb2x1bWUgPSBNYXRoLnJvdW5kKG1wcmlzVm9sdW1lICogMTAwKVxuICAgICAgICBzZXRDdmNWb2x1bWUobm9ybWFsaXplZFZvbHVtZSlcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkKG5vcm1hbGl6ZWRWb2x1bWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ3ZjVm9sdW1lQ2hhbmdlZCgpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZvbHVtZSA9IE1hdGgucm91bmQoY3ZjU3RyZWFtLnZvbHVtZSAvIGNvbnRyb2wuZ2V0X3ZvbF9tYXhfbm9ybSgpICogMTAwKVxuICAgICAgICBzZXRNcHJpc1ZvbHVtZShub3JtYWxpemVkVm9sdW1lKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRpdGxlU2V0KHRpdGxlOiBzdHJpbmcpIHtcbiAgICAgICAgb25UaXRsZUNoYW5nZWQodGl0bGUpXG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm5zIGxlbmd0aCBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gZ2V0TGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGxlbmd0aE1pY3JvU2Vjb25kcyA9IG1lZGlhU2VydmVyUGxheWVyLk1ldGFkYXRhPy5bXCJtcHJpczpsZW5ndGhcIl0/LnVucGFjaygpIHx8IDBcbiAgICAgICAgcmV0dXJuIG1pY3JvU2Vjb25kc1RvUm91bmRlZFNlY29uZHMobGVuZ3RoTWljcm9TZWNvbmRzKVxuICAgIH1cblxuICAgIC8qKiBAcmV0dXJucyBwb3NpdGlvbiBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24oKTogbnVtYmVyIHtcblxuICAgICAgICBpZiAoZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gJ1N0b3BwZWQnKSByZXR1cm4gMFxuXG4gICAgICAgIC8vIGZvciBzb21lIHJlYXNvbiwgdGhpcyBvbmx5IHJldHVybiB0aGUgcmlnaHQgdmFsdWUgdGhlIGZpcnN0IHRpbWUgaXQgaXMgY2FsbGVkLiBXaGVuIGNhbGxpbmcgdGhpcyBtdWx0aXBsZSB0aW1lcywgaXQgcmV0dXJucyBhbHdheXMgdGhlIHNhbWUgdmFsdWUgd2hpY2ggaG93ZXZlciBpcyB3cm9uZyB3aGVuIHJhZGlvIGlzIHBsYXlpbmdcbiAgICAgICAgLy8gY29uc3QgcG9zaXRpb25NaWNyb1NlY29uZHMgPSBtZWRpYVNlcnZlclBsYXllci5Qb3NpdGlvblxuICAgICAgICBjb25zdCBwb3NpdGlvbk1pY3JvU2Vjb25kcyA9IG1lZGlhUHJvcHMuR2V0U3luYygnb3JnLm1wcmlzLk1lZGlhUGxheWVyMi5QbGF5ZXInLCAnUG9zaXRpb24nKVswXS5kZWVwX3VucGFjaygpXG5cbiAgICAgICAgcmV0dXJuIG1pY3JvU2Vjb25kc1RvUm91bmRlZFNlY29uZHMocG9zaXRpb25NaWNyb1NlY29uZHMpXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzZXRVcmwodXJsOiBzdHJpbmcpIHtcblxuICAgICAgICBpZiAoZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gJ1N0b3BwZWQnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxWb2x1bWUgPSBnZXRJbml0aWFsVm9sdW1lKClcblxuICAgICAgICAgICAgaWYgKGluaXRpYWxWb2x1bWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW5pdGlhbCBWb2x1bWUgbXVzdCBub3QgYmUgdW5kZWZpbmVkIG9yIG51bGwnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYG1wdiAtLXNjcmlwdD0ke01QUklTX1BMVUdJTl9QQVRIfSAke3VybH0gXG4gICAgICAgICAgICAgICAgLS12b2x1bWU9JHtpbml0aWFsVm9sdW1lfWBcbiAgICAgICAgICAgIHNwYXduQ29tbWFuZExpbmUoY29tbWFuZClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgbWVkaWFTZXJ2ZXJQbGF5ZXIuT3BlblVyaVJlbW90ZSh1cmwpXG4gICAgICAgIG1lZGlhU2VydmVyUGxheWVyLlBsYXlTeW5jKClcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluY3JlYXNlRGVjcmVhc2VWb2x1bWUodm9sdW1lQ2hhbmdlOiBudW1iZXIpIHtcblxuICAgICAgICAvLyBuZXdWb2x1bWUgaXMgdGhlIGN1cnJlbnQgVm9sdW1lIHBsdXMob3IgbWludXMpIHZvbHVtZUNoYW5nZSBcbiAgICAgICAgLy8gYnV0IGF0IGxlYXN0IDAgYW5kIG1heGltdW0gTWF4X1ZvbHVtZVxuICAgICAgICBjb25zdCBuZXdWb2x1bWUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIE1BWF9WT0xVTUUsXG4gICAgICAgICAgICBNYXRoLm1heCgwLCBnZXRWb2x1bWUoKSArIHZvbHVtZUNoYW5nZSlcbiAgICAgICAgKVxuXG4gICAgICAgIHNldE1wcmlzVm9sdW1lKG5ld1ZvbHVtZSlcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIG5ld1ZvbHVtZSB2b2x1bWUgaW4gcGVyY2VudCAqL1xuICAgIGZ1bmN0aW9uIHNldE1wcmlzVm9sdW1lKG5ld1ZvbHVtZTogbnVtYmVyKSB7XG5cbiAgICAgICAgaWYgKGdldFZvbHVtZSgpID09PSBuZXdWb2x1bWUgfHwgZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gJ1N0b3BwZWQnKSByZXR1cm5cblxuICAgICAgICBtZWRpYVNlcnZlclBsYXllci5Wb2x1bWUgPSBuZXdWb2x1bWUgLyAxMDBcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIG5ld1ZvbHVtZSB2b2x1bWUgaW4gcGVyY2VudCAqL1xuICAgIGZ1bmN0aW9uIHNldEN2Y1ZvbHVtZShuZXdWb2x1bWU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBuZXdTdHJlYW1Wb2x1bWUgPSBuZXdWb2x1bWUgLyAxMDAgKiBjb250cm9sLmdldF92b2xfbWF4X25vcm0oKVxuXG4gICAgICAgIGlmICghY3ZjU3RyZWFtKSByZXR1cm5cblxuICAgICAgICBpZiAoY3ZjU3RyZWFtLnZvbHVtZSA9PT0gbmV3U3RyZWFtVm9sdW1lKSByZXR1cm5cblxuICAgICAgICBjdmNTdHJlYW0uaXNfbXV0ZWQgJiYgY3ZjU3RyZWFtLmNoYW5nZV9pc19tdXRlZChmYWxzZSlcbiAgICAgICAgY3ZjU3RyZWFtLnZvbHVtZSA9IG5ld1N0cmVhbVZvbHVtZVxuICAgICAgICBjdmNTdHJlYW0ucHVzaF92b2x1bWUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVBsYXlQYXVzZSgpIHtcbiAgICAgICAgaWYgKGdldFBsYXliYWNrU3RhdHVzKCkgPT09IFwiU3RvcHBlZFwiKSByZXR1cm5cblxuICAgICAgICBtZWRpYVNlcnZlclBsYXllci5QbGF5UGF1c2VTeW5jKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gXCJTdG9wcGVkXCIpIHJldHVyblxuXG4gICAgICAgIG1lZGlhU2VydmVyUGxheWVyLlN0b3BTeW5jKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50VGl0bGUoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGdldFBsYXliYWNrU3RhdHVzKCkgPT09IFwiU3RvcHBlZFwiKSByZXR1cm5cblxuICAgICAgICByZXR1cm4gbWVkaWFTZXJ2ZXJQbGF5ZXIuTWV0YWRhdGFbXCJ4ZXNhbTp0aXRsZVwiXS51bnBhY2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBhdXNlcyBhbGwgTWVkaWFQbGF5ZXJzIHdpdGggTVBSSVMgU3VwcG9ydCBleGNlcHQgbXB2XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGF1c2VBbGxPdGhlck1lZGlhUGxheWVycygpIHtcblxuICAgICAgICBkYnVzLkxpc3ROYW1lc1N5bmMoKVswXS5mb3JFYWNoKGJ1c05hbWUgPT4ge1xuXG4gICAgICAgICAgICBpZiAoIWJ1c05hbWUuaW5jbHVkZXMoTUVESUFfUExBWUVSXzJfTkFNRSkgfHwgYnVzTmFtZSA9PT0gTVBWX01QUklTX0JVU19OQU1FKVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCBub25NcHZNZWRpYVNlcnZlclBsYXllciA9IGdldERCdXNQcm94eVdpdGhPd25lcihNRURJQV9QTEFZRVJfMl9QTEFZRVJfTkFNRSwgYnVzTmFtZSkgYXMgTXByaXNNZWRpYVBsYXllckRidXNcblxuICAgICAgICAgICAgbm9uTXB2TWVkaWFTZXJ2ZXJQbGF5ZXIuUGF1c2VTeW5jKClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQbGF5YmFja1N0YXR1cygpOiBQbGF5YmFja1N0YXR1cyB7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3aGVuIGEgdXNlciBzdG9wcyBtcHYgYW5kIGFmdGVyd2FyZHMgc3RhcnQgdmxjIChvciBtYXliZSBhbHNvIGFuIG90aGVyIG1lZGlhIHBsYXllciksIG1lZGlhU2VydmVyUGxheWVyLlBsYXliYWNrU3RhdHVzIHdyb25nbHkgcmV0dXJucyBcIlBsYXlpbmdcIiAgXG4gICAgICAgIGNvbnN0IG1wdlJ1bm5pbmcgPSBkYnVzLkxpc3ROYW1lc1N5bmMoKVswXS5pbmNsdWRlcyhNUFZfTVBSSVNfQlVTX05BTUUpXG5cbiAgICAgICAgcmV0dXJuIG1wdlJ1bm5pbmcgPyBtZWRpYVNlcnZlclBsYXllci5QbGF5YmFja1N0YXR1cyA6ICdTdG9wcGVkJ1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZ2V0Vm9sdW1lKCk6IG51bWJlciB8IG51bGwge1xuXG4gICAgICAgIGlmIChnZXRQbGF5YmFja1N0YXR1cygpID09PSAnU3RvcHBlZCcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG1lZGlhU2VydmVyUGxheWVyLlZvbHVtZSAqIDEwMClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtaWNyb1NlY29uZHNUb1JvdW5kZWRTZWNvbmRzKG1pY3JvU2Vjb25kczogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBtaWNyb1NlY29uZHMgLyAxXzAwMF8wMDBcbiAgICAgICAgY29uc3Qgc2Vjb25kc1JvdW5kZWQgPSBNYXRoLnJvdW5kKHNlY29uZHMpXG4gICAgICAgIHJldHVybiBzZWNvbmRzUm91bmRlZFxuICAgIH1cblxuXG4gICAgLyoqIEBwYXJhbSBuZXdQb3NpdGlvbiBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gc2V0UG9zaXRpb24obmV3UG9zaXRpb246IG51bWJlcikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbmluTWljcm9TZWNvbmRzID0gTWF0aC5taW4obmV3UG9zaXRpb24gKiAxXzAwMF8wMDAsIGN1cnJlbnRMZW5ndGggKiAxXzAwMF8wMDApXG4gICAgICAgIGNvbnN0IHRyYWNrSWQgPSBtZWRpYVNlcnZlclBsYXllci5NZXRhZGF0YVsnbXByaXM6dHJhY2tpZCddLnVucGFjaygpXG4gICAgICAgIG1lZGlhU2VydmVyUGxheWVyPy5TZXRQb3NpdGlvblJlbW90ZSh0cmFja0lkLCBwb3NpdGlvbmluTWljcm9TZWNvbmRzKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluY3JlYXNlRGVjcmVhc2VWb2x1bWUsXG4gICAgICAgIHNldFZvbHVtZTogc2V0TXByaXNWb2x1bWUsXG4gICAgICAgIHNldFVybCxcbiAgICAgICAgdG9nZ2xlUGxheVBhdXNlLFxuICAgICAgICBzdG9wLFxuICAgICAgICBnZXRDdXJyZW50VGl0bGUsXG4gICAgICAgIHNldFBvc2l0aW9uLFxuICAgICAgICBkZWFjdGl2YXRlQWxsTGlzdGVuZXIsXG4gICAgICAgIC8vIGl0IGlzIHZlcnkgY29uZnVzaW5nIGJ1dCBkYnVzIG11c3QgYmUgcmV0dXJuZWQhXG4gICAgICAgIC8vIE90aGVyd2lsc2UgYWxsIGxpc3RlbmVycyBzdG9wIHdvcmtpbmcgYWZ0ZXIgYWJvdXQgMjAgc2Vjb25kcyB3aGljaCBpcyBmdWNraW5nIGRpZmZpY3VsdCB0byBkZWJ1Z1xuICAgICAgICBkYnVzXG4gICAgfVxufSIsImltcG9ydCB7IENoYW5uZWwsIEljb25UeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuY29uc3QgeyBBcHBsZXRTZXR0aW5ncyB9ID0gaW1wb3J0cy51aS5zZXR0aW5ncztcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgdXVpZDogc3RyaW5nLFxuICAgIGluc3RhbmNlSWQ6IG51bWJlcixcbiAgICBvbkljb25DaGFuZ2VkOiAoaWNvblR5cGU6IEljb25UeXBlKSA9PiB2b2lkLFxuICAgIG9uSWNvbkNvbG9yUGxheWluZ0NoYW5nZWQ6IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uSWNvbkNvbG9yUGF1c2VkQ2hhbmdlZDogKGNvbG9yOiBzdHJpbmcpID0+IHZvaWQsXG4gICAgb25DaGFubmVsT25QYW5lbENoYW5nZWQ6IChjaGFubmVsT25QYW5lbDogYm9vbGVhbikgPT4gdm9pZCxcbiAgICBvbk15U3RhdGlvbnNDaGFuZ2VkOiAoc3RhdGlvbnM6IENoYW5uZWxbXSkgPT4gdm9pZCxcbn1cblxuaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgICBpY29uVHlwZTogSWNvblR5cGUsXG4gICAgc3ltYm9saWNJY29uQ29sb3JXaGVuUGxheWluZzogc3RyaW5nLFxuICAgIHN5bWJvbGljSWNvbkNvbG9yV2hlblBhdXNlZDogc3RyaW5nLFxuICAgIGNoYW5uZWxOYW1lT25QYW5lbDogYm9vbGVhbixcbiAgICBjdXN0b21Jbml0Vm9sdW1lOiBudW1iZXIsXG4gICAga2VlcFZvbHVtZTogYm9vbGVhbixcbiAgICBsYXN0Vm9sdW1lOiBudW1iZXIsXG4gICAgaW5pdGlhbFZvbHVtZTogbnVtYmVyLFxuICAgIHVzZXJTdGF0aW9uczogQ2hhbm5lbFtdXG4gICAgbGFzdFVybDogc3RyaW5nLFxuICAgIG11c2ljRG93bmxvYWREaXI6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29uZmlnID0gKGFyZ3M6IEFyZ3VtZW50cykgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgICB1dWlkLFxuICAgICAgICBpbnN0YW5jZUlkLFxuICAgICAgICBvbkljb25DaGFuZ2VkLFxuICAgICAgICBvbkljb25Db2xvclBsYXlpbmdDaGFuZ2VkLFxuICAgICAgICBvbkljb25Db2xvclBhdXNlZENoYW5nZWQsXG4gICAgICAgIG9uQ2hhbm5lbE9uUGFuZWxDaGFuZ2VkLFxuICAgICAgICBvbk15U3RhdGlvbnNDaGFuZ2VkLFxuICAgIH0gPSBhcmdzXG5cbiAgICAvLyBhbGwgc2V0dGluZ3MgYXJlIHNhdmVkIHRvIHRoaXMgb2JqZWN0XG4gICAgY29uc3Qgc2V0dGluZ3NPYmplY3QgPSB7XG4gICAgICAgIGdldCBpbml0aWFsVm9sdW1lKCkgeyByZXR1cm4gZ2V0SW5pdGlhbFZvbHVtZSgpIH1cbiAgICB9IGFzIFNldHRpbmdzXG5cbiAgICBjb25zdCBhcHBsZXRTZXR0aW5ncyA9IG5ldyBBcHBsZXRTZXR0aW5ncyhzZXR0aW5nc09iamVjdCwgdXVpZCwgaW5zdGFuY2VJZClcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2ljb24tdHlwZScsICdpY29uVHlwZScsXG4gICAgICAgIChpY29uVHlwZTogSWNvblR5cGUpID0+IG9uSWNvbkNoYW5nZWQoaWNvblR5cGUpKVxuXG4gICAgYXBwbGV0U2V0dGluZ3MuYmluZCgnY29sb3Itb24nLCAnc3ltYm9saWNJY29uQ29sb3JXaGVuUGxheWluZycsXG4gICAgICAgIChuZXdDb2xvcjogc3RyaW5nKSA9PiBvbkljb25Db2xvclBsYXlpbmdDaGFuZ2VkKG5ld0NvbG9yKSlcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2NvbG9yLXBhdXNlZCcsICdzeW1ib2xpY0ljb25Db2xvcldoZW5QYXVzZWQnLFxuICAgICAgICAobmV3Q29sb3I6IHN0cmluZykgPT4gb25JY29uQ29sb3JQYXVzZWRDaGFuZ2VkKG5ld0NvbG9yKSlcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2NoYW5uZWwtb24tcGFuZWwnLCAnY2hhbm5lbE5hbWVPblBhbmVsJyxcbiAgICAgICAgKGNoYW5uZWxPblBhbmVsOiBib29sZWFuKSA9PiBvbkNoYW5uZWxPblBhbmVsQ2hhbmdlZChjaGFubmVsT25QYW5lbCkpXG5cbiAgICBhcHBsZXRTZXR0aW5ncy5iaW5kKCdrZWVwLXZvbHVtZS1iZXR3ZWVuLXNlc3Npb25zJywgXCJrZWVwVm9sdW1lXCIpXG5cbiAgICBhcHBsZXRTZXR0aW5ncy5iaW5kKCdpbml0aWFsLXZvbHVtZScsICdjdXN0b21Jbml0Vm9sdW1lJylcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2xhc3Qtdm9sdW1lJywgJ2xhc3RWb2x1bWUnKVxuXG4gICAgYXBwbGV0U2V0dGluZ3MuYmluZCgndHJlZScsIFwidXNlclN0YXRpb25zXCIsXG4gICAgICAgIG9uTXlTdGF0aW9uc0NoYW5nZWQpXG5cbiAgICBhcHBsZXRTZXR0aW5ncy5iaW5kKCdsYXN0LXVybCcsICdsYXN0VXJsJylcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ211c2ljLWRvd25sb2FkLWRpci1zZWxlY3QnLCAnbXVzaWNEb3dubG9hZERpcicsXG4gICAgICAgICgpID0+IGhhbmRsZU11c2ljRGlyQ2hhbmdlZCgpKVxuXG4gICAgZnVuY3Rpb24gZ2V0SW5pdGlhbFZvbHVtZSgpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAga2VlcFZvbHVtZSxcbiAgICAgICAgICAgIGxhc3RWb2x1bWUsXG4gICAgICAgICAgICBjdXN0b21Jbml0Vm9sdW1lXG4gICAgICAgIH0gPSBzZXR0aW5nc09iamVjdFxuXG4gICAgICAgIGxldCBpbml0aWFsVm9sdW1lID0ga2VlcFZvbHVtZSA/IGxhc3RWb2x1bWUgOiBjdXN0b21Jbml0Vm9sdW1lXG5cbiAgICAgICAgaWYgKGluaXRpYWxWb2x1bWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2xvYmFsLmxvZ1dhcm5pbmcoJ2luaXRpYWwgVm9sdW1lIHdhcyBudWxsIG9yIHVuZGVmaW5lZC4gQXBwbHlpbmcgNTAgYXMgYSBmYWxsYmFjayBzb2x1dGlvbiB0byBwcmV2ZW50IHJhZGlvIHN0b3Agd29ya2luZycpXG4gICAgICAgICAgICBpbml0aWFsVm9sdW1lID0gNTBcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIGluaXRpYWxWb2x1bWVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVNdXNpY0RpckNoYW5nZWQoKSB7XG5cbiAgICAgICAgLy8gQnkgRGVmYXVsdCB0aGUgdmFsdWUgaXMgc2V0IHRvIH4vTXVzaWMvUmFkaW8gYnV0IHdoZW4gY2hhbmdpbmcgdG8gYW5vdGhlciBsb2NhdGlvbiBhbmQgYmFjayBhZ2FpbiB0byB0aGUgZGVmYXVsdCB2YWx1ZSBpbiB0aGUgc2V0dGluZ3MgZGlhbG9nLCB0aGUgbXVzaWMgZGlyIGlzIHNldCB0byBudWxsIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgdmFsdWUgYWdhaW4uIEFzIHdvcmthcm91bmQgdGhlIG11c2ljIGRpciBpcyBzZXQgcHJvZ3JhbW1hdGljYWxseSB0byBkZWZhdWx0IHZhbHVlIGFnYWluIGlmIHZhbHVlIGlzIHNldCB0byBudWxsIChhbmQgdGhlIHNldHRpbmdzIGRpYWxvZyBjYW4ndCBiZSBvcGVuZWQgYW55bW9yZSkuIFxuICAgICAgICBpZiAoc2V0dGluZ3NPYmplY3QubXVzaWNEb3dubG9hZERpciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0dGluZ3NPYmplY3QubXVzaWNEb3dubG9hZERpciA9IFwifi9NdXNpYy9SYWRpb1wiXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG9uSWNvbkNoYW5nZWQoc2V0dGluZ3NPYmplY3QuaWNvblR5cGUpXG4gICAgb25JY29uQ29sb3JQbGF5aW5nQ2hhbmdlZChzZXR0aW5nc09iamVjdC5zeW1ib2xpY0ljb25Db2xvcldoZW5QbGF5aW5nKVxuICAgIG9uSWNvbkNvbG9yUGF1c2VkQ2hhbmdlZChzZXR0aW5nc09iamVjdC5zeW1ib2xpY0ljb25Db2xvcldoZW5QYXVzZWQpXG4gICAgb25DaGFubmVsT25QYW5lbENoYW5nZWQoc2V0dGluZ3NPYmplY3QuY2hhbm5lbE5hbWVPblBhbmVsKVxuXG4gICAgLy8gVE9ETyBhbHNvIG9uTXlTdGF0aW9uQ2hhbmdlZCBzaG91bGQgYmUgY2FsbGVkIChhbmQgcmVtb3ZlZCBhcyBhcmcgZnJvbSAgQ2hhbm5lbFN0b3JlKVxuXG4gICAgcmV0dXJuIHNldHRpbmdzT2JqZWN0XG5cbn0iLCJjb25zdCB7IExhYmVsIH0gPSBpbXBvcnRzLmdpLlN0XG5jb25zdCB7IEVsbGlwc2l6ZU1vZGUgfSA9IGltcG9ydHMuZ2kuUGFuZ29cbmNvbnN0IHsgQWN0b3JBbGlnbiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcHBsZXRMYWJlbCgpIHtcblxuICAgIGNvbnN0IGxhYmVsID0gbmV3IExhYmVsKHtcbiAgICAgICAgcmVhY3RpdmU6IHRydWUsXG4gICAgICAgIHRyYWNrX2hvdmVyOiB0cnVlLFxuICAgICAgICBzdHlsZV9jbGFzczogJ2FwcGxldC1sYWJlbCcsXG4gICAgICAgIHlfYWxpZ246IEFjdG9yQWxpZ24uQ0VOVEVSLFxuICAgICAgICB5X2V4cGFuZDogZmFsc2UsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSlcblxuICAgIC8vIE5vIGlkZWEgd2h5IG5lZWRlZCBidXQgd2l0aG91dCB0aGUgbGFiZWwgaXMgbm90IHNob3duIFxuICAgIGxhYmVsLmNsdXR0ZXJfdGV4dC5lbGxpcHNpemUgPSBFbGxpcHNpemVNb2RlLk5PTkVcblxuICAgIGxldCB2aXNpYmxlOiBib29sZWFuXG4gICAgbGV0IHRleHQ6IHN0cmluZ1xuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmV3VmFsdWUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbC4gVGhlIHRleHQgaG93ZXZlciBpcyBvbmx5IHZpc2libGUgaW4gdGhlIEdVSSB3aGVuIHZpc2libGUgaXMgdHJ1ZS4gSXQgaXMgYWxzbyBzaG93biBubyB0ZXh0IHdoZW4gcGFzc2luZyBudWxsIGZvciB0ZXh0IGJ1dCBpbiB0aGF0IGNhc2UgdGhlIHRleHQgaXMgc2hvd24gYWdhaW4gd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gYWdhaW4gd2l0aCBhIHN0cmluZyAoaS5lIHRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB3aXRoIG51bGwgd2hlbiB0aGUgdGV4dCBzaGFsbCBvbmx5IHRlbXBvcmFyaWx5IGJlIGhpZGRlbikgICAgXG4gICAgICogXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VGV4dChuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuXG4gICAgICAgIHRleHQgPSBuZXdWYWx1ZVxuXG4gICAgICAgIGlmICghdmlzaWJsZSkgcmV0dXJuXG5cbiAgICAgICAgbGFiZWwuc2hvdygpXG4gICAgICAgIG5ld1ZhbHVlID8gbGFiZWwudGV4dCA9IGAgJHtuZXdWYWx1ZX1gIDogbGFiZWwuaGlkZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmlzaWJpbGl0eShuZXdWYWx1ZTogYm9vbGVhbikge1xuXG4gICAgICAgIHZpc2libGUgPSBuZXdWYWx1ZVxuXG4gICAgICAgIGlmICh0ZXh0KSBsYWJlbC52aXNpYmxlID0gbmV3VmFsdWVcbiAgICAgICAgaWYgKHZpc2libGUgJiYgdGV4dCkgc2V0VGV4dCh0ZXh0KVxuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IGxhYmVsLFxuICAgICAgICBzZXRWaXNpYmlsaXR5LFxuICAgICAgICBzZXRUZXh0LFxuICAgIH1cbn0iLCJpbXBvcnQgeyBERUZBVUxUX1RPT0xUSVBfVFhUIH0gZnJvbSBcIi4uLy4uL2NvbnN0c1wiXG5cbmNvbnN0IHsgUGFuZWxJdGVtVG9vbHRpcCB9ID0gaW1wb3J0cy51aS50b29sdGlwc1xuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBhcHBsZXQ6IGltcG9ydHMudWkuYXBwbGV0LkFwcGxldFxuICAgIG9yaWVudGF0aW9uOiBpbXBvcnRzLmdpLlN0LlNpZGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwcGxldFRvb2x0aXAoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBhcHBsZXRcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgdG9vbHRpcCA9IG5ldyBQYW5lbEl0ZW1Ub29sdGlwKGFwcGxldCwgbnVsbCwgb3JpZW50YXRpb24pXG5cbiAgICBmdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIgfCBudWxsKSB7XG4gICAgICAgIGlmICh2b2x1bWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdG9vbHRpcC5zZXRfdGV4dChERUZBVUxUX1RPT0xUSVBfVFhUKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0b29sdGlwLnNldF90ZXh0KGBWb2x1bWU6ICR7dm9sdW1lLnRvU3RyaW5nKCl9ICVgKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFZvbHVtZVxuICAgIH1cbn0iLCJpbXBvcnQgeyBDaGFubmVsIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGNsYXNzIENoYW5uZWxTdG9yZSB7XG4gICAgcHJpdmF0ZSBfY2hhbm5lbExpc3Q6IENoYW5uZWxbXVxuXG4gICAgY29uc3RydWN0b3IoY2hhbm5lbExpc3Q6IENoYW5uZWxbXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxMaXN0ID0gY2hhbm5lbExpc3RcblxuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY2hhbm5lbExpc3QoY2hhbm5lbExpc3Q6IENoYW5uZWxbXSkge1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ2hhbm5lbExpc3QgPSBjaGFubmVsTGlzdC5maWx0ZXIoY2hhbm5lbCA9PiBjaGFubmVsLmluYylcblxuICAgICAgICB0aGlzLl9jaGFubmVsTGlzdCA9IGZpbHRlcmVkQ2hhbm5lbExpc3QubWFwKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uY2hhbm5lbCwgdXJsOiBjaGFubmVsLnVybC50cmltKCkgfVxuICAgICAgICB9KVxuICAgICAgICAvLyBUT0RPOiBhZGQgYmFiZWwgdG8gYWxsb3cgdGhlIHVzYWdlIG9mIGZsYXRNYXAhXG4gICAgICAgIC8vIHJldHVybiB0aGlzLmNoYW5uZWxMaXN0LmZsYXRNYXAoY2hhbm5lbCA9PlxuICAgICAgICAvLyAgICAgY2hhbm5lbC5pbmMgPyBjaGFubmVsLnVybCA6IFtdXG4gICAgICAgIC8vIClcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGFjdGl2YXRlZENoYW5uZWxVcmxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbm5lbExpc3QubWFwKGNoYW5uZWwgPT4gY2hhbm5lbC51cmwpXG5cblxuICAgIH1cblxuXG4gICAgcHVibGljIGdldCBhY3RpdmF0ZWRDaGFubmVsTmFtZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsTGlzdC5tYXAoY2hhbm5lbCA9PiBjaGFubmVsLm5hbWUpXG4gICAgfVxuXG5cblxuICAgIC8vIFRPRE86IHdoYXQgaXMgd2hlbiB0d28gQ2hhbm5lbHMgaGF2ZSB0aGUgc2FtZSBOYW1lIG9yIFVybD8gOk9cbiAgICBwdWJsaWMgZ2V0Q2hhbm5lbE5hbWUoY2hhbm5lbFVybDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLl9jaGFubmVsTGlzdC5maW5kKGNubCA9PiBjbmwudXJsID09PSBjaGFubmVsVXJsKVxuXG4gICAgICAgIHJldHVybiBjaGFubmVsID8gY2hhbm5lbC5uYW1lIDogbnVsbFxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaGFubmVsVXJsKGNoYW5uZWxOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuX2NoYW5uZWxMaXN0LmZpbmQoY25sID0+IGNubC5uYW1lID09PSBjaGFubmVsTmFtZSlcbiAgICAgICAgcmV0dXJuIGNoYW5uZWwgPyBjaGFubmVsLnVybCA6IG51bGxcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tMaXN0Q2hhbmdlZChjaGFubmVsTGlzdDogQ2hhbm5lbFtdKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjaGFubmVsTGlzdCkgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuX2NoYW5uZWxMaXN0KSA/XG4gICAgICAgICAgICBmYWxzZSA6IHRydWVcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tVcmxWYWxpZChjaGFubmVsVXJsOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxMaXN0LnNvbWUoY25sID0+IGNubC51cmwgPT09IGNoYW5uZWxVcmwpXG4gICAgfVxuXG59IiwiY29uc3QgeyBLRVlfc3BhY2UsIEtFWV9LUF9FbnRlciwgS0VZX1JldHVybiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cblxuZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uQWN0aXZhdGVkPzogKCkgPT4gdm9pZFxuICAgIHdpZGdldDogaW1wb3J0cy5naS5TdC5XaWRnZXRcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aXZXaWRnZXQoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHdpZGdldCxcbiAgICAgICAgb25BY3RpdmF0ZWRcbiAgICB9ID0gYXJnc1xuXG4gICAgLy8gVE9ETzogdW5kZXJzdGFuZCBjYW5fZm9jdXNcblxuICAgIHdpZGdldC5jYW5fZm9jdXMgPSB0cnVlXG4gICAgd2lkZ2V0LnJlYWN0aXZlID0gdHJ1ZVxuICAgIHdpZGdldC50cmFja19ob3ZlciA9IHRydWVcblxuICAgIHdpZGdldC5jb25uZWN0KCdidXR0b24tcmVsZWFzZS1ldmVudCcsICgpID0+IG9uQWN0aXZhdGVkPy4oKSlcblxuICAgIC8vIFRPRE86IFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugc29tZSB0aGVtZXMgKGF0IGxlYXN0IEFkYXB0YS1Ob2t0byBidXQgbWF5YmUgYWxzbyBvdGhlcnMpIGRvbid0IHByb3ZpZGUgc3R5bGUgZm9yIHRoZSBob3ZlciBwc2V1ZG8gY2xhc3MuIEJ1dCBpdCB3b3VsZCBiZSBtdWNoIGVhc2llciB0byBvbmNlIChhbmQgb24gdGhlbWUgY2hhbmdlcykgcHJvZ3JhbW1hdGljYWxseSBzZXQgdGhlIGhvdmVyIHBzZXVkbyBjbGFzcyBlcXVhbCB0byB0aGUgYWN0aXZlIHBzZXVkbyBjbGFzcyB3aGVuIHRoZSBob3ZlciBjbGFzcyBpc24ndCBwcm92aWRlZCBieSB0aGUgdGhlbWUuIFxuICAgIHdpZGdldC5jb25uZWN0KCdub3RpZnk6OmhvdmVyJywgKCkgPT4ge1xuICAgICAgICB3aWRnZXQuY2hhbmdlX3N0eWxlX3BzZXVkb19jbGFzcygnYWN0aXZlJywgd2lkZ2V0LmhvdmVyKVxuXG4gICAgICAgIGlmICh3aWRnZXQuaG92ZXIpIHdpZGdldC5ncmFiX2tleV9mb2N1cygpXG4gICAgfSlcblxuICAgIHdpZGdldC5jb25uZWN0KCdrZXktcHJlc3MtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IGV2ZW50LmdldF9rZXlfc3ltYm9sKCk7XG4gICAgICAgIGNvbnN0IHJlbGV2YW50S2V5cyA9IFtLRVlfc3BhY2UsIEtFWV9LUF9FbnRlciwgS0VZX1JldHVybl1cblxuICAgICAgICBpZiAocmVsZXZhbnRLZXlzLmluY2x1ZGVzKHN5bWJvbCkgJiYgd2lkZ2V0LmhvdmVyKVxuICAgICAgICAgICAgb25BY3RpdmF0ZWQ/LigpXG4gICAgfSlcbn0iLCJpbXBvcnQgeyBjcmVhdGVBY3RpdldpZGdldCB9IGZyb20gXCIuL0FjdGl2V2lkZ2V0XCI7XG5cbmNvbnN0IHsgQm94TGF5b3V0LCBMYWJlbCwgSWNvbiwgU2Nyb2xsVmlldyB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBBY3RvckFsaWduLCBQb2ludCB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5jb25zdCB7IFBvbGljeVR5cGUgfSA9IGltcG9ydHMuZ2kuR3RrXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIHRleHQ6IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ViTWVudShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdGV4dFxuICAgIH0gPSBhcmdzXG5cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZVxuICAgIH0pXG5cbiAgICBjb25zdCBsYWJlbCA9IG5ldyBMYWJlbCh7XG4gICAgICAgIHRleHRcbiAgICB9KVxuXG4gICAgY29uc3QgdHJpYW5nbGUgPSBuZXcgSWNvbih7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1hcnJvdycsXG4gICAgICAgIGljb25fbmFtZTogJ3Bhbi1lbmQnLFxuICAgICAgICByb3RhdGlvbl9hbmdsZV96OiA5MCxcbiAgICAgICAgeF9leHBhbmQ6IHRydWUsXG4gICAgICAgIHhfYWxpZ246IEFjdG9yQWxpZ24uRU5ELFxuICAgICAgICBwaXZvdF9wb2ludDogbmV3IFBvaW50KHsgeDogMC41LCB5OiAwLjUgfSksXG4gICAgICAgIGltcG9ydGFudDogdHJ1ZSAvLyB3aXRob3V0IHRoaXMsIGl0IGxvb2tzIHVnbHkgb24gTWludC1YIFRoZW1lc1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9nZ2xlID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pdGVtIHBvcHVwLXN1Ym1lbnUtbWVudS1pdGVtJ1xuICAgIH0pXG5cbiAgICBjcmVhdGVBY3RpdldpZGdldCh7XG4gICAgICAgIHdpZGdldDogdG9nZ2xlLFxuICAgICAgICBvbkFjdGl2YXRlZDogdG9nZ2xlU2Nyb2xsYm94XG4gICAgfSk7XG5cblxuICAgIFtsYWJlbCwgdHJpYW5nbGVdLmZvckVhY2god2lkZ2V0ID0+IHRvZ2dsZS5hZGRfY2hpbGQod2lkZ2V0KSlcbiAgICBjb250YWluZXIuYWRkX2NoaWxkKHRvZ2dsZSlcblxuICAgIGNvbnN0IHNjcm9sbGJveCA9IG5ldyBTY3JvbGxWaWV3KHtcbiAgICAgICAgc3R5bGVfY2xhc3M6ICdwb3B1cC1zdWItbWVudScsXG4gICAgICAgIHZzY3JvbGxiYXJfcG9saWN5OiBQb2xpY3lUeXBlLkFVVE9NQVRJQyxcbiAgICAgICAgaHNjcm9sbGJhcl9wb2xpY3k6IFBvbGljeVR5cGUuTkVWRVJcbiAgICB9KVxuXG4gICAgY29uc3QgYm94ID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNjcm9sbGJveCgpIHtcbiAgICAgICAgc2Nyb2xsYm94LnZpc2libGUgPyBjbG9zZU1lbnUoKSA6IG9wZW5NZW51KClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuTWVudSgpIHtcbiAgICAgICAgc2Nyb2xsYm94LnNob3coKVxuICAgICAgICB0cmlhbmdsZS5yb3RhdGlvbl9hbmdsZV96ID0gOTBcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XG4gICAgICAgIHNjcm9sbGJveC5oaWRlKClcbiAgICAgICAgdHJpYW5nbGUucm90YXRpb25fYW5nbGVfeiA9IDBcbiAgICB9XG5cbiAgICAvLyBhZGRfY2hpbGQgaXMgcmVjb21tZW5kZWQgYnV0IGRvZXNuJ3Qgd29yazogaHR0cHM6Ly9naXRsYWIuZ25vbWUub3JnL0dOT01FL2dub21lLXNoZWxsLy0vaXNzdWVzLzMxNzJcbiAgICBzY3JvbGxib3guYWRkX2FjdG9yKGJveCk7XG5cbiAgICBbdG9nZ2xlLCBzY3JvbGxib3hdLmZvckVhY2god2lkZ2V0ID0+IGNvbnRhaW5lci5hZGRfY2hpbGQod2lkZ2V0KSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8qKiB0aGUgY29udGFpbmVyIHdoaWNoIHNob3VsZCBiZSB1c2VkIHRvIGFkZCBpdCBhcyBjaGlsZCB0byBhIHBhcmVudCBBY3RvciAqL1xuICAgICAgICBhY3RvcjogY29udGFpbmVyLFxuICAgICAgICAvKiogdGhlIGNvbnRhaW5lciB3aGljaCBzaG91bGQgYmUgdXNlZCB0byBhZGQgY2hpbGRyZW4gICovXG4gICAgICAgIGJveCxcbiAgICB9XG59IiwiXG5leHBvcnQgZnVuY3Rpb24gbGltaXRTdHJpbmcodGV4dDogc3RyaW5nLCBtYXhDaGFyTnVtYmVyOiBudW1iZXIpIHtcblxuICAgIGlmICghdGV4dCkgcmV0dXJuXG5cbiAgICBpZiAodGV4dC5sZW5ndGggPD0gbWF4Q2hhck51bWJlcikgcmV0dXJuIHRleHRcblxuICAgIHJldHVybiBbLi4udGV4dF0uc2xpY2UoMCwgbWF4Q2hhck51bWJlciAtIDMpLmpvaW4oJycpICsgJy4uLidcblxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aXZXaWRnZXQgfSBmcm9tIFwiLi9BY3RpdldpZGdldFwiO1xuaW1wb3J0IHsgbGltaXRTdHJpbmcgfSBmcm9tIFwiLi4vZnVuY3Rpb25zL2xpbWl0U3RyaW5nXCJcblxuY29uc3QgeyBJY29uLCBJY29uVHlwZSwgTGFiZWwsIEJveExheW91dCB9ID0gaW1wb3J0cy5naS5TdFxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICB0ZXh0Pzogc3RyaW5nLFxuICAgIGljb25OYW1lPzogc3RyaW5nLFxuICAgIG9uQWN0aXZhdGVkPzogKCkgPT4gdm9pZFxuICAgIG1heENoYXJOdW1iZXI6IG51bWJlcixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb25NZW51SXRlbShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdGV4dCxcbiAgICAgICAgbWF4Q2hhck51bWJlcixcbiAgICAgICAgaWNvbk5hbWUsXG4gICAgICAgIG9uQWN0aXZhdGVkXG4gICAgfSA9IGFyZ3NcblxuXG4gICAgbGV0IGljb246IGltcG9ydHMuZ2kuU3QuSWNvblxuICAgIGxldCBsYWJlbDogaW1wb3J0cy5naS5TdC5MYWJlbFxuXG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pdGVtJ1xuICAgIH0pXG5cbiAgICBzZXRJY29uTmFtZShpY29uTmFtZSlcbiAgICBzZXRUZXh0KHRleHQpXG5cbiAgICBmdW5jdGlvbiBzZXRJY29uTmFtZShuYW1lOiBzdHJpbmcgfCBudWxsKSB7XG5cbiAgICAgICAgaWYgKGljb24gJiYgIW5hbWUpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVfY2hpbGQoaWNvbilcbiAgICAgICAgICAgIGljb24gPSBudWxsXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmFtZSkgcmV0dXJuXG5cbiAgICAgICAgaW5pdEljb24oKVxuXG4gICAgICAgIGljb24uaWNvbl9uYW1lID0gbmFtZVxuXG4gICAgICAgIGlmIChjb250YWluZXIuZ2V0X2NoaWxkX2F0X2luZGV4KDApICE9PSBpY29uKVxuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydF9jaGlsZF9hdF9pbmRleChpY29uLCAwKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRJY29uKCkge1xuICAgICAgICBpZiAoIWljb24pIHtcbiAgICAgICAgICAgIGljb24gPSBuZXcgSWNvbih7XG4gICAgICAgICAgICAgICAgaWNvbl90eXBlOiBJY29uVHlwZS5TWU1CT0xJQyxcbiAgICAgICAgICAgICAgICBzdHlsZV9jbGFzczogJ3BvcHVwLW1lbnUtaWNvbidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUZXh0KHRleHQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSB0ZXh0IHx8ICcgJ1xuXG4gICAgICAgIGlmICghbGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsID0gbmV3IExhYmVsKCk7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkX2NoaWxkKGxhYmVsKVxuICAgICAgICB9XG4gICAgICAgIGxhYmVsLnNldF90ZXh0KGxpbWl0U3RyaW5nKGxhYmVsVGV4dCwgbWF4Q2hhck51bWJlcikpXG4gICAgfVxuXG4gICAgb25BY3RpdmF0ZWQgJiYgY3JlYXRlQWN0aXZXaWRnZXQoeyB3aWRnZXQ6IGNvbnRhaW5lciwgb25BY3RpdmF0ZWQgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogY29udGFpbmVyLFxuICAgICAgICBzZXRJY29uTmFtZSxcbiAgICAgICAgc2V0VGV4dFxuICAgIH1cblxuXG59IiwiaW1wb3J0ICogYXMgY29uc3RzIGZyb20gJy4uLy4uL2NvbnN0cydcbmltcG9ydCB7IGNyZWF0ZUljb25NZW51SXRlbSB9IGZyb20gJy4uLy4uL2xpYi9JY29uTWVudUl0ZW0nO1xuaW1wb3J0IHsgQWR2YW5jZWRQbGF5YmFja1N0YXR1cyB9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIGNoYW5uZWxOYW1lOiBzdHJpbmcsXG4gICAgb25BY3RpdmF0ZWQ6IChjaGFubmVsTmFtZTogc3RyaW5nKSA9PiB2b2lkLFxuICAgIHBsYXliYWNrU3RhdHVzPzogQWR2YW5jZWRQbGF5YmFja1N0YXR1c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhbm5lbE1lbnVJdGVtKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBjaGFubmVsTmFtZSxcbiAgICAgICAgb25BY3RpdmF0ZWQsXG4gICAgICAgIHBsYXliYWNrU3RhdHVzXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IHBsYXliYWNrSWNvbk1hcDogTWFwPEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIHN0cmluZyB8IG51bGw+ID0gbmV3IE1hcChbXG4gICAgICAgIFtcIlBsYXlpbmdcIiwgY29uc3RzLlBMQVlfSUNPTl9OQU1FXSxcbiAgICAgICAgW1wiUGF1c2VkXCIsIGNvbnN0cy5QQVVTRV9JQ09OX05BTUVdLFxuICAgICAgICBbXCJMb2FkaW5nXCIsIGNvbnN0cy5MT0FESU5HX0lDT05fTkFNRV0sXG4gICAgICAgIFtcIlN0b3BwZWRcIiwgbnVsbF1cbiAgICBdKVxuXG4gICAgY29uc3QgaWNvbk1lbnVJdGVtID0gY3JlYXRlSWNvbk1lbnVJdGVtKHtcbiAgICAgICAgbWF4Q2hhck51bWJlcjogY29uc3RzLk1BWF9TVFJJTkdfTEVOR1RILFxuICAgICAgICB0ZXh0OiBjaGFubmVsTmFtZSxcbiAgICAgICAgb25BY3RpdmF0ZWQ6ICgpID0+IG9uQWN0aXZhdGVkKGNoYW5uZWxOYW1lKVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBzZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1czogQWR2YW5jZWRQbGF5YmFja1N0YXR1cykge1xuICAgICAgICBjb25zdCBpY29uTmFtZSA9IHBsYXliYWNrSWNvbk1hcC5nZXQocGxheWJhY2tTdGF0dXMpXG4gICAgICAgIGljb25NZW51SXRlbS5zZXRJY29uTmFtZShpY29uTmFtZSlcbiAgICB9XG5cbiAgICBwbGF5YmFja1N0YXR1cyAmJiBzZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1cylcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFBsYXliYWNrU3RhdHVzLFxuICAgICAgICBhY3RvcjogaWNvbk1lbnVJdGVtLmFjdG9yXG4gICAgfVxufSIsImltcG9ydCB7IGNyZWF0ZVN1Yk1lbnUgfSBmcm9tIFwiLi4vLi4vbGliL1BvcHVwU3ViTWVudVwiO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbE1lbnVJdGVtIH0gZnJvbSBcIi4vQ2hhbm5lbE1lbnVJdGVtXCI7XG5pbXBvcnQgeyBBZHZhbmNlZFBsYXliYWNrU3RhdHVzIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIHN0YXRpb25OYW1lczogc3RyaW5nW10sXG4gICAgb25DaGFubmVsQ2xpY2tlZDogKG5hbWU6IHN0cmluZykgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhbm5lbExpc3QoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHN0YXRpb25OYW1lcyxcbiAgICAgICAgb25DaGFubmVsQ2xpY2tlZFxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBzdWJNZW51ID0gY3JlYXRlU3ViTWVudSh7IHRleHQ6ICdNeSBTdGF0aW9ucycgfSlcblxuICAgIGxldCBjdXJyZW50Q2hhbm5lbE5hbWU6IHN0cmluZ1xuICAgIGxldCBwbGF5YmFja1N0YXR1czogQWR2YW5jZWRQbGF5YmFja1N0YXR1cyA9ICdTdG9wcGVkJ1xuXG4gICAgLy8gdGhlIGNoYW5uZWxJdGVtcyBhcmUgc2F2ZWQgaGVyZSB0byB0aGUgbWFwIGFuZCB0byB0aGUgY29udGFpbmVyIGFzIG9uIHRoZSBjb250YWluZXIgb25seSB0aGUgcmVkdWNlZCBuYW1lIGFyZSBzaG93bi4gVGhlb3JldGljYWxseSBpdCB0aGVyZWZvcmUgY291bGRuJ3QgYmUgZGlmZmVyZW50aWF0ZWQgYmV0d2VlbiB0d28gbG9uZyBjaGFubmVsIG5hbWVzIHdpdGggdGhlIHNhbWUgZmlyc3QgMzAgKG9yIHNvKSBjaGFyYWN0ZXJzICAgXG4gICAgY29uc3QgY2hhbm5lbEl0ZW1zID0gbmV3IE1hcDxzdHJpbmcsIFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNoYW5uZWxNZW51SXRlbT4+KClcblxuICAgIGZ1bmN0aW9uIHNldFN0YXRpb25OYW1lcyhuYW1lczogc3RyaW5nW10pIHtcbiAgICAgICAgY2hhbm5lbEl0ZW1zLmNsZWFyKClcbiAgICAgICAgc3ViTWVudS5ib3gucmVtb3ZlX2FsbF9jaGlsZHJlbigpXG5cbiAgICAgICAgbmFtZXMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxQbGF5YmFja3N0YXR1cyA9XG4gICAgICAgICAgICAgICAgKG5hbWUgPT09IGN1cnJlbnRDaGFubmVsTmFtZSkgPyBwbGF5YmFja1N0YXR1cyA6ICdTdG9wcGVkJ1xuXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsSXRlbSA9IGNyZWF0ZUNoYW5uZWxNZW51SXRlbSh7XG4gICAgICAgICAgICAgICAgY2hhbm5lbE5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgb25BY3RpdmF0ZWQ6IG9uQ2hhbm5lbENsaWNrZWQsXG4gICAgICAgICAgICAgICAgcGxheWJhY2tTdGF0dXM6IGNoYW5uZWxQbGF5YmFja3N0YXR1c1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhbm5lbEl0ZW1zLnNldChuYW1lLCBjaGFubmVsSXRlbSlcbiAgICAgICAgICAgIHN1Yk1lbnUuYm94LmFkZF9jaGlsZChjaGFubmVsSXRlbS5hY3RvcilcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRQbGF5YmFja1N0YXR1cyhuZXdTdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMpIHtcbiAgICAgICAgcGxheWJhY2tTdGF0dXMgPSBuZXdTdGF0dXNcblxuICAgICAgICBpZiAoIWN1cnJlbnRDaGFubmVsTmFtZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgY2hhbm5lbE1lbnVJdGVtID0gY2hhbm5lbEl0ZW1zLmdldChjdXJyZW50Q2hhbm5lbE5hbWUpXG4gICAgICAgIGNoYW5uZWxNZW51SXRlbT8uc2V0UGxheWJhY2tTdGF0dXMocGxheWJhY2tTdGF0dXMpXG5cbiAgICAgICAgaWYgKHBsYXliYWNrU3RhdHVzID09PSAnU3RvcHBlZCcpXG4gICAgICAgICAgICBjdXJyZW50Q2hhbm5lbE5hbWUgPSBudWxsXG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDdXJyZW50Q2hhbm5lbChuYW1lOiBzdHJpbmcpIHtcblxuICAgICAgICBjb25zdCBjdXJyZW50Q2hhbm5lbEl0ZW0gPSBjaGFubmVsSXRlbXMuZ2V0KGN1cnJlbnRDaGFubmVsTmFtZSlcbiAgICAgICAgY3VycmVudENoYW5uZWxJdGVtPy5zZXRQbGF5YmFja1N0YXR1cygnU3RvcHBlZCcpXG5cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoYW5uZWxJdGVtID0gY2hhbm5lbEl0ZW1zLmdldChuYW1lKVxuICAgICAgICAgICAgaWYgKCFuZXdDaGFubmVsSXRlbSkgdGhyb3cgbmV3IEVycm9yKGBObyBjaGFubmVsSXRlbSBleGlzdCBmb3IgJHtuYW1lfWApXG4gICAgICAgICAgICBuZXdDaGFubmVsSXRlbS5zZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1cylcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRDaGFubmVsTmFtZSA9IG5hbWVcbiAgICB9XG5cbiAgICBzZXRTdGF0aW9uTmFtZXMoc3RhdGlvbk5hbWVzKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IHN1Yk1lbnUuYWN0b3IsXG4gICAgICAgIHNldFBsYXliYWNrU3RhdHVzLFxuICAgICAgICBzZXRTdGF0aW9uTmFtZXMsXG4gICAgICAgIHNldEN1cnJlbnRDaGFubmVsXG4gICAgfVxufSIsImNvbnN0IHsgRHJhd2luZ0FyZWEgfSA9IGltcG9ydHMuZ2kuU3RcbmNvbnN0IHsgY2Fpcm9fc2V0X3NvdXJjZV9jb2xvciwgZ3JhYl9wb2ludGVyLCB1bmdyYWJfcG9pbnRlciB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmludGVyZmFjZSBTbGlkZXJBcmd1bWVudHMge1xuICAgIC8qKiB0aGUgdmFsdWUgaW5pdGFsbHkgYXBwbGllZCB3aGVuIGJldHdlZW4gMCBhbmQgMS4gSWYgdGhlIHZhbHVlIGlzIGJlbG93IDAsIHRoZSBzbGlkZXIgdmFsdWUgaXMgc2V0IHRvIDAuIElmIHRoZSB2YWx1ZSBpcyBhYm92ZSAxLCB0aGUgc2xpZGVyIHZhbHVlIGlzIHNldCB0byAxICovXG4gICAgaW5pdGlhbFZhbHVlPzogbnVtYmVyLFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgKi9cbiAgICBvblZhbHVlQ2hhbmdlZD86IChuZXdWYWx1ZTogbnVtYmVyKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbGlkZXIoYXJnczogU2xpZGVyQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCBzdHlsZV9jbGFzcyA9ICdwb3B1cC1zbGlkZXItbWVudS1pdGVtJ1xuXG4gICAgY29uc3Qge1xuICAgICAgICBpbml0aWFsVmFsdWUsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2VkXG4gICAgfSA9IGFyZ3NcblxuICAgIGxldCB2YWx1ZTogbnVtYmVyXG4gICAgaWYgKGluaXRpYWxWYWx1ZSkgdmFsdWUgPSBsaW1pdFRvTWluTWF4KGluaXRpYWxWYWx1ZSlcblxuICAgIGNvbnN0IGRyYXdpbmcgPSBuZXcgRHJhd2luZ0FyZWEoe1xuICAgICAgICBzdHlsZV9jbGFzcyxcbiAgICAgICAgcmVhY3RpdmU6IHRydWUsXG4gICAgICAgIHhfZXhwYW5kOiB0cnVlXG4gICAgfSlcblxuICAgIGRyYXdpbmcuY29ubmVjdCgncmVwYWludCcsICgpID0+IHtcblxuICAgICAgICBjb25zdCBjciA9IGRyYXdpbmcuZ2V0X2NvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdGhlbWVOb2RlID0gZHJhd2luZy5nZXRfdGhlbWVfbm9kZSgpO1xuICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkcmF3aW5nLmdldF9zdXJmYWNlX3NpemUoKVxuXG4gICAgICAgIGNvbnN0IGhhbmRsZVJhZGl1cyA9IHRoZW1lTm9kZS5nZXRfbGVuZ3RoKCctc2xpZGVyLWhhbmRsZS1yYWRpdXMnKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJIZWlnaHQgPSB0aGVtZU5vZGUuZ2V0X2xlbmd0aCgnLXNsaWRlci1oZWlnaHQnKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJCb3JkZXJXaWR0aCA9IHRoZW1lTm9kZS5nZXRfbGVuZ3RoKCctc2xpZGVyLWJvcmRlci13aWR0aCcpO1xuICAgICAgICBjb25zdCBzbGlkZXJCb3JkZXJSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgc2xpZGVySGVpZ2h0KSAvIDI7XG5cbiAgICAgICAgY29uc3Qgc2xpZGVyQm9yZGVyQ29sb3IgPSB0aGVtZU5vZGUuZ2V0X2NvbG9yKCctc2xpZGVyLWJvcmRlci1jb2xvcicpO1xuICAgICAgICBjb25zdCBzbGlkZXJDb2xvciA9IHRoZW1lTm9kZS5nZXRfY29sb3IoJy1zbGlkZXItYmFja2dyb3VuZC1jb2xvcicpO1xuXG4gICAgICAgIGNvbnN0IHNsaWRlckFjdGl2ZUJvcmRlckNvbG9yID0gdGhlbWVOb2RlLmdldF9jb2xvcignLXNsaWRlci1hY3RpdmUtYm9yZGVyLWNvbG9yJyk7XG4gICAgICAgIGNvbnN0IHNsaWRlckFjdGl2ZUNvbG9yID0gdGhlbWVOb2RlLmdldF9jb2xvcignLXNsaWRlci1hY3RpdmUtYmFja2dyb3VuZC1jb2xvcicpO1xuXG4gICAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVggPSBoYW5kbGVSYWRpdXMgKyAod2lkdGggLSAyICogaGFuZGxlUmFkaXVzKSAqIHZhbHVlO1xuXG4gICAgICAgIGNyLmFyYyhzbGlkZXJCb3JkZXJSYWRpdXMgKyBzbGlkZXJCb3JkZXJXaWR0aCwgaGVpZ2h0IC8gMiwgc2xpZGVyQm9yZGVyUmFkaXVzLCBUQVUgKiAxIC8gNCwgVEFVICogMyAvIDQpO1xuICAgICAgICBjci5saW5lVG8oaGFuZGxlWCwgKGhlaWdodCAtIHNsaWRlckhlaWdodCkgLyAyKTtcbiAgICAgICAgY3IubGluZVRvKGhhbmRsZVgsIChoZWlnaHQgKyBzbGlkZXJIZWlnaHQpIC8gMik7XG4gICAgICAgIGNyLmxpbmVUbyhzbGlkZXJCb3JkZXJSYWRpdXMgKyBzbGlkZXJCb3JkZXJXaWR0aCwgKGhlaWdodCArIHNsaWRlckhlaWdodCkgLyAyKTtcbiAgICAgICAgY2Fpcm9fc2V0X3NvdXJjZV9jb2xvcihjciwgc2xpZGVyQWN0aXZlQ29sb3IpO1xuICAgICAgICBjci5maWxsUHJlc2VydmUoKTtcbiAgICAgICAgY2Fpcm9fc2V0X3NvdXJjZV9jb2xvcihjciwgc2xpZGVyQWN0aXZlQm9yZGVyQ29sb3IpO1xuICAgICAgICBjci5zZXRMaW5lV2lkdGgoc2xpZGVyQm9yZGVyV2lkdGgpO1xuICAgICAgICBjci5zdHJva2UoKTtcblxuICAgICAgICBjci5hcmMod2lkdGggLSBzbGlkZXJCb3JkZXJSYWRpdXMgLSBzbGlkZXJCb3JkZXJXaWR0aCwgaGVpZ2h0IC8gMiwgc2xpZGVyQm9yZGVyUmFkaXVzLCBUQVUgKiAzIC8gNCwgVEFVICogMSAvIDQpO1xuICAgICAgICBjci5saW5lVG8oaGFuZGxlWCwgKGhlaWdodCArIHNsaWRlckhlaWdodCkgLyAyKTtcbiAgICAgICAgY3IubGluZVRvKGhhbmRsZVgsIChoZWlnaHQgLSBzbGlkZXJIZWlnaHQpIC8gMik7XG4gICAgICAgIGNyLmxpbmVUbyh3aWR0aCAtIHNsaWRlckJvcmRlclJhZGl1cyAtIHNsaWRlckJvcmRlcldpZHRoLCAoaGVpZ2h0IC0gc2xpZGVySGVpZ2h0KSAvIDIpO1xuICAgICAgICBjYWlyb19zZXRfc291cmNlX2NvbG9yKGNyLCBzbGlkZXJDb2xvcik7XG4gICAgICAgIGNyLmZpbGxQcmVzZXJ2ZSgpO1xuICAgICAgICBjYWlyb19zZXRfc291cmNlX2NvbG9yKGNyLCBzbGlkZXJCb3JkZXJDb2xvcik7XG4gICAgICAgIGNyLnNldExpbmVXaWR0aChzbGlkZXJCb3JkZXJXaWR0aCk7XG4gICAgICAgIGNyLnN0cm9rZSgpO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVkgPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhlbWVOb2RlLmdldF9mb3JlZ3JvdW5kX2NvbG9yKCk7XG4gICAgICAgIGNhaXJvX3NldF9zb3VyY2VfY29sb3IoY3IsIGNvbG9yKTtcbiAgICAgICAgY3IuYXJjKGhhbmRsZVgsIGhhbmRsZVksIGhhbmRsZVJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjci5maWxsKCk7XG5cbiAgICAgICAgY3IuJGRpc3Bvc2UoKTtcbiAgICB9KVxuXG4gICAgZHJhd2luZy5jb25uZWN0KCdidXR0b24tcHJlc3MtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIGdyYWJfcG9pbnRlcihkcmF3aW5nKVxuXG4gICAgICAgIGNvbnN0IG1vdGlvbklkID0gZHJhd2luZy5jb25uZWN0KCdtb3Rpb24tZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBtb3ZlSGFuZGxlKGV2ZW50KVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGJ1dHRvblJlbGVhc2VJZCA9IGRyYXdpbmcuY29ubmVjdCgnYnV0dG9uLXJlbGVhc2UtZXZlbnQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3aW5nLmRpc2Nvbm5lY3QoYnV0dG9uUmVsZWFzZUlkKVxuICAgICAgICAgICAgZHJhd2luZy5kaXNjb25uZWN0KG1vdGlvbklkKVxuICAgICAgICAgICAgdW5ncmFiX3BvaW50ZXIoKVxuICAgICAgICB9KVxuXG4gICAgICAgIG1vdmVIYW5kbGUoZXZlbnQpXG5cbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gbW92ZUhhbmRsZShldmVudDogaW1wb3J0cy5naS5DbHV0dGVyLkV2ZW50KSB7XG5cbiAgICAgICAgY29uc3QgW2Fic1gsIGFic1ldID0gZXZlbnQuZ2V0X2Nvb3JkcygpXG5cbiAgICAgICAgY29uc3QgW3NsaWRlclgsIHNsaWRlclldID0gZHJhd2luZy5nZXRfdHJhbnNmb3JtZWRfcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgcmVsWCA9IGFic1ggLSBzbGlkZXJYO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZHJhd2luZy53aWR0aDtcbiAgICAgICAgY29uc3QgaGFuZGxlUmFkaXVzID0gZHJhd2luZy5nZXRfdGhlbWVfbm9kZSgpLmdldF9sZW5ndGgoJy1zbGlkZXItaGFuZGxlLXJhZGl1cycpO1xuXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gKHJlbFggLSBoYW5kbGVSYWRpdXMpIC8gKHdpZHRoIC0gMiAqIGhhbmRsZVJhZGl1cylcbiAgICAgICAgY29uc3QgbmV3VmFsdWVMaW1pdFRvTWluTWF4ID0gbGltaXRUb01pbk1heChuZXdWYWx1ZSlcblxuICAgICAgICBzZXRWYWx1ZShuZXdWYWx1ZUxpbWl0VG9NaW5NYXgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGltaXRUb01pbk1heCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgMSksIDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFZhbHVlKG5ld1ZhbHVlOiBudW1iZXIsIHNpbGVudCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNvcnJlY3RlZFZhbHVlID0gbGltaXRUb01pbk1heChuZXdWYWx1ZSlcblxuICAgICAgICBpZiAoY29ycmVjdGVkVmFsdWUgPT09IHZhbHVlKSByZXR1cm5cblxuICAgICAgICB2YWx1ZSA9IGNvcnJlY3RlZFZhbHVlXG4gICAgICAgIGlmICghc2lsZW50KSBvblZhbHVlQ2hhbmdlZD8uKHZhbHVlKVxuICAgICAgICBkcmF3aW5nLnF1ZXVlX3JlcGFpbnQoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogZHJhd2luZyxcbiAgICAgICAgc2V0VmFsdWUsXG4gICAgICAgIGdldFZhbHVlXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aXZXaWRnZXQgfSBmcm9tIFwiLi4vbGliL0FjdGl2V2lkZ2V0XCI7XG5pbXBvcnQgeyBjcmVhdGVTbGlkZXIgfSBmcm9tIFwiLi4vbGliL1NsaWRlclwiO1xuaW1wb3J0IHsgZ2V0Vm9sdW1lSWNvbiwgUE9QVVBfSUNPTl9DTEFTUywgUE9QVVBfTUVOVV9JVEVNX0NMQVNTLCBWT0xVTUVfREVMVEEgfSBmcm9tICcuLi9jb25zdHMnXG5cbmNvbnN0IHsgQm94TGF5b3V0LCBJY29uLCBJY29uVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBUb29sdGlwIH0gPSBpbXBvcnRzLnVpLnRvb2x0aXBzXG5jb25zdCB7IEtFWV9SaWdodCwgS0VZX0xlZnQsIFNjcm9sbERpcmVjdGlvbiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uVm9sdW1lQ2hhbmdlZDogKHZhbHVlOiBudW1iZXIpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZvbHVtZVNsaWRlcihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkXG4gICAgfSA9IGFyZ3NcblxuICAgIGxldCB0b29sdGlwOiBpbXBvcnRzLnVpLnRvb2x0aXBzLlRvb2x0aXBcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICBzdHlsZV9jbGFzczogUE9QVVBfTUVOVV9JVEVNX0NMQVNTLFxuICAgIH0pXG5cbiAgICBjcmVhdGVBY3RpdldpZGdldCh7XG4gICAgICAgIHdpZGdldDogY29udGFpbmVyXG4gICAgfSlcblxuICAgIC8qKiBpbiBQZXJjZW50IGFuZCByb3VuZGVkISAqL1xuICAgIGxldCB2b2x1bWU6IG51bWJlclxuXG4gICAgY29uc3Qgc2xpZGVyID0gY3JlYXRlU2xpZGVyKHtcbiAgICAgICAgb25WYWx1ZUNoYW5nZWQ6IGhhbmRsZVNsaWRlclZhbHVlQ2hhbmdlZFxuICAgIH0pXG5cbiAgICBjb25zdCBpY29uID0gbmV3IEljb24oe1xuICAgICAgICBpY29uX3R5cGU6IEljb25UeXBlLlNZTUJPTElDLFxuICAgICAgICBzdHlsZV9jbGFzczogUE9QVVBfSUNPTl9DTEFTUyxcbiAgICAgICAgcmVhY3RpdmU6IHRydWVcbiAgICB9KTtcblxuICAgIFtpY29uLCBzbGlkZXIuYWN0b3JdLmZvckVhY2god2lkZ2V0ID0+IHtcbiAgICAgICAgY29udGFpbmVyLmFkZF9jaGlsZCh3aWRnZXQpXG4gICAgfSlcblxuXG4gICAgY29udGFpbmVyLmNvbm5lY3QoJ2tleS1wcmVzcy1ldmVudCcsIChhY3RvciwgZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQuZ2V0X2tleV9zeW1ib2woKTtcblxuICAgICAgICBpZiAoa2V5ID09PSBLRVlfUmlnaHQgfHwga2V5ID09PSBLRVlfTGVmdCkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gKGtleSA9PT0gS0VZX1JpZ2h0KSA/ICdpbmNyZWFzZScgOiAnZGVjcmVhc2UnXG4gICAgICAgICAgICBkZWx0YUNoYW5nZShkaXJlY3Rpb24pXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgY29udGFpbmVyLmNvbm5lY3QoJ3Njcm9sbC1ldmVudCcsIChhY3RvciwgZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsRGlyZWN0aW9uID0gZXZlbnQuZ2V0X3Njcm9sbF9kaXJlY3Rpb24oKVxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSAoc2Nyb2xsRGlyZWN0aW9uID09PSBTY3JvbGxEaXJlY3Rpb24uVVApID8gJ2luY3JlYXNlJyA6ICdkZWNyZWFzZSdcbiAgICAgICAgZGVsdGFDaGFuZ2UoZGlyZWN0aW9uKVxuICAgIH0pXG5cbiAgICBpY29uLmNvbm5lY3QoJ2J1dHRvbi1wcmVzcy1ldmVudCcsICgpID0+IHtcbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKDApXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVTbGlkZXJWYWx1ZUNoYW5nZWQobmV3VmFsdWU6IG51bWJlcikge1xuICAgICAgICB1cGRhdGVWb2x1bWUobmV3VmFsdWUgKiAxMDAsIHRydWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsdGFDaGFuZ2UoZGlyZWN0aW9uOiAnaW5jcmVhc2UnIHwgJ2RlY3JlYXNlJykge1xuICAgICAgICBjb25zdCBkZWx0YSA9IChkaXJlY3Rpb24gPT09ICdpbmNyZWFzZScpID8gVk9MVU1FX0RFTFRBIDogLVZPTFVNRV9ERUxUQVxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHNsaWRlci5nZXRWYWx1ZSgpICsgZGVsdGEgLyAxMDBcbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKG5ld1ZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdWb2x1bWUgaW4gcGVyY2VudCBidXQgZG9lc24ndCBuZWVkIHRvIGJlIHJvdW5kZWRcbiAgICAgKiBAcGFyYW0gc2hvd1Rvb2x0aXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVWb2x1bWUobmV3Vm9sdW1lOiBudW1iZXIsIHNob3dUb29sdGlwOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IG5ld1ZvbHVtZVJvdW5kZWQgPSBNYXRoLnJvdW5kKG5ld1ZvbHVtZSlcblxuICAgICAgICBpZiAobmV3Vm9sdW1lUm91bmRlZCA9PT0gdm9sdW1lKSByZXR1cm5cblxuICAgICAgICB2b2x1bWUgPSBuZXdWb2x1bWVSb3VuZGVkXG5cbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKHZvbHVtZSAvIDEwMClcbiAgICAgICAgaWNvbi5zZXRfaWNvbl9uYW1lKGdldFZvbHVtZUljb24oeyB2b2x1bWUgfSkpXG4gICAgICAgIHNldFRvb2x0aXAodm9sdW1lKVxuXG4gICAgICAgIHNob3dUb29sdGlwICYmIHRvb2x0aXAuc2hvdygpXG4gICAgICAgIG9uVm9sdW1lQ2hhbmdlZD8uKHZvbHVtZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdm9sdW1lIGluIFBlcmNlbnQgYW5kIHJvdW5kZWQhXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VG9vbHRpcCh2b2x1bWU6IG51bWJlcikge1xuXG4gICAgICAgIGlmICghdG9vbHRpcClcbiAgICAgICAgICAgIHRvb2x0aXAgPSBuZXcgVG9vbHRpcChzbGlkZXIuYWN0b3IsICcgJylcblxuICAgICAgICB0b29sdGlwLnNldF90ZXh0KGBWb2x1bWU6ICR7dm9sdW1lLnRvU3RyaW5nKCl9ICVgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdWb2x1bWUgaW4gcGVyY2VudCAoMC0xMDApXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Vm9sdW1lKG5ld1ZvbHVtZTogbnVtYmVyKSB7XG4gICAgICAgIHVwZGF0ZVZvbHVtZShuZXdWb2x1bWUsIGZhbHNlKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFjdG9yOiBjb250YWluZXIsXG4gICAgICAgIHNldFZvbHVtZVxuICAgIH1cbn0iLCJjb25zdCB7IEJveExheW91dCwgQmluLCBTaWRlIH0gPSBpbXBvcnRzLmdpLlN0XG5jb25zdCB7IHVpR3JvdXAsIGxheW91dE1hbmFnZXIsIHBhbmVsTWFuYWdlciwgcHVzaE1vZGFsLCBwb3BNb2RhbCB9ID0gaW1wb3J0cy51aS5tYWluXG5jb25zdCB7IEtFWV9Fc2NhcGUgfSA9IGltcG9ydHMuZ2kuQ2x1dHRlclxuY29uc3QgeyB1dGlsX2dldF90cmFuc2Zvcm1lZF9hbGxvY2F0aW9uIH0gPSBpbXBvcnRzLmdpLkNpbm5hbW9uXG5jb25zdCB7IFBhbmVsTG9jIH0gPSBpbXBvcnRzLnVpLnBvcHVwTWVudVxuXG5cblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgbGF1bmNoZXI6IGltcG9ydHMuZ2kuU3QuV2lkZ2V0LFxufVxuXG4vLyB0aGUgc3BhY2Ugb24gdGhlIG1vbml0b3Igd2hpY2ggaXMgZnJlZSBmb3IgdGhlIHBvcHVwIG1lbnUsIGkuZS4gdGhlIG1vbml0b3IgbWludXMgdGhlIHBhbmVscy5cbmludGVyZmFjZSBGcmVlU3BhY2VCb3gge1xuICAgIGxlZnQ6IG51bWJlcixcbiAgICB0b3A6IG51bWJlcixcbiAgICBib3R0b206IG51bWJlcixcbiAgICByaWdodDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBQb3B1cE1lbnUgZXh0ZW5kcyBpbXBvcnRzLmdpLlN0LkJveExheW91dCB7XG4gICAgLyoqIHRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHBvcHVwTWVudSAqL1xuICAgIHRvZ2dsZTogKCkgPT4gdm9pZFxuICAgIC8qKiBjbG9zZSB0aGUgcG9wdXBtZW51IGFuZCByZWxhc2UgdGhlIGdyYWJiZWQga2V5cy4gVXNlIHRoaXMgaW5zdGVhZCBvZiBoaWRlISAqL1xuICAgIGNsb3NlOiAoKSA9PiB2b2lkXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvcHVwTWVudShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgbGF1bmNoZXJcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgYm94ID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1jb250ZW50JyxcbiAgICAgICAgdmVydGljYWw6IHRydWUsXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgIH0pXG5cbiAgICAvLyBvbmx5IGZvciBzdHlsaW5nIHB1cnBvc2VzXG4gICAgY29uc3QgYmluID0gbmV3IEJpbih7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAnbWVudScsXG4gICAgICAgIGNoaWxkOiBib3gsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSlcblxuICAgIHVpR3JvdXAuYWRkX2NoaWxkKGJpbilcblxuICAgIGJveC5jb25uZWN0KCdrZXktcHJlc3MtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmdldF9rZXlfc3ltYm9sKCkgPT09IEtFWV9Fc2NhcGUgJiYgY2xvc2UoKVxuICAgIH0pXG5cbiAgICBsYXVuY2hlci5jb25uZWN0KCdxdWV1ZS1yZWxheW91dCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFib3gudmlzaWJsZSkgcmV0dXJuXG5cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldExheW91dCgpXG4gICAgICAgIH0sIDApO1xuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBzZXRMYXlvdXQoKSB7XG5cbiAgICAgICAgY29uc3QgZnJlZVNwYWNlID0gY2FsY3VsYXRlRnJlZVNwYWNlKClcbiAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gY2FsY3VsYXRlTWF4SGVpZ2h0KGZyZWVTcGFjZSlcblxuICAgICAgICBib3guc3R5bGUgPSBgbWF4LWhlaWdodDogJHttYXhIZWlnaHR9cHg7YFxuICAgICAgICBjb25zdCBbeFBvcywgeVBvc10gPSBjYWxjdWxhdGVQb3NpdGlvbihtYXhIZWlnaHQsIGZyZWVTcGFjZSlcblxuICAgICAgICAvLyBXaXRob3V0IE1hdGguZmxvb3IsIHRoZSBwb3B1cCBtZW51IGdldHMgZm9yIHNvbWUgcmVhc29uIGJsdXJyZWQgb24gc29tZSB0aGVtZXMgKGUuZy4gQWRhcHRhIE5va3RvKSFcbiAgICAgICAgYmluLnNldF9wb3NpdGlvbihNYXRoLmZsb29yKHhQb3MpLCBNYXRoLmZsb29yKHlQb3MpKVxuXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVGcmVlU3BhY2UoKTogRnJlZVNwYWNlQm94IHtcbiAgICAgICAgY29uc3QgbW9uaXRvciA9IGxheW91dE1hbmFnZXIuZmluZE1vbml0b3JGb3JBY3RvcihsYXVuY2hlcilcbiAgICAgICAgY29uc3QgdmlzaWJsZVBhbmVscyA9IHBhbmVsTWFuYWdlci5nZXRQYW5lbHNJbk1vbml0b3IobW9uaXRvci5pbmRleClcblxuICAgICAgICBjb25zdCBwYW5lbFNpemVzID0gbmV3IE1hcCh2aXNpYmxlUGFuZWxzLm1hcChwYW5lbCA9PiB7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSAwLCBoZWlnaHQgPSAwO1xuXG4gICAgICAgICAgICBpZiAocGFuZWwuZ2V0SXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHBhbmVsLmFjdG9yLndpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHBhbmVsLmFjdG9yLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFtwYW5lbC5wYW5lbFBvc2l0aW9uLCB7IHdpZHRoLCBoZWlnaHQgfV1cbiAgICAgICAgfSkpXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IG1vbml0b3IueCArIChwYW5lbFNpemVzLmdldChQYW5lbExvYy5sZWZ0KT8ud2lkdGggfHwgMCksXG4gICAgICAgICAgICBib3R0b206IG1vbml0b3IueSArIG1vbml0b3IuaGVpZ2h0IC0gKHBhbmVsU2l6ZXMuZ2V0KFBhbmVsTG9jLmJvdHRvbSk/LmhlaWdodCB8fCAwKSxcbiAgICAgICAgICAgIHRvcDogbW9uaXRvci55ICsgKHBhbmVsU2l6ZXMuZ2V0KFBhbmVsTG9jLnRvcCk/LmhlaWdodCB8fCAwKSxcbiAgICAgICAgICAgIHJpZ2h0OiBtb25pdG9yLnggKyBtb25pdG9yLndpZHRoIC0gKHBhbmVsU2l6ZXMuZ2V0KFBhbmVsTG9jLnJpZ2h0KT8ud2lkdGggfHwgMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU1heEhlaWdodChmcmVlU3BhY2U6IEZyZWVTcGFjZUJveCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGZyZWVTcGFjZUhlaWdodCA9IChmcmVlU3BhY2UuYm90dG9tIC0gZnJlZVNwYWNlLnRvcCkgLyBnbG9iYWwudWlfc2NhbGVcblxuICAgICAgICBjb25zdCBib3hUaGVtZU5vZGUgPSBib3guZ2V0X3RoZW1lX25vZGUoKVxuXG4gICAgICAgIGNvbnN0IGJpblRoZW1lTm9kZSA9IGJpbi5nZXRfdGhlbWVfbm9kZSgpXG5cbiAgICAgICAgY29uc3QgcGFkZGluZ1RvcCA9IGJveFRoZW1lTm9kZS5nZXRfcGFkZGluZyhTaWRlLlRPUClcbiAgICAgICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IGJveFRoZW1lTm9kZS5nZXRfcGFkZGluZyhTaWRlLkJPVFRPTSlcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGhUb3AgPSBiaW5UaGVtZU5vZGUuZ2V0X2JvcmRlcl93aWR0aChTaWRlLlRPUClcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGhCb3R0b20gPSBiaW5UaGVtZU5vZGUuZ2V0X2JvcmRlcl93aWR0aChTaWRlLkJPVFRPTSlcblxuICAgICAgICBjb25zdCBtYXhIZWlnaHQgPSBmcmVlU3BhY2VIZWlnaHQgLSBwYWRkaW5nQm90dG9tIC0gcGFkZGluZ1RvcCAtIGJvcmRlcldpZHRoVG9wIC0gYm9yZGVyV2lkdGhCb3R0b21cblxuICAgICAgICByZXR1cm4gbWF4SGVpZ2h0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb24obWF4SGVpZ2h0OiBudW1iZXIsIGZyZWVTcGFjZTogRnJlZVNwYWNlQm94KTogW3hMZWZ0OiBudW1iZXIsIHlUb3A6IG51bWJlcl0ge1xuXG4gICAgICAgIGNvbnN0IGFwcGxldEJveCA9IHV0aWxfZ2V0X3RyYW5zZm9ybWVkX2FsbG9jYXRpb24obGF1bmNoZXIpXG5cbiAgICAgICAgY29uc3QgW21pbldpZHRoLCBtaW5IZWlnaHQsIG5hdFdpZHRoLCBuYXRIZWlnaHRdID0gYm94LmdldF9wcmVmZXJyZWRfc2l6ZSgpO1xuXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IChuYXRXaWR0aCAtIGFwcGxldEJveC5nZXRfd2lkdGgoKSkgLyAyXG5cbiAgICAgICAgY29uc3QgeExlZnROb3JtYWwgPSBNYXRoLm1heChmcmVlU3BhY2UubGVmdCwgYXBwbGV0Qm94LngxIC0gbWFyZ2luKTtcbiAgICAgICAgY29uc3QgeFJpZ2h0Tm9ybWFsID0gYXBwbGV0Qm94LngyICsgbWFyZ2luXG4gICAgICAgIGNvbnN0IHhMZWZ0TWF4ID0gZnJlZVNwYWNlLnJpZ2h0IC0gYXBwbGV0Qm94LmdldF93aWR0aCgpIC0gbWFyZ2luICogMlxuICAgICAgICBjb25zdCB4TGVmdCA9ICh4UmlnaHROb3JtYWwgPCBmcmVlU3BhY2UucmlnaHQpID8geExlZnROb3JtYWwgOiB4TGVmdE1heFxuXG4gICAgICAgIGNvbnN0IHlUb3BOb3JtYWwgPSBNYXRoLm1heChhcHBsZXRCb3gueTEsIGZyZWVTcGFjZS50b3ApO1xuICAgICAgICBjb25zdCB5Qm90dG9tTm9ybWFsID0geVRvcE5vcm1hbCArIG5hdEhlaWdodDtcbiAgICAgICAgY29uc3QgeVRvcE1heCA9IGZyZWVTcGFjZS5ib3R0b20gLSBib3guaGVpZ2h0O1xuICAgICAgICBjb25zdCB5VG9wID0gKHlCb3R0b21Ob3JtYWwgPCBmcmVlU3BhY2UuYm90dG9tKSA/IHlUb3BOb3JtYWwgOiB5VG9wTWF4XG5cbiAgICAgICAgcmV0dXJuIFt4TGVmdCwgeVRvcF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICBib3gudmlzaWJsZSA/IGNsb3NlKCkgOiBvcGVuKClcbiAgICB9XG5cbiAgICAvLyBubyBpZGVhIHdoeSBpdCBzb21ldGltZXMgbmVlZHMgdG8gYmUgYmluIGFuZCBzb21ldGltZXMgYm94IC4uLlxuICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG5cbiAgICAgICAgc2V0TGF5b3V0KClcbiAgICAgICAgYmluLnNob3coKVxuICAgICAgICBib3guc2hvdygpXG5cbiAgICAgICAgbGF1bmNoZXIuYWRkX3N0eWxlX3BzZXVkb19jbGFzcygnY2hlY2tlZCcpXG5cbiAgICAgICAgcHVzaE1vZGFsKGJveClcblxuICAgICAgICAvLyBGb3Igc29tZSByZWFzb24sIGl0IGlzIGVtbWl0ZWQgdGhlIGJ1dHRvbi1wcmVzcyBldmVudCB3aGVuIGNsaWNraW5nIGUuZyBvbiB0aGUgZGVza3RvcCBidXQgdGhlIGJ1dHRvbi1yZWxlYXNlLWV2ZW50IHdoZW4gY2xpY2tpbmcgb24gYW5vdGhlciBhcHBsZXRcbiAgICAgICAgZ2xvYmFsLnN0YWdlLmNvbm5lY3QoJ2J1dHRvbi1wcmVzcy1ldmVudCcsIGhhbmRsZUNsaWNrKVxuICAgICAgICBnbG9iYWwuc3RhZ2UuY29ubmVjdCgnYnV0dG9uLXJlbGVhc2UtZXZlbnQnLCBoYW5kbGVDbGljaylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcblxuICAgICAgICBpZiAoIWJveC52aXNpYmxlKSByZXR1cm5cblxuICAgICAgICBiaW4uaGlkZSgpXG4gICAgICAgIGJveC5oaWRlKClcbiAgICAgICAgbGF1bmNoZXIucmVtb3ZlX3N0eWxlX3BzZXVkb19jbGFzcygnY2hlY2tlZCcpXG4gICAgICAgIHBvcE1vZGFsKGJveClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhhY3RvcjogaW1wb3J0cy5naS5DbHV0dGVyLlN0YWdlLCBldmVudDogaW1wb3J0cy5naS5DbHV0dGVyLkV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCFib3gudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbGlja2VkQWN0b3IgPSBldmVudC5nZXRfc291cmNlKClcblxuICAgICAgICBjb25zdCBiaW5DbGlja2VkID0gYm94LmNvbnRhaW5zKGNsaWNrZWRBY3RvcilcbiAgICAgICAgY29uc3QgYXBwbGV0Q2xpY2tlZCA9IGxhdW5jaGVyLmNvbnRhaW5zKGNsaWNrZWRBY3Rvcik7XG5cbiAgICAgICAgKCFiaW5DbGlja2VkICYmICFhcHBsZXRDbGlja2VkKSAmJiBjbG9zZSgpXG4gICAgfVxuXG4gICAgKGJveCBhcyBQb3B1cE1lbnUpLnRvZ2dsZSA9IHRvZ2dsZTtcbiAgICAoYm94IGFzIFBvcHVwTWVudSkuY2xvc2UgPSBjbG9zZVxuXG4gICAgcmV0dXJuIChib3ggYXMgUG9wdXBNZW51KVxufSIsImltcG9ydCAqIGFzIGNvbnN0cyBmcm9tIFwiLi4vY29uc3RzXCI7XG5pbXBvcnQgeyBjcmVhdGVJY29uTWVudUl0ZW0gfSBmcm9tIFwiLi4vbGliL0ljb25NZW51SXRlbVwiO1xuY29uc3QgeyBCb3hMYXlvdXQgfSA9IGltcG9ydHMuZ2kuU3RcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZm9TZWN0aW9uKCkge1xuXG4gICAgY29uc3QgY2hhbm5lbEluZm9JdGVtID0gY3JlYXRlSW5mb0l0ZW0oY29uc3RzLlJBRElPX1NZTUJPTElDX0lDT05fTkFNRSlcbiAgICBjb25zdCBzb25nSW5mb0l0ZW0gPSBjcmVhdGVJbmZvSXRlbShjb25zdHMuU09OR19JTkZPX0lDT05fTkFNRSlcblxuICAgIGNvbnN0IGluZm9TZWN0aW9uID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfSk7XG5cbiAgICBbY2hhbm5lbEluZm9JdGVtLCBzb25nSW5mb0l0ZW1dLmZvckVhY2goaW5mb0l0ZW0gPT4ge1xuICAgICAgICBpbmZvU2VjdGlvbi5hZGRfY2hpbGQoaW5mb0l0ZW0uYWN0b3IpXG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluZm9JdGVtKGljb25OYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaWNvbk1lbnVJdGVtID0gY3JlYXRlSWNvbk1lbnVJdGVtKHtcbiAgICAgICAgICAgIGljb25OYW1lLFxuICAgICAgICAgICAgbWF4Q2hhck51bWJlcjogY29uc3RzLk1BWF9TVFJJTkdfTEVOR1RILFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBpY29uTWVudUl0ZW1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDaGFubmVsKGNoYW5uZU5hbWU6IHN0cmluZykge1xuICAgICAgICBjaGFubmVsSW5mb0l0ZW0uc2V0VGV4dChjaGFubmVOYW1lKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFNvbmdUaXRsZShzb25nVGl0bGU6IHN0cmluZykge1xuICAgICAgICBzb25nSW5mb0l0ZW0uc2V0VGV4dChzb25nVGl0bGUpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IGluZm9TZWN0aW9uLFxuICAgICAgICBzZXRTb25nVGl0bGUsXG4gICAgICAgIHNldENoYW5uZWxcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBjcmVhdGVBY3RpdldpZGdldCB9IGZyb20gXCIuLi8uLi9saWIvQWN0aXZXaWRnZXRcIjtcblxuY29uc3QgeyBCdXR0b24sIEljb24sIEljb25UeXBlIH0gPSBpbXBvcnRzLmdpLlN0O1xuY29uc3QgeyBUb29sdGlwIH0gPSBpbXBvcnRzLnVpLnRvb2x0aXBzO1xuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBpY29uTmFtZTogc3RyaW5nLFxuICAgIHRvb2x0aXBUeHQ6IHN0cmluZyxcbiAgICBvbkNsaWNrOiB7ICgpOiB2b2lkIH0sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250cm9sQnRuKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBpY29uTmFtZSxcbiAgICAgICAgdG9vbHRpcFR4dCxcbiAgICAgICAgb25DbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBpY29uID0gbmV3IEljb24oe1xuICAgICAgICBpY29uX3R5cGU6IEljb25UeXBlLlNZTUJPTElDLFxuICAgICAgICBpY29uX25hbWU6IGljb25OYW1lLFxuICAgICAgICBzdHlsZV9jbGFzczogJ3BvcHVwLW1lbnUtaWNvbicgLy8gdGhpcyBzcGVjaWZpZXMgdGhlIGljb24tc2l6ZVxuICAgIH0pXG5cbiAgICBjb25zdCBidG4gPSBuZXcgQnV0dG9uKHtcbiAgICAgICAgcmVhY3RpdmU6IHRydWUsXG4gICAgICAgIGNhbl9mb2N1czogdHJ1ZSxcbiAgICAgICAgLy8gSXQgaXMgY2hhbGxlbmdpbmcgdG8gZ2V0IGEgcmVhc29uYWJsZSBzdHlsZSBvbiBhbGwgdGhlbWVzLiBJIGhhdmUgdHJpZWQgdXNpbmcgdGhlICdzb3VuZC1wbGF5ZXItb3ZlcmxheScgY2xhc3MgYnV0IGRpZG4ndCBnZXQgaXQgd29ya2luZy4gSG93ZXZlciBtaWdodCBiZSBwb3NzaWJsZSBhbnl3YXkuICBcbiAgICAgICAgc3R5bGVfY2xhc3M6IFwicG9wdXAtbWVudS1pdGVtXCIsXG4gICAgICAgIHN0eWxlOiBcIndpZHRoOjIwcHg7IHBhZGRpbmc6MTBweCFpbXBvcnRhbnRcIixcbiAgICAgICAgY2hpbGQ6IGljb25cbiAgICB9KVxuXG4gICAgY3JlYXRlQWN0aXZXaWRnZXQoe1xuICAgICAgICB3aWRnZXQ6IGJ0bixcbiAgICAgICAgb25BY3RpdmF0ZWQ6IG9uQ2xpY2tcbiAgICB9KVxuXG4gICAgY29uc3QgdG9vbHRpcCA9IG5ldyBUb29sdGlwKGJ0biwgdG9vbHRpcFR4dClcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFjdG9yOiBidG4sXG4gICAgICAgIGljb24sXG4gICAgICAgIHRvb2x0aXBcbiAgICB9XG59IiwiaW1wb3J0IHsgUEFVU0VfSUNPTl9OQU1FLCBQTEFZX0lDT05fTkFNRSB9IGZyb20gXCIuLi8uLi9jb25zdHNcIlxuaW1wb3J0IHsgUGxheVBhdXNlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCJcbmltcG9ydCB7IGNyZWF0ZUNvbnRyb2xCdG4gfSBmcm9tIFwiLi9Db250cm9sQnRuXCJcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgb25DbGljazogeyAoKTogdm9pZCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQbGF5UGF1c2VCdXR0b24oYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9uQ2xpY2tcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgY29udHJvbEJ0biA9IGNyZWF0ZUNvbnRyb2xCdG4oe1xuICAgICAgICBpY29uTmFtZTogUExBWV9JQ09OX05BTUUsXG4gICAgICAgIHRvb2x0aXBUeHQ6ICdQbGF5JyxcbiAgICAgICAgb25DbGlja1xuICAgIH0pXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGxheVBhdXNlIGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHJhZGlvLCB3aGljaCBtZWFucyB0aGF0IHRoZSBvcHBvc2l0ZSBpcyBzaG93biAoZS5nLiB3aGVuIHRoZSByYWRpbyBpcyBwbGF5aW5nLCBpdCBpcyBzaG93biBhIHBhdXNlIGl0ZW0pXG4gICAgICogXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0UGxheWJhY2tTdGF0dXMocGxheVBhdXNlOiBQbGF5UGF1c2UpIHtcblxuICAgICAgICBsZXQgdG9vbHRpcFR4dDogc3RyaW5nXG4gICAgICAgIGxldCBpY29uTmFtZTogc3RyaW5nXG5cbiAgICAgICAgaWYgKHBsYXlQYXVzZSA9PT0gJ1BsYXlpbmcnKSB7XG4gICAgICAgICAgICB0b29sdGlwVHh0ID0gJ1BhdXNlJ1xuICAgICAgICAgICAgaWNvbk5hbWUgPSBQQVVTRV9JQ09OX05BTUVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5UGF1c2UgPT09ICdQYXVzZWQnKSB7XG4gICAgICAgICAgICB0b29sdGlwVHh0ID0gJ1BsYXknXG4gICAgICAgICAgICBpY29uTmFtZSA9IFBMQVlfSUNPTl9OQU1FXG4gICAgICAgIH1cblxuICAgICAgICBjb250cm9sQnRuLnRvb2x0aXAuc2V0X3RleHQodG9vbHRpcFR4dClcbiAgICAgICAgY29udHJvbEJ0bi5pY29uLmljb25fbmFtZSA9IGljb25OYW1lXG5cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogY29udHJvbEJ0bi5hY3RvcixcbiAgICAgICAgc2V0UGxheWJhY2tTdGF0dXNcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBDT1BZX0lDT05fTkFNRSB9IGZyb20gXCIuLi8uLi9jb25zdHNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRyb2xCdG4gfSBmcm9tIFwiLi9Db250cm9sQnRuXCI7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uQ2xpY2s6IHsgKCk6IHZvaWQgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29weUJ1dHRvbihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25DbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBkZWZhdWx0VG9vbHRpcFR4dCA9IFwiQ29weSBjdXJyZW50IHNvbmcgdGl0bGUgdG8gQ2xpcGJvYXJkXCJcblxuICAgIGNvbnN0IGNvbnRyb2xCdG4gPSBjcmVhdGVDb250cm9sQnRuKHtcbiAgICAgICAgaWNvbk5hbWU6IENPUFlfSUNPTl9OQU1FLFxuICAgICAgICB0b29sdGlwVHh0OiBkZWZhdWx0VG9vbHRpcFR4dCxcbiAgICAgICAgb25DbGljazogaGFuZGxlQ2xpY2tcbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgIGNvbnRyb2xCdG4udG9vbHRpcC5zaG93KClcbiAgICAgICAgb25DbGljaygpXG4gICAgICAgIC8vIHNob3dDb3B5SW5Ub29sdGlwKClcbiAgICB9XG5cbiAgICAvLyBGb3Igc29tZSByZWFzb25zIEkgZG9uJ3QgdW5kZXJzdGFuZCwgdGhpcyBmdW5jdGlvbiBoYXMgc3RvcHBlZCB3b3JraW5nIGFmdGVyIHJlZmFjdG9yaW5nIHRoZSBwb3B1cCBNZW51LiBObyBpZGVhIGhvdyB0byBkZWJ1ZyB0aGlzLiBUaGVyZWZvcmUgZGVhY3RpdmF0aW5nIHRoaXMgZm9yIG5vdyA6LSguIEl0IGlzIHRocm93biBhbiAgd2FybmluZyB3aGVuIGNsaWNraW5nIG9uIHRoZSBidXR0b24gYnV0IHRoaXMgaGFzIG5vdGhpbmcgdG8gZG8gd2l0aCB0aGUgdG9vbHRpcFxuICAgIGZ1bmN0aW9uIHNob3dDb3B5SW5Ub29sdGlwKCkge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gY29udHJvbEJ0bi50b29sdGlwXG4gICAgICAgIHRvb2x0aXAuc2V0X3RleHQoXCJDb3BpZWRcIilcbiAgICAgICAgdG9vbHRpcC5zaG93KClcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRvb2x0aXAuaGlkZSgpXG4gICAgICAgICAgICB0b29sdGlwLnNldF90ZXh0KGRlZmF1bHRUb29sdGlwVHh0KVxuICAgICAgICB9LCA1MDApXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IGNvbnRyb2xCdG4uYWN0b3IsXG4gICAgfVxufSIsImltcG9ydCB7IERPV05MT0FEX0lDT05fTkFNRSB9IGZyb20gXCIuLi8uLi9jb25zdHNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRyb2xCdG4gfSBmcm9tIFwiLi9Db250cm9sQnRuXCI7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uQ2xpY2s6IHsgKCk6IHZvaWQgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRG93bmxvYWRCdXR0b24oYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9uQ2xpY2tcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgZG93bmxvYWRCdXR0b24gPSBjcmVhdGVDb250cm9sQnRuKHtcbiAgICAgICAgaWNvbk5hbWU6IERPV05MT0FEX0lDT05fTkFNRSxcbiAgICAgICAgdG9vbHRpcFR4dDogXCJEb3dubG9hZCBjdXJyZW50IHNvbmcgZnJvbSBZb3V0dWJlXCIsXG4gICAgICAgIG9uQ2xpY2tcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IGRvd25sb2FkQnV0dG9uLmFjdG9yXG4gICAgfVxuXG59IiwiY29uc3QgeyBCb3hMYXlvdXQgfSA9IGltcG9ydHMuZ2kuU3RcbmNvbnN0IHsgQWN0b3JBbGlnbiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIC8qKlxuICAgICAqIHRoZSBidG5zIG9uIHRoZSB0b29sYmFyLiBUaGUgZmlyc3QgaXMgc2hvd24gb24gdGhlIG1vc3QgbGVmdFxuICAgICAqL1xuICAgIGNvbnRyb2xCdG5zOiBpbXBvcnRzLmdpLlN0LkJ1dHRvbltdXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNZWRpYUNvbnRyb2xUb29sYmFyID0gKGFyZ3M6IEFyZ3VtZW50cykgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBjb250cm9sQnRuc1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCB0b29sYmFyID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiBcInJhZGlvLWFwcGxldC1tZWRpYS1jb250cm9sLXRvb2xiYXJcIixcbiAgICAgICAgeF9hbGlnbjogQWN0b3JBbGlnbi5DRU5URVJcbiAgICB9KTtcblxuICAgIGNvbnRyb2xCdG5zLmZvckVhY2goYnRuID0+XG4gICAgICAgIHRvb2xiYXIuYWRkX2NoaWxkKGJ0bilcbiAgICApXG5cbiAgICByZXR1cm4gdG9vbGJhclxufVxuIiwiaW1wb3J0IHsgU1RPUF9JQ09OX05BTUUgfSBmcm9tIFwiLi4vLi4vY29uc3RzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250cm9sQnRuIH0gZnJvbSBcIi4vQ29udHJvbEJ0blwiO1xuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBvbkNsaWNrOiB7ICgpOiB2b2lkIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0b3BCdG4oYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9uQ2xpY2tcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3Qgc3RvcEJ0biA9IGNyZWF0ZUNvbnRyb2xCdG4oe1xuICAgICAgICBpY29uTmFtZTogU1RPUF9JQ09OX05BTUUsXG4gICAgICAgIHRvb2x0aXBUeHQ6IFwiU3RvcFwiLFxuICAgICAgICBvbkNsaWNrXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3Rvcjogc3RvcEJ0bi5hY3RvclxuICAgIH1cbn0iLCJjb25zdCB7IENsaXBib2FyZCwgQ2xpcGJvYXJkVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuXG5leHBvcnQgZnVuY3Rpb24gY29weVRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgQ2xpcGJvYXJkLmdldF9kZWZhdWx0KCkuc2V0X3RleHQoQ2xpcGJvYXJkVHlwZS5DTElQQk9BUkQsIHRleHQpXG59IiwiaW1wb3J0IHsgUE9QVVBfTUVOVV9JVEVNX0NMQVNTIH0gZnJvbSBcIi4uL2NvbnN0c1wiXG5pbXBvcnQgeyBjcmVhdGVBY3RpdldpZGdldCB9IGZyb20gXCIuLi9saWIvQWN0aXZXaWRnZXRcIjtcbmltcG9ydCB7IGNyZWF0ZVNsaWRlciB9IGZyb20gXCIuLi9saWIvU2xpZGVyXCI7XG5cbmNvbnN0IHsgQm94TGF5b3V0LCBMYWJlbCB9ID0gaW1wb3J0cy5naS5TdFxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICAvKiogcG9zaXRpb24gaW4gc2Vjb25kICovXG4gICAgb25Qb3NpdGlvbkNoYW5nZWQ6IChwb3NpdGlvbjogbnVtYmVyKSA9PiB2b2lkXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlZWtlcihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25Qb3NpdGlvbkNoYW5nZWRcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiBQT1BVUF9NRU5VX0lURU1fQ0xBU1NcbiAgICB9KVxuXG4gICAgY3JlYXRlQWN0aXZXaWRnZXQoe1xuICAgICAgICB3aWRnZXQ6IGNvbnRhaW5lclxuICAgIH0pXG5cbiAgICAvLyBsZW5ndGggaW4gc2Vjb25kc1xuICAgIGxldCBsZW5ndGg6IG51bWJlciA9IDEwMFxuICAgIC8vIHBvc2l0aW9uIGluIHNlY29uZHNcbiAgICBsZXQgcG9zaXRpb246IG51bWJlclxuXG4gICAgY29uc3QgcG9zaXRpb25MYWJlbCA9IG5ldyBMYWJlbCgpXG4gICAgY29uc3QgbGVuZ3RoTGFiZWwgPSBuZXcgTGFiZWwoKTtcblxuICAgIGNvbnN0IHNsaWRlciA9IGNyZWF0ZVNsaWRlcih7XG4gICAgICAgIGluaXRpYWxWYWx1ZTogMC41LFxuICAgICAgICBvblZhbHVlQ2hhbmdlZDogaGFuZGxlVmFsdWVDaGFuZ2VkXG4gICAgfSk7XG5cblxuICAgIFtwb3NpdGlvbkxhYmVsLCBzbGlkZXIuYWN0b3IsIGxlbmd0aExhYmVsXS5mb3JFYWNoKHdpZGdldCA9PiB7XG4gICAgICAgIGNvbnRhaW5lci5hZGRfY2hpbGQod2lkZ2V0KVxuICAgIH0pXG5cbiAgICAvKiogQHBhcmFtIHZhbHVlIGluIHNlY29uZHMgKi9cbiAgICBmdW5jdGlvbiBzZXRMZW5ndGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICBsZW5ndGggPSB2YWx1ZVxuICAgICAgICBsZW5ndGhMYWJlbC5zZXRfdGV4dChzZWNvbmRzVG9Gb3JtYXRlZE1pbih2YWx1ZSkpXG4gICAgICAgIHJlZnJlc2hTbGlkZXJWYWx1ZSgpXG4gICAgfVxuXG4gICAgLyoqIEBwYXJhbSB2YWx1ZSBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gc2V0UG9zaXRpb24odmFsdWU6IG51bWJlcikge1xuICAgICAgICBwb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICBwb3NpdGlvbkxhYmVsLnNldF90ZXh0KHNlY29uZHNUb0Zvcm1hdGVkTWluKHBvc2l0aW9uKSlcbiAgICAgICAgcmVmcmVzaFNsaWRlclZhbHVlKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWZyZXNoU2xpZGVyVmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHNsaWRlclZhbHVlID0gbGVuZ3RoID09PSAwID8gMCA6IE1hdGgubWluKHBvc2l0aW9uIC8gbGVuZ3RoLCAxKVxuICAgICAgICBzbGlkZXIuc2V0VmFsdWUoc2xpZGVyVmFsdWUsIHRydWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVmFsdWVDaGFuZ2VkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSB2YWx1ZSAqIGxlbmd0aFxuXG4gICAgICAgIG9uUG9zaXRpb25DaGFuZ2VkKG5ld1Bvc2l0aW9uKVxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBzZWNvbmRzIHRvIGEgc3RyaW5nIGluIHRoZSBmb3JtIG9mOiBtbTpzcyBcbiAgICAgKiBcbiAgICAgKiBlLmcuIDEwIHNlY29uZHMgPSAwMDoxMCwgMTAwIHNlY29uZHMgPSAwMTo0MCwgIDYwMDAgc2Vjb25kcyA9IDEwMDowMFxuICAgICAqICAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2Vjb25kcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZWNvbmRzVG9Gb3JtYXRlZE1pbihzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1NlY29uZHMgPSBzZWNvbmRzIC0gbWludXRlcyAqIDYwO1xuXG4gICAgICAgIC8vIGVuc3VyZXMgbWludXRlcyBhbmQgc2Vjb25kcyBhcmUgc2hvd24gd2l0aCBhdCBsZWFzdCB0d28gZGlnaXRzXG4gICAgICAgIHJldHVybiBbbWludXRlcywgcmVtYWluaW5nU2Vjb25kc10ubWFwKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlU3RyaW5nID0gdmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVTdHJpbmdcbiAgICAgICAgfSkuam9pbihcIjpcIilcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogY29udGFpbmVyLFxuICAgICAgICBzZXRMZW5ndGgsXG4gICAgICAgIHNldFBvc2l0aW9uXG4gICAgfVxufSIsImNvbnN0IHsgQm94TGF5b3V0LCBEcmF3aW5nQXJlYSB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBMaW5lYXJHcmFkaWVudCB9ID0gaW1wb3J0cy5naS5jYWlyb1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VwYXJhdG9yTWVudUl0ZW0oKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pdGVtJ1xuICAgIH0pXG5cbiAgICBjb25zdCBkcmF3aW5nQXJlYSA9IG5ldyBEcmF3aW5nQXJlYSh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtc2VwYXJhdG9yLW1lbnUtaXRlbScsXG4gICAgICAgIHhfZXhwYW5kOiB0cnVlXG4gICAgfSlcblxuICAgIGNvbnRhaW5lci5hZGRfY2hpbGQoZHJhd2luZ0FyZWEpXG5cbiAgICBkcmF3aW5nQXJlYS5jb25uZWN0KCdyZXBhaW50JywgKCkgPT4ge1xuICAgICAgICBjb25zdCBjciA9IGRyYXdpbmdBcmVhLmdldF9jb250ZXh0KClcblxuICAgICAgICBjb25zdCB0aGVtZU5vZGUgPSBkcmF3aW5nQXJlYS5nZXRfdGhlbWVfbm9kZSgpXG4gICAgICAgIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IGRyYXdpbmdBcmVhLmdldF9zdXJmYWNlX3NpemUoKVxuICAgICAgICBjb25zdCBtYXJnaW4gPSB0aGVtZU5vZGUuZ2V0X2xlbmd0aCgnLW1hcmdpbi1ob3Jpem9udGFsJylcbiAgICAgICAgY29uc3QgZ3JhZGllbnRIZWlnaHQgPSB0aGVtZU5vZGUuZ2V0X2xlbmd0aCgnLWdyYWRpZW50LWhlaWdodCcpXG4gICAgICAgIGNvbnN0IHN0YXJ0Q29sb3IgPSB0aGVtZU5vZGUuZ2V0X2NvbG9yKCctZ3JhZGllbnQtc3RhcnQnKVxuICAgICAgICBjb25zdCBlbmRDb2xvciA9IHRoZW1lTm9kZS5nZXRfY29sb3IoJy1ncmFkaWVudC1lbmQnKVxuXG4gICAgICAgIGNvbnN0IGdyYWRpZW50V2lkdGggPSAod2lkdGggLSBtYXJnaW4gKiAyKTtcbiAgICAgICAgY29uc3QgZ3JhZGllbnRPZmZzZXQgPSAoaGVpZ2h0IC0gZ3JhZGllbnRIZWlnaHQpIC8gMjtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBMaW5lYXJHcmFkaWVudChtYXJnaW4sIGdyYWRpZW50T2Zmc2V0LCB3aWR0aCAtIG1hcmdpbiwgZ3JhZGllbnRPZmZzZXQgKyBncmFkaWVudEhlaWdodClcblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIGNvbnN0IGNvbG9ycyA9IFsncmVkJywgJ2dyZWVuJywgJ2JsdWUnLCAnYWxwaGEnXS5tYXAoY29sb3IgPT4gc3RhcnRDb2xvcltjb2xvcl0gLyAyNTUpXG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy80MTMwI2lzc3VlY29tbWVudC00OTk1MjU4OTdcbiAgICAgICAgcGF0dGVybi5hZGRDb2xvclN0b3BSR0JBKDAsIHN0YXJ0Q29sb3IucmVkIC8gMjU1LCBzdGFydENvbG9yLmdyZWVuIC8gMjU1LCBzdGFydENvbG9yLmJsdWUgLyAyNTUsIHN0YXJ0Q29sb3IuYWxwaGEgLyAyNTUpXG4gICAgICAgIHBhdHRlcm4uYWRkQ29sb3JTdG9wUkdCQSgwLjUsIGVuZENvbG9yLnJlZCAvIDI1NSwgZW5kQ29sb3IuZ3JlZW4gLyAyNTUsIGVuZENvbG9yLmJsdWUgLyAyNTUsIGVuZENvbG9yLmFscGhhIC8gMjU1KVxuICAgICAgICBwYXR0ZXJuLmFkZENvbG9yU3RvcFJHQkEoMSwgc3RhcnRDb2xvci5yZWQgLyAyNTUsIHN0YXJ0Q29sb3IuZ3JlZW4gLyAyNTUsIHN0YXJ0Q29sb3IuYmx1ZSAvIDI1NSwgc3RhcnRDb2xvci5hbHBoYSAvIDI1NSlcblxuICAgICAgICBjci5zZXRTb3VyY2UocGF0dGVybilcbiAgICAgICAgY3IucmVjdGFuZ2xlKG1hcmdpbiwgZ3JhZGllbnRPZmZzZXQsIGdyYWRpZW50V2lkdGgsIGdyYWRpZW50SGVpZ2h0KVxuICAgICAgICBjci5maWxsKClcblxuICAgICAgICBjci4kZGlzcG9zZVxuICAgIH0pXG5cbiAgICByZXR1cm4gY29udGFpbmVyXG5cbn0iLCJjb25zdCB7IHNwYXduQ29tbWFuZExpbmVBc3luY0lPIH0gPSBpbXBvcnRzLm1pc2MudXRpbDtcblxuZXhwb3J0IGNvbnN0IHNwYXduQ29tbWFuZExpbmVQcm9taXNlID0gZnVuY3Rpb24gKGNvbW1hbmQ6IHN0cmluZykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxbc3Rkb3V0OiBzdHJpbmcgfCBudWxsLCBzdGRlcnI6IHN0cmluZyB8IG51bGwsIGV4aXRDb2RlOiBudW1iZXJdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgc3Bhd25Db21tYW5kTGluZUFzeW5jSU8oY29tbWFuZCwgKHN0ZG91dCwgc3RkZXJyLCBleGl0Q29kZSkgPT4ge1xuICAgICAgICAgICAgKHN0ZG91dCkgPyByZXNvbHZlKFtudWxsLCBzdGRvdXQsIDBdKSA6IHJlc29sdmUoW3N0ZGVyciwgbnVsbCwgZXhpdENvZGVdKVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cblxuIiwiY29uc3QgeyBTeXN0ZW1Ob3RpZmljYXRpb25Tb3VyY2UsIE5vdGlmaWNhdGlvbiB9ID0gaW1wb3J0cy51aS5tZXNzYWdlVHJheTtcbmNvbnN0IHsgbWVzc2FnZVRyYXkgfSA9IGltcG9ydHMudWkubWFpbjtcbmNvbnN0IHsgSWNvbiwgSWNvblR5cGUgfSA9IGltcG9ydHMuZ2kuU3RcblxuaW1wb3J0IHsgUkFESU9fU1lNQk9MSUNfSUNPTl9OQU1FIH0gZnJvbSBcIi4uLy4uL2NvbnN0c1wiO1xuXG5jb25zdCBtZXNzYWdlU291cmNlID0gbmV3IFN5c3RlbU5vdGlmaWNhdGlvblNvdXJjZSgnUmFkaW8gQXBwbGV0Jylcbm1lc3NhZ2VUcmF5LmFkZChtZXNzYWdlU291cmNlKVxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBub3RpZmljYXRpb25UZXh0OiBzdHJpbmcsXG4gICAgaXNNYXJrdXA/OiBib29sZWFuXG4gICAgdHJhbnNpZW50PzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgQ3VzdG9tTm90aWZpY2F0aW9uIGV4dGVuZHMgaW1wb3J0cy51aS5tZXNzYWdlVHJheS5Ob3RpZmljYXRpb24ge1xuICAgIG5vdGlmeTogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFzaWNOb3RpZmljYXRpb24oYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG5vdGlmaWNhdGlvblRleHQsXG4gICAgICAgIGlzTWFya3VwID0gZmFsc2UsXG4gICAgICAgIHRyYW5zaWVudCA9IHRydWVcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgaWNvbiA9IG5ldyBJY29uKHtcbiAgICAgICAgaWNvbl90eXBlOiBJY29uVHlwZS5TWU1CT0xJQyxcbiAgICAgICAgaWNvbl9uYW1lOiBSQURJT19TWU1CT0xJQ19JQ09OX05BTUUsXG4gICAgICAgIGljb25fc2l6ZTogMjVcbiAgICB9KVxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbihcbiAgICAgICAgbWVzc2FnZVNvdXJjZSxcbiAgICAgICAgX19tZXRhLm5hbWUsXG4gICAgICAgIG5vdGlmaWNhdGlvblRleHQsXG4gICAgICAgIHsgaWNvbiwgYm9keU1hcmt1cDogaXNNYXJrdXAgfSkgYXMgQ3VzdG9tTm90aWZpY2F0aW9uXG5cbiAgICBub3RpZmljYXRpb24uc2V0VHJhbnNpZW50KHRyYW5zaWVudClcblxuICAgIG5vdGlmaWNhdGlvbi5ub3RpZnkgPSAoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2VTb3VyY2Uubm90aWZ5KG5vdGlmaWNhdGlvbilcbiAgICB9XG5cbiAgICByZXR1cm4gbm90aWZpY2F0aW9uXG59IiwiaW1wb3J0IHsgY3JlYXRlQmFzaWNOb3RpZmljYXRpb24gfSBmcm9tIFwiLi9Ob3RpZmljYXRpb25CYXNlXCJcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgdGV4dDogc3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RpZnkoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHRleHRcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gY3JlYXRlQmFzaWNOb3RpZmljYXRpb24oe1xuICAgICAgICBub3RpZmljYXRpb25UZXh0OiB0ZXh0XG4gICAgfSlcblxuICAgIG5vdGlmaWNhdGlvbi5ub3RpZnkoKVxufSIsImltcG9ydCB7IHNwYXduQ29tbWFuZExpbmVQcm9taXNlIH0gZnJvbSBcIi4uL2Z1bmN0aW9ucy9wcm9taXNlSGVscGVyc1wiO1xuXG5pbXBvcnQgeyBNUFJJU19QTFVHSU5fUEFUSCwgTVBSSVNfUExVR0lOX1VSTCB9IGZyb20gJy4uL2NvbnN0cydcbmltcG9ydCB7IG5vdGlmeSB9IGZyb20gXCIuLi91aS9Ob3RpZmljYXRpb25zL0dlbmVyaWNOb3RpZmljYXRpb25cIjtcblxuY29uc3QgeyBmaW5kX3Byb2dyYW1faW5fcGF0aCwgZmlsZV90ZXN0LCBGaWxlVGVzdCB9ID0gaW1wb3J0cy5naS5HTGliO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zdGFsbE1wdldpdGhNcHJpcygpIHtcblxuICAgIGNvbnN0IG1wcmlzUGx1Z2luRG93bmxvYWRlZCA9IGNoZWNrTXByaXNQbHVnaW5Eb3dubG9hZGVkKClcbiAgICBjb25zdCBtcHZJbnN0YWxsZWQgPSBjaGVja01wdkluc3RhbGxlZCgpXG5cbiAgICAhbXByaXNQbHVnaW5Eb3dubG9hZGVkICYmIGF3YWl0IGRvd25sb2FkTXJpc1BsdWdpbkludGVyYWN0aXZlKClcblxuICAgIGlmICghbXB2SW5zdGFsbGVkKSB7XG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvblRleHQgPSBgUGxlYXNlICR7bXByaXNQbHVnaW5Eb3dubG9hZGVkID8gJycgOiAnYWxzbyd9IGluc3RhbGwgdGhlIG1wdiBwYWNrYWdlLmBcbiAgICAgICAgbm90aWZ5KHsgdGV4dDogbm90aWZpY2F0aW9uVGV4dCB9KVxuICAgICAgICBhd2FpdCBpbnN0YWxsTXB2SW50ZXJhY3RpdmUoKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tNcHZJbnN0YWxsZWQoKSB7XG4gICAgcmV0dXJuIGZpbmRfcHJvZ3JhbV9pbl9wYXRoKCdtcHYnKVxufVxuXG5mdW5jdGlvbiBjaGVja01wcmlzUGx1Z2luRG93bmxvYWRlZCgpIHtcbiAgICByZXR1cm4gZmlsZV90ZXN0KE1QUklTX1BMVUdJTl9QQVRILCBGaWxlVGVzdC5JU19SRUdVTEFSKVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsTXB2SW50ZXJhY3RpdmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBpZiAoY2hlY2tNcHZJbnN0YWxsZWQoKSkgcmV0dXJuIHJlc29sdmUoKVxuXG4gICAgICAgIGlmICghZmluZF9wcm9ncmFtX2luX3BhdGgoXCJhcHR1cmxcIikpIHJldHVybiByZWplY3QoKVxuXG4gICAgICAgIGNvbnN0IFtzdGRlcnIsIHN0ZG91dCwgZXhpdENvZGVdID0gYXdhaXQgc3Bhd25Db21tYW5kTGluZVByb21pc2UoYFxuICAgICAgICAgICAgYXB0dXJsIGFwdDovL21wdmBcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIGV4aXRDb2RlIDAgbWVhbnMgc3VjZXNzZnVsbHkuIFNlZTogbWFuIGFwdHVybFxuICAgICAgICByZXR1cm4gKGV4aXRDb2RlID09PSAwKSA/IHJlc29sdmUoKSA6IHJlamVjdChzdGRlcnIpXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZG93bmxvYWRNcmlzUGx1Z2luSW50ZXJhY3RpdmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBpZiAoY2hlY2tNcHJpc1BsdWdpbkRvd25sb2FkZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFtzdGRlcnIsIHN0ZG91dCwgZXhpdENvZGVdID0gYXdhaXQgc3Bhd25Db21tYW5kTGluZVByb21pc2UoXG4gICAgICAgICAgICBgcHl0aG9uMyAgJHtfX21ldGEucGF0aH0vZG93bmxvYWQtZGlhbG9nLW1wcmlzLnB5YFxuICAgICAgICApXG5cbiAgICAgICAgaWYgKHN0ZG91dC50cmltKCkgIT09ICdDb250aW51ZScpIHsgcmV0dXJuIHJlamVjdCgpIH1cblxuICAgICAgICBbc3RkZXJyLCBzdGRvdXQsIGV4aXRDb2RlXSA9IGF3YWl0IHNwYXduQ29tbWFuZExpbmVQcm9taXNlKGBcbiAgICAgICAgICAgIHdnZXQgJHtNUFJJU19QTFVHSU5fVVJMfSAtTyAke01QUklTX1BMVUdJTl9QQVRIfWApO1xuXG4gICAgICAgIC8vIFdnZXQgYWx3YXlzIHByaW50cyB0byBzdGRlcnIgLSBleGl0Y29kZSAwIG1lYW5zIGl0IHdhcyBzdWNlc3NmdWxsIFxuICAgICAgICAvLyBzZWU6ICBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMzA2NjUxOC93aHktZG9lcy13Z2V0LW91dHB1dC10by1zdGRlcnItcmF0aGVyLXRoYW4tc3Rkb3V0XG4gICAgICAgIC8vIGFuZCBodHRwczovL3d3dy5nbnUub3JnL3NvZnR3YXJlL3dnZXQvbWFudWFsL2h0bWxfbm9kZS9FeGl0LVN0YXR1cy5odG1sXG4gICAgICAgIHJldHVybiAoZXhpdENvZGUgPT09IDApID8gcmVzb2x2ZSgpIDogcmVqZWN0KHN0ZGVycilcblxuICAgIH0pXG59XG5cbiIsImNvbnN0IHsgc3Bhd25Db21tYW5kTGluZUFzeW5jSU8gfSA9IGltcG9ydHMubWlzYy51dGlsO1xuY29uc3QgeyBnZXRfaG9tZV9kaXIgfSA9IGltcG9ydHMuZ2kuR0xpYjtcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBkb3dubG9hZERpcjogc3RyaW5nLFxuICAgIG9uRG93bmxvYWRGaW5pc2hlZDogKHBhdGg6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvbkRvd25sb2FkRmFpbGVkOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZFNvbmdGcm9tWW91dHViZShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGRvd25sb2FkRGlyLFxuICAgICAgICBvbkRvd25sb2FkRmluaXNoZWQsXG4gICAgICAgIG9uRG93bmxvYWRGYWlsZWRcbiAgICB9ID0gYXJnc1xuXG4gICAgbGV0IGhhc0JlZW5DYW5jZWxsZWQgPSBmYWxzZVxuXG4gICAgLy8gd2hlbiB1c2luZyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2V0dGluZ3MsIHRoZSBkaXIgc3RhcnRzIHdpdGggfiB3aGF0IGNhbid0IGJlIHVuZGVyc3RhbmQgd2hlbiBleGVjdXRpbmcgY29tbWFuZC4gRWxzZSBpdCBzdGFydHMgd2l0aCBmaWxlOi8vIHdoYXQgeW91dHViZS1kbCBjYW4ndCBoYW5kbGUuIFNhdmluZyB0byBuZXR3b3JrIGRpcmVjdG9yaWVzIChlLmcuIGZ0cCkgZG9lc24ndCB3b3JrIFxuICAgIC8vIFRPRE86IFNob3VsZG4ndCB0aGlzIGJlIGRvbmUgaW4gY29uZmlncyhhdCBsZWFzdCByZXBsYWNpbmcgfik/IFxuICAgIGNvbnN0IG11c2ljX2Rpcl9hYnNvbHV0ID1cbiAgICAgICAgZG93bmxvYWREaXIucmVwbGFjZSgnficsIGdldF9ob21lX2RpcigpKS5yZXBsYWNlKCdmaWxlOi8vJywgJycpXG5cbiAgICBjb25zdCBkb3dubG9hZENvbW1hbmQgPSBgXG4gICAgICAgIHlvdXR1YmUtZGwgLS1vdXRwdXQgXCIke211c2ljX2Rpcl9hYnNvbHV0fS8lKHRpdGxlKXMuJShleHQpc1wiIC0tZXh0cmFjdC1hdWRpbyAtLWF1ZGlvLWZvcm1hdCBtcDMgeXRzZWFyY2gxOlwiJHt0aXRsZS5yZXBsYWNlKCdcIicsICdcXFwiJyl9XCIgLS1hZGQtbWV0YWRhdGEgLS1lbWJlZC10aHVtYm5haWxgXG5cbiAgICBjb25zdCBwcm9jZXNzID0gc3Bhd25Db21tYW5kTGluZUFzeW5jSU8oZG93bmxvYWRDb21tYW5kLCAoc3Rkb3V0LCBzdGRlcnIpID0+IHtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBpZiAoaGFzQmVlbkNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIGhhc0JlZW5DYW5jZWxsZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RkZXJyKSB0aHJvdyBuZXcgRXJyb3Ioc3RkZXJyKVxuXG4gICAgICAgICAgICBpZiAoc3Rkb3V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWRQYXRoID0gZ2V0RG93bmxvYWRQYXRoKHN0ZG91dClcbiAgICAgICAgICAgICAgICBpZiAoIWRvd25sb2FkUGF0aCkgdGhyb3cgbmV3IEVycm9yKCdGaWxlIG5vdCBzYXZlZCcpXG5cbiAgICAgICAgICAgICAgICBvbkRvd25sb2FkRmluaXNoZWQoZG93bmxvYWRQYXRoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZ2xvYmFsLmxvZ0Vycm9yKGBUaGUgZm9sbG93aW5nIGVycm9yIG9jY3VyZWQgYXQgeW91dHViZSBkb3dubG9hZCBhdHRlbXB0OiAke2Vycm9yfS4gVGhlIHVzZWQgZG93bmxvYWQgQ29tbWFuZCB3YXM6ICR7ZG93bmxvYWRDb21tYW5kfWApXG4gICAgICAgICAgICBvbkRvd25sb2FkRmFpbGVkKClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGhhc0JlZW5DYW5jZWxsZWQgPSB0cnVlXG4gICAgICAgIC8vIGl0IHNlZW1zIHRvIGJlIG5vIHByb2JsZW0gdG8gY2FsbCB0aGlzIGFmdGVyIHRoZSBwcm9jZXNzIGhhcyBhbHJlYWR5IGZpbmlzaGVkXG4gICAgICAgIHByb2Nlc3MuZm9yY2VfZXhpdCgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgY2FuY2VsIH1cbn1cblxuZnVuY3Rpb24gZ2V0RG93bmxvYWRQYXRoKHN0ZG91dDogc3RyaW5nKSB7XG4gICAgY29uc3QgYXJyYXlPZkxpbmVzID0gc3Rkb3V0Lm1hdGNoKC9bXlxcclxcbl0rL2cpO1xuXG4gICAgLy8gdGhlcmUgaXMgb25seSBvbmUgbGluZSBpbiBzdGRvdXQgd2hpY2ggZ2l2ZXMgdGhlIHBhdGggb2YgdGhlIGRvd25sb2FkZWQgbXAzLiBUaGlzIHN0YXJ0IHdpdGggW2ZmbXBlZ10gRGVzdGluYXRpb24gLi4uXG4gICAgY29uc3Qgc2VhcmNoU3RyaW5nID0gJ1tmZm1wZWddIERlc3RpbmF0aW9uOiAnXG5cbiAgICByZXR1cm4gYXJyYXlPZkxpbmVzLmZpbmQobGluZSA9PiBsaW5lLmluY2x1ZGVzKHNlYXJjaFN0cmluZykpXG4gICAgICAgIC5zcGxpdChzZWFyY2hTdHJpbmcpWzFdXG59IiwiaW1wb3J0IHsgQVBQTEVUX1NJVEUgfSBmcm9tIFwiLi4vLi4vY29uc3RzXCI7XG5pbXBvcnQgeyBjcmVhdGVCYXNpY05vdGlmaWNhdGlvbiB9IGZyb20gXCIuL05vdGlmaWNhdGlvbkJhc2VcIjtcbmNvbnN0IHsgc3Bhd25Db21tYW5kTGluZSB9ID0gaW1wb3J0cy5taXNjLnV0aWxcbmNvbnN0IHsgZ2V0X2hvbWVfZGlyIH0gPSBpbXBvcnRzLmdpLkdMaWI7XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RpZnlZb3V0dWJlRG93bmxvYWRGYWlsZWQoKSB7XG5cblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvblRleHQgPVxuICAgICAgICBgQ291bGRuJ3QgZG93bmxvYWQgU29uZyBmcm9tIFlvdXR1YmUgZHVlIHRvIGFuIEVycm9yLiBNYWtlIFN1cmUgeW91IGhhdmUgdGhlIG5ld2VzdCB2ZXJzaW9uIG9mIHlvdXR1YmUtZGwgaW5zdGFsbGVkLiBcbiAgICAgICAgXFxuPGI+SW1wb3J0YW50OjwvYj4gRG9uJ3QgdXNlIGFwdCBmb3IgdGhlIGluc3RhbGxhdGlvbiBidXQgZm9sbG93IHRoZSBpbnN0YWxsYXRpb24gaW5zdHJ1Y3Rpb24gZ2l2ZW4gb24gdGhlIFJhZGlvIEFwcGxldCBTaXRlIGluIHRoZSBDaW5uYW1vbiBTdG9yZSBpbnN0ZWFkXG4gICAgICAgIFxcbkZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB0aGUgbG9nc2BcblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGNyZWF0ZUJhc2ljTm90aWZpY2F0aW9uKHtcbiAgICAgICAgbm90aWZpY2F0aW9uVGV4dCxcbiAgICAgICAgaXNNYXJrdXA6IHRydWUsXG4gICAgICAgIHRyYW5zaWVudDogZmFsc2VcbiAgICB9KVxuXG4gICAgY29uc3Qgdmlld1N0b3JlQnRuSWQgPSAndmlld1N0b3JlQnRuJ1xuICAgIGNvbnN0IHZpZXdMb2dCdG5JZCA9ICd2aWV3TG9nQnRuJ1xuXG4gICAgbm90aWZpY2F0aW9uLmFkZEJ1dHRvbih2aWV3U3RvcmVCdG5JZCwgJ1ZpZXcgSW5zdGFsbGF0aW9uIEluc3RydWN0aW9uJylcbiAgICBub3RpZmljYXRpb24uYWRkQnV0dG9uKHZpZXdMb2dCdG5JZCwgXCJWaWV3IExvZ3NcIilcblxuICAgIG5vdGlmaWNhdGlvbi5jb25uZWN0KCdhY3Rpb24taW52b2tlZCcsIChhY3RvciwgaWQpID0+IHtcbiAgICAgICAgaWYgKGlkID09PSB2aWV3U3RvcmVCdG5JZCkge1xuICAgICAgICAgICAgc3Bhd25Db21tYW5kTGluZShgeGRnLW9wZW4gJHtBUFBMRVRfU0lURX0gYClcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgPT09IHZpZXdMb2dCdG5JZCkge1xuICAgICAgICAgICAgc3Bhd25Db21tYW5kTGluZShgeGRnLW9wZW4gJHtnZXRfaG9tZV9kaXIoKX0vLnhzZXNzaW9uLWVycm9yc2ApXG4gICAgICAgIH1cblxuICAgIH0pXG5cbiAgICBub3RpZmljYXRpb24ubm90aWZ5KClcbn0iLCJpbXBvcnQgeyBjcmVhdGVCYXNpY05vdGlmaWNhdGlvbiB9IGZyb20gXCIuL05vdGlmaWNhdGlvbkJhc2VcIjtcblxuY29uc3QgeyBzcGF3bkNvbW1hbmRMaW5lIH0gPSBpbXBvcnRzLm1pc2MudXRpbFxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBkb3dubG9hZFBhdGg6IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm90aWZ5WW91dHViZURvd25sb2FkRmluaXNoZWQoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGRvd25sb2FkUGF0aFxuICAgIH0gPSBhcmdzXG5cblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGNyZWF0ZUJhc2ljTm90aWZpY2F0aW9uKHtcbiAgICAgICAgbm90aWZpY2F0aW9uVGV4dDogYERvd25sb2FkIGZpbmlzaGVkLiBGaWxlIHNhdmVkIHRvICR7ZG93bmxvYWRQYXRofWBcbiAgICB9KVxuXG4gICAgY29uc3QgcGxheUJ0bklkID0gJ29wZW5CdG4nXG5cbiAgICBub3RpZmljYXRpb24uYWRkQnV0dG9uKHBsYXlCdG5JZCwgJ1BsYXknKVxuXG4gICAgbm90aWZpY2F0aW9uLmNvbm5lY3QoJ2FjdGlvbi1pbnZva2VkJywgKGFjdG9yLCBpZCkgPT4ge1xuXG4gICAgICAgIGlmIChpZCA9PT0gcGxheUJ0bklkKSB7XG4gICAgICAgICAgICBzcGF3bkNvbW1hbmRMaW5lKGB4ZGctb3BlbiAnJHtkb3dubG9hZFBhdGh9J2ApXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgbm90aWZpY2F0aW9uLm5vdGlmeSgpXG59IiwiaW1wb3J0IHsgY3JlYXRlQmFzaWNOb3RpZmljYXRpb24gfSBmcm9tIFwiLi9Ob3RpZmljYXRpb25CYXNlXCI7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgb25DYW5jZWxDbGlja2VkOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RpZnlZb3V0dWJlRG93bmxvYWRTdGFydGVkKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgb25DYW5jZWxDbGlja2VkXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGNyZWF0ZUJhc2ljTm90aWZpY2F0aW9uKHtcbiAgICAgICAgbm90aWZpY2F0aW9uVGV4dDogYERvd25sb2FkaW5nICR7dGl0bGV9IC4uLmAsXG4gICAgfSlcblxuICAgIGNvbnN0IGNhbmNlbEJ0bklkID0gJ2NhbmNlbEJ0bidcbiAgICBub3RpZmljYXRpb24uYWRkQnV0dG9uKGNhbmNlbEJ0bklkLCAnQ2FuY2VsJylcblxuICAgIG5vdGlmaWNhdGlvbi5jb25uZWN0KCdhY3Rpb24taW52b2tlZCcsIChhY3RvciwgaWQpID0+IHtcbiAgICAgICAgaWYgKGlkID09PSBjYW5jZWxCdG5JZCkgb25DYW5jZWxDbGlja2VkKClcbiAgICB9KVxuXG4gICAgbm90aWZpY2F0aW9uLm5vdGlmeSgpXG59IiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY3JlYXRlQXBwbGV0SWNvbiB9IGZyb20gJy4vdWkvQXBwbGV0L0FwcGxldEljb24nO1xuaW1wb3J0IHsgY3JlYXRlQXBwbGV0IH0gZnJvbSAnLi91aS9BcHBsZXQvQXBwbGV0JztcbmltcG9ydCB7IGNyZWF0ZU1wdkhhbmRsZXIgfSBmcm9tICcuL21wdi9NcHZIYW5kbGVyJztcbmltcG9ydCB7IGNyZWF0ZUNvbmZpZyB9IGZyb20gJy4vQ29uZmlnJztcbmltcG9ydCB7IGNyZWF0ZUFwcGxldExhYmVsIH0gZnJvbSAnLi91aS9BcHBsZXQvQXBwbGV0TGFiZWwnO1xuaW1wb3J0IHsgY3JlYXRlQXBwbGV0VG9vbHRpcCB9IGZyb20gJy4vdWkvQXBwbGV0L0FwcGxldFRvb2x0aXAnO1xuaW1wb3J0IHsgQ2hhbm5lbFN0b3JlIH0gZnJvbSAnLi9DaGFubmVsU3RvcmUnO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbExpc3QgfSBmcm9tICcuL3VpL0NoYW5uZWxMaXN0L0NoYW5uZWxMaXN0JztcbmltcG9ydCB7IGNyZWF0ZVZvbHVtZVNsaWRlciB9IGZyb20gJy4vdWkvVm9sdW1lU2xpZGVyJztcbmltcG9ydCB7IGNyZWF0ZVBvcHVwTWVudSB9IGZyb20gJy4vbGliL1BvcHVwTWVudSc7XG5pbXBvcnQgeyBjcmVhdGVJbmZvU2VjdGlvbiB9IGZyb20gJy4vdWkvSW5mb1NlY3Rpb24nO1xuaW1wb3J0IHsgY3JlYXRlUGxheVBhdXNlQnV0dG9uIH0gZnJvbSAnLi91aS9Ub29sYmFyL1BsYXlQYXVzZUJ1dHRvbic7XG5pbXBvcnQgeyBjcmVhdGVDb3B5QnV0dG9uIH0gZnJvbSAnLi91aS9Ub29sYmFyL0NvcHlCdXR0b24nO1xuaW1wb3J0IHsgY3JlYXRlRG93bmxvYWRCdXR0b24gfSBmcm9tICcuL3VpL1Rvb2xiYXIvRG9ud2xvYWRCdXR0b24nO1xuaW1wb3J0IHsgY3JlYXRlTWVkaWFDb250cm9sVG9vbGJhciB9IGZyb20gJy4vdWkvVG9vbGJhci9NZWRpYUNvbnRyb2xUb29sYmFyJztcbmltcG9ydCB7IGNyZWF0ZVN0b3BCdG4gfSBmcm9tICcuL3VpL1Rvb2xiYXIvU3RvcEJ1dHRvbic7XG5pbXBvcnQgeyBjb3B5VGV4dCB9IGZyb20gJy4vZnVuY3Rpb25zL2NvcHlUZXh0JztcbmltcG9ydCB7IGNyZWF0ZVNlZWtlciB9IGZyb20gJy4vdWkvU2Vla2VyJztcbmltcG9ydCB7IGNyZWF0ZVNlcGFyYXRvck1lbnVJdGVtIH0gZnJvbSAnLi9saWIvUG9wdXBTZXBlcmF0b3InO1xuaW1wb3J0IHsgaW5zdGFsbE1wdldpdGhNcHJpcyB9IGZyb20gJy4vbXB2L0NoZWNrSW5zdGFsbGF0aW9uJztcbmltcG9ydCB7IG5vdGlmeSB9IGZyb20gJy4vdWkvTm90aWZpY2F0aW9ucy9HZW5lcmljTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IFZPTFVNRV9ERUxUQSB9IGZyb20gJy4vY29uc3RzJztcbmltcG9ydCB7IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIENoYW5uZWwsIEljb25UeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBkb3dubG9hZFNvbmdGcm9tWW91dHViZSB9IGZyb20gJy4vZnVuY3Rpb25zL2Rvd25sb2FkRnJvbVlvdXR1YmUnO1xuaW1wb3J0IHsgbm90aWZ5WW91dHViZURvd25sb2FkRmFpbGVkIH0gZnJvbSAnLi91aS9Ob3RpZmljYXRpb25zL1lvdXR1YmVEb3dubG9hZEZhaWxlZE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBub3RpZnlZb3V0dWJlRG93bmxvYWRGaW5pc2hlZCB9IGZyb20gJy4vdWkvTm90aWZpY2F0aW9ucy9Zb3V0dWJlRG93bmxvYWRGaW5pc2hlZE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBub3RpZnlZb3V0dWJlRG93bmxvYWRTdGFydGVkIH0gZnJvbSAnLi91aS9Ob3RpZmljYXRpb25zL1lvdXR1YmVEb3dubG9hZFN0YXJ0ZWROb3RpZmljYXRpb24nO1xuXG5cbmNvbnN0IHsgU2Nyb2xsRGlyZWN0aW9uIH0gPSBpbXBvcnRzLmdpLkNsdXR0ZXI7XG5jb25zdCB7IGdldEFwcGxldERlZmluaXRpb24gfSA9IGltcG9ydHMudWkuYXBwbGV0TWFuYWdlcjtcbmNvbnN0IHsgcGFuZWxNYW5hZ2VyIH0gPSBpbXBvcnRzLnVpLm1haW5cbmNvbnN0IHsgQm94TGF5b3V0IH0gPSBpbXBvcnRzLmdpLlN0XG5cblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgb3JpZW50YXRpb246IGltcG9ydHMuZ2kuU3QuU2lkZSxcbiAgICBwYW5lbEhlaWdodDogbnVtYmVyLFxuICAgIGluc3RhbmNlSWQ6IG51bWJlclxufVxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oYXJnczogQXJndW1lbnRzKTogaW1wb3J0cy51aS5hcHBsZXQuQXBwbGV0IHtcbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBwYW5lbEhlaWdodCxcbiAgICAgICAgaW5zdGFuY2VJZFxuICAgIH0gPSBhcmdzXG5cbiAgICAvLyB0aGlzIGlzIGEgd29ya2Fyb3VuZCBmb3Igbm93LiBPcHRpbWFsbHkgdGhlIGxhc3RWb2x1bWUgc2hvdWxkIGJlIHNhdmVkIHBlcnNpc3RlbnRseSBlYWNoIHRpbWUgdGhlIHZvbHVtZSBpcyBjaGFuZ2VkIGJ1dCB0aGlzIGxlYWQgdG8gc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgaXNzdWUgb24gc2Nyb2xsaW5nIGF0IHRoZSBtb21lbnQuIEhvd2V2ZXIgdGhpcyBzaG91bGRuJ3QgYmUgdGhlIGNhc2UgYXMgaXQgaXMgbm8gcHJvYmxlbSB0byBsb2cgdGhlIHZvbHVtZSBlYWNoIHRpbWUgdGhlIHZvbHVtZSBjaGFuZ2VzIChzbyBpdCBpcyBhIHByb2JsZW0gaW4gdGhlIGNvbmZpZyBpbXBsZW1lbnRhdGlvbikuIEFzIGEgd29ya2Fyb3VuZCB0aGUgdm9sdW1lIGlzIG9ubHkgc2F2ZWQgcGVyc2lzdGVudGx5IHdoZW4gdGhlIHJhZGlvIHN0b3BzIGJ1dCB0aGUgdm9sdW1lIG9idmlvdXNseSBjYW4ndCBiZSByZWNlaXZlZCBhbnltb3JlIGZyb20gZGJ1cyB3aGVuIHRoZSBwbGF5ZXIgaGFzIGJlZW4gYWxyZWFkeSBzdG9wcGVkIC4uLiBcbiAgICBsZXQgbGFzdFZvbHVtZTogbnVtYmVyXG4gICAgbGV0IG1wdkhhbmRsZXI6IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZU1wdkhhbmRsZXI+XG5cbiAgICBsZXQgaW5zdGFsbGF0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlXG5cbiAgICBjb25zdCBhcHBsZXREZWZpbml0aW9uID0gZ2V0QXBwbGV0RGVmaW5pdGlvbih7XG4gICAgICAgIGFwcGxldF9pZDogaW5zdGFuY2VJZCxcbiAgICB9KVxuXG4gICAgY29uc3QgcGFuZWwgPSBwYW5lbE1hbmFnZXIucGFuZWxzLmZpbmQocGFuZWwgPT5cbiAgICAgICAgcGFuZWw/LnBhbmVsSWQgPT09IGFwcGxldERlZmluaXRpb24ucGFuZWxJZFxuICAgIClcblxuICAgIHBhbmVsLmNvbm5lY3QoJ2ljb24tc2l6ZS1jaGFuZ2VkJywgKCkgPT4gYXBwbGV0SWNvbi51cGRhdGVJY29uU2l6ZSgpKVxuXG4gICAgY29uc3QgYXBwbGV0SWNvbiA9IGNyZWF0ZUFwcGxldEljb24oe1xuICAgICAgICBsb2NhdGlvbkxhYmVsOiBhcHBsZXREZWZpbml0aW9uLmxvY2F0aW9uX2xhYmVsLFxuICAgICAgICBwYW5lbFxuICAgIH0pXG5cbiAgICBjb25zdCBhcHBsZXRMYWJlbCA9IGNyZWF0ZUFwcGxldExhYmVsKClcblxuICAgIGNvbnN0IGFwcGxldCA9IGNyZWF0ZUFwcGxldCh7XG4gICAgICAgIGljb246IGFwcGxldEljb24uYWN0b3IsXG4gICAgICAgIGxhYmVsOiBhcHBsZXRMYWJlbC5hY3RvcixcbiAgICAgICAgaW5zdGFuY2VJZCxcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIHBhbmVsSGVpZ2h0LFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVBcHBsZXRDbGlja2VkLFxuICAgICAgICBvblNjcm9sbDogaGFuZGxlU2Nyb2xsLFxuICAgICAgICBvbk1pZGRsZUNsaWNrOiAoKSA9PiBtcHZIYW5kbGVyPy50b2dnbGVQbGF5UGF1c2UoKSxcbiAgICAgICAgb25BcHBsZXRNb3ZlZDogKCkgPT4gbXB2SGFuZGxlcj8uZGVhY3RpdmF0ZUFsbExpc3RlbmVyKCksXG4gICAgICAgIG9uQXBwbGV0UmVtb3ZlZDogaGFuZGxlQXBwbGV0UmVtb3ZlZCxcbiAgICAgICAgb25SaWdodENsaWNrOiAoKSA9PiBwb3B1cE1lbnU/LmNsb3NlKClcbiAgICB9KVxuXG4gICAgY29uc3QgYXBwbGV0VG9vbHRpcCA9IGNyZWF0ZUFwcGxldFRvb2x0aXAoe1xuICAgICAgICBhcHBsZXQsXG4gICAgICAgIG9yaWVudGF0aW9uXG4gICAgfSlcblxuICAgIGNvbnN0IGNvbmZpZ3MgPSBjcmVhdGVDb25maWcoe1xuICAgICAgICB1dWlkOiBfX21ldGEudXVpZCxcbiAgICAgICAgaW5zdGFuY2VJZCxcblxuICAgICAgICBvbkljb25DaGFuZ2VkOiBoYW5kbGVJY29uVHlwZUNoYW5nZWQsXG4gICAgICAgIG9uSWNvbkNvbG9yUGxheWluZ0NoYW5nZWQ6IChjb2xvcikgPT4ge1xuICAgICAgICAgICAgYXBwbGV0SWNvbi5zZXRDb2xvcldoZW5QbGF5aW5nKGNvbG9yKVxuICAgICAgICB9LFxuICAgICAgICBvbkljb25Db2xvclBhdXNlZENoYW5nZWQ6IChjb2xvcikgPT4ge1xuICAgICAgICAgICAgYXBwbGV0SWNvbi5zZXRDb2xvcldoZW5QYXVzZWQoY29sb3IpXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2hhbm5lbE9uUGFuZWxDaGFuZ2VkOiAoY2hhbm5lbE9uUGFuZWwpID0+IHtcbiAgICAgICAgICAgIGFwcGxldExhYmVsLnNldFZpc2liaWxpdHkoY2hhbm5lbE9uUGFuZWwpXG4gICAgICAgIH0sXG4gICAgICAgIG9uTXlTdGF0aW9uc0NoYW5nZWQ6IGhhbmRsZVN0YXRpb25zVXBkYXRlZCxcbiAgICB9KVxuXG4gICAgY29uc3QgY2hhbm5lbFN0b3JlID0gbmV3IENoYW5uZWxTdG9yZShjb25maWdzLnVzZXJTdGF0aW9ucylcblxuICAgIGNvbnN0IGNoYW5uZWxMaXN0ID0gY3JlYXRlQ2hhbm5lbExpc3Qoe1xuICAgICAgICBzdGF0aW9uTmFtZXM6IGNoYW5uZWxTdG9yZS5hY3RpdmF0ZWRDaGFubmVsTmFtZXMsXG4gICAgICAgIG9uQ2hhbm5lbENsaWNrZWQ6IGhhbmRsZUNoYW5uZWxDbGlja2VkXG4gICAgfSlcblxuICAgIGNvbnN0IHZvbHVtZVNsaWRlciA9IGNyZWF0ZVZvbHVtZVNsaWRlcih7XG4gICAgICAgIG9uVm9sdW1lQ2hhbmdlZDogKHZvbHVtZSkgPT4gbXB2SGFuZGxlcj8uc2V0Vm9sdW1lKHZvbHVtZSlcbiAgICB9KVxuXG4gICAgY29uc3QgcG9wdXBNZW51ID0gY3JlYXRlUG9wdXBNZW51KHsgbGF1bmNoZXI6IGFwcGxldC5hY3RvciB9KVxuICAgIGNvbnN0IGluZm9TZWN0aW9uID0gY3JlYXRlSW5mb1NlY3Rpb24oKVxuXG4gICAgLy90b29sYmFyXG4gICAgY29uc3QgcGxheVBhdXNlQnRuID0gY3JlYXRlUGxheVBhdXNlQnV0dG9uKHtcbiAgICAgICAgb25DbGljazogKCkgPT4gbXB2SGFuZGxlci50b2dnbGVQbGF5UGF1c2UoKVxuICAgIH0pXG5cbiAgICBjb25zdCBzdG9wQnRuID0gY3JlYXRlU3RvcEJ0bih7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IG1wdkhhbmRsZXIuc3RvcCgpXG4gICAgfSlcblxuICAgIGNvbnN0IGRvd25sb2FkQnRuID0gY3JlYXRlRG93bmxvYWRCdXR0b24oe1xuICAgICAgICBvbkNsaWNrOiBoYW5kbGVEb3dubG9hZEJ0bkNsaWNrZWRcbiAgICB9KVxuXG4gICAgY29uc3QgY29weUJ0biA9IGNyZWF0ZUNvcHlCdXR0b24oe1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiBjb3B5VGV4dChtcHZIYW5kbGVyLmdldEN1cnJlbnRUaXRsZSgpKVxuICAgIH0pXG5cbiAgICBjb25zdCBtZWRpYUNvbnRyb2xUb29sYmFyID0gY3JlYXRlTWVkaWFDb250cm9sVG9vbGJhcih7XG4gICAgICAgIGNvbnRyb2xCdG5zOiBbcGxheVBhdXNlQnRuLmFjdG9yLCBkb3dubG9hZEJ0bi5hY3RvciwgY29weUJ0bi5hY3Rvciwgc3RvcEJ0bi5hY3Rvcl1cbiAgICB9KVxuXG4gICAgY29uc3Qgc2Vla2VyID0gY3JlYXRlU2Vla2VyKHtcbiAgICAgICAgb25Qb3NpdGlvbkNoYW5nZWQ6ICh2YWx1ZSkgPT4gbXB2SGFuZGxlcj8uc2V0UG9zaXRpb24odmFsdWUpXG4gICAgfSlcblxuICAgIGNvbnN0IHJhZGlvQWN0aXZlU2VjdGlvbiA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9KTtcblxuICAgIFtcbiAgICAgICAgaW5mb1NlY3Rpb24uYWN0b3IsXG4gICAgICAgIG1lZGlhQ29udHJvbFRvb2xiYXIsXG4gICAgICAgIHZvbHVtZVNsaWRlci5hY3RvcixcbiAgICAgICAgc2Vla2VyLmFjdG9yXG4gICAgXS5mb3JFYWNoKHdpZGdldCA9PiB7XG4gICAgICAgIHJhZGlvQWN0aXZlU2VjdGlvbi5hZGRfY2hpbGQoY3JlYXRlU2VwYXJhdG9yTWVudUl0ZW0oKSlcbiAgICAgICAgcmFkaW9BY3RpdmVTZWN0aW9uLmFkZF9jaGlsZCh3aWRnZXQpXG4gICAgfSlcblxuICAgIHBvcHVwTWVudS5hZGRfY2hpbGQoY2hhbm5lbExpc3QuYWN0b3IpXG4gICAgcG9wdXBNZW51LmFkZF9jaGlsZChyYWRpb0FjdGl2ZVNlY3Rpb24pXG5cbiAgICBtcHZIYW5kbGVyID0gY3JlYXRlTXB2SGFuZGxlcih7XG4gICAgICAgIGdldEluaXRpYWxWb2x1bWU6ICgpID0+IHsgcmV0dXJuIGNvbmZpZ3MuaW5pdGlhbFZvbHVtZSB9LFxuICAgICAgICBvblZvbHVtZUNoYW5nZWQ6IGhhbmRsZVZvbHVtZUNoYW5nZWQsXG4gICAgICAgIG9uTGVuZ3RoQ2hhbmdlZDogaGFubGRlTGVuZ3RoQ2hhbmdlZCxcbiAgICAgICAgb25Qb3NpdGlvbkNoYW5nZWQ6IGhhbmRsZVBvc2l0aW9uQ2hhbmdlZCxcbiAgICAgICAgY2hlY2tVcmxWYWxpZDogKHVybCkgPT4gY2hhbm5lbFN0b3JlLmNoZWNrVXJsVmFsaWQodXJsKSxcbiAgICAgICAgb25UaXRsZUNoYW5nZWQ6IGhhbmRsZVRpdGxlQ2hhbmdlZCxcbiAgICAgICAgb25QbGF5YmFja3N0YXR1c0NoYW5nZWQ6IGhhbmRsZVBsYXliYWNrc3RhdHVzQ2hhbmdlZCxcbiAgICAgICAgbGFzdFVybDogY29uZmlncy5sYXN0VXJsLFxuICAgICAgICBvblVybENoYW5nZWQ6IGhhbmRsZVVybENoYW5nZWRcbiAgICB9KVxuXG4gICAgLy8gQ0FMTEJBQ0tTXG5cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBcHBsZXRDbGlja2VkKCkge1xuXG4gICAgICAgIGlmIChpbnN0YWxsYXRpb25JblByb2dyZXNzKSByZXR1cm5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5zdGFsbGF0aW9uSW5Qcm9ncmVzcyA9IHRydWVcbiAgICAgICAgICAgIGF3YWl0IGluc3RhbGxNcHZXaXRoTXByaXMoKVxuICAgICAgICAgICAgcG9wdXBNZW51LnRvZ2dsZSgpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb25UZXh0ID0gXCJDb3VsZG4ndCBzdGFydCB0aGUgYXBwbGV0LiBNYWtlIHN1cmUgbXB2IGlzIGluc3RhbGxlZCBhbmQgdGhlIG1wdiBtcHJpcyBwbHVnaW4gc2F2ZWQgaW4gdGhlIGNvbmZpZ3MgZm9sZGVyLlwiXG4gICAgICAgICAgICBub3RpZnkoeyB0ZXh0OiBub3RpZmljYXRpb25UZXh0IH0pXG4gICAgICAgICAgICBnbG9iYWwubG9nRXJyb3IoZXJyb3IpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpbnN0YWxsYXRpb25JblByb2dyZXNzID0gZmFsc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUFwcGxldFJlbW92ZWQoKSB7XG4gICAgICAgIG1wdkhhbmRsZXI/LmRlYWN0aXZhdGVBbGxMaXN0ZW5lcigpXG4gICAgICAgIG1wdkhhbmRsZXI/LnN0b3AoKVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKHNjcm9sbERpcmVjdGlvbjogaW1wb3J0cy5naS5DbHV0dGVyLlNjcm9sbERpcmVjdGlvbikge1xuICAgICAgICBjb25zdCB2b2x1bWVDaGFuZ2UgPVxuICAgICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID09PSBTY3JvbGxEaXJlY3Rpb24uVVAgPyBWT0xVTUVfREVMVEEgOiAtVk9MVU1FX0RFTFRBXG4gICAgICAgIG1wdkhhbmRsZXIuaW5jcmVhc2VEZWNyZWFzZVZvbHVtZSh2b2x1bWVDaGFuZ2UpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbENsaWNrZWQobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxVcmwgPSBjaGFubmVsU3RvcmUuZ2V0Q2hhbm5lbFVybChuYW1lKVxuICAgICAgICBtcHZIYW5kbGVyLnNldFVybChjaGFubmVsVXJsKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRpdGxlQ2hhbmdlZCh0aXRsZTogc3RyaW5nKSB7XG4gICAgICAgIGluZm9TZWN0aW9uLnNldFNvbmdUaXRsZSh0aXRsZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVWb2x1bWVDaGFuZ2VkKHZvbHVtZTogbnVtYmVyIHwgbnVsbCkge1xuICAgICAgICB2b2x1bWVTbGlkZXIuc2V0Vm9sdW1lKHZvbHVtZSlcbiAgICAgICAgYXBwbGV0VG9vbHRpcC5zZXRWb2x1bWUodm9sdW1lKVxuXG4gICAgICAgIGxhc3RWb2x1bWUgPSB2b2x1bWVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVJY29uVHlwZUNoYW5nZWQoaWNvblR5cGU6IEljb25UeXBlKSB7XG4gICAgICAgIGFwcGxldEljb24uc2V0SWNvblR5cGUoaWNvblR5cGUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RhdGlvbnNVcGRhdGVkKHN0YXRpb25zOiBDaGFubmVsW10pIHtcblxuICAgICAgICBjb25zdCBzdGF0aW9uc0NoYW5nZWQgPSBjaGFubmVsU3RvcmUuY2hlY2tMaXN0Q2hhbmdlZChzdGF0aW9ucylcblxuICAgICAgICBpZiAoIXN0YXRpb25zQ2hhbmdlZCkgcmV0dXJuXG5cbiAgICAgICAgY2hhbm5lbFN0b3JlLmNoYW5uZWxMaXN0ID0gc3RhdGlvbnNcbiAgICAgICAgY2hhbm5lbExpc3Quc2V0U3RhdGlvbk5hbWVzKGNoYW5uZWxTdG9yZS5hY3RpdmF0ZWRDaGFubmVsTmFtZXMpXG5cbiAgICAgICAgY29uc3QgbGFzdFVybFZhbGlkID0gY2hhbm5lbFN0b3JlLmNoZWNrVXJsVmFsaWQoY29uZmlncy5sYXN0VXJsKVxuICAgICAgICBpZiAoIWxhc3RVcmxWYWxpZCkgbXB2SGFuZGxlci5zdG9wKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVQbGF5YmFja3N0YXR1c0NoYW5nZWQocGxheWJhY2tzdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMpIHtcblxuICAgICAgICBpZiAocGxheWJhY2tzdGF0dXMgPT09ICdTdG9wcGVkJykge1xuICAgICAgICAgICAgcmFkaW9BY3RpdmVTZWN0aW9uLmhpZGUoKVxuICAgICAgICAgICAgY29uZmlncy5sYXN0Vm9sdW1lID0gbGFzdFZvbHVtZVxuICAgICAgICAgICAgY29uZmlncy5sYXN0VXJsID0gbnVsbFxuICAgICAgICAgICAgYXBwbGV0TGFiZWwuc2V0VGV4dChudWxsKVxuICAgICAgICAgICAgaGFuZGxlVm9sdW1lQ2hhbmdlZChudWxsKVxuICAgICAgICAgICAgcG9wdXBNZW51LmNsb3NlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5YmFja3N0YXR1cyAhPT0gJ1N0b3BwZWQnICYmICFyYWRpb0FjdGl2ZVNlY3Rpb24udmlzaWJsZSlcbiAgICAgICAgICAgIHJhZGlvQWN0aXZlU2VjdGlvbi5zaG93KClcblxuICAgICAgICBjaGFubmVsTGlzdC5zZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja3N0YXR1cylcbiAgICAgICAgYXBwbGV0SWNvbi5zZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja3N0YXR1cylcblxuICAgICAgICBpZiAocGxheWJhY2tzdGF0dXMgPT09ICdQbGF5aW5nJyB8fCBwbGF5YmFja3N0YXR1cyA9PT0gJ1BhdXNlZCcpIHtcbiAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi5zZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja3N0YXR1cylcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVXJsQ2hhbmdlZCh1cmw6IHN0cmluZykge1xuXG4gICAgICAgIGNvbnN0IGNoYW5uZWxOYW1lID0gdXJsID8gY2hhbm5lbFN0b3JlLmdldENoYW5uZWxOYW1lKHVybCkgOiBudWxsXG5cbiAgICAgICAgYXBwbGV0TGFiZWwuc2V0VGV4dChjaGFubmVsTmFtZSlcblxuICAgICAgICBjaGFubmVsTGlzdC5zZXRDdXJyZW50Q2hhbm5lbChjaGFubmVsTmFtZSlcbiAgICAgICAgaW5mb1NlY3Rpb24uc2V0Q2hhbm5lbChjaGFubmVsTmFtZSlcbiAgICAgICAgY29uZmlncy5sYXN0VXJsID0gdXJsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFubGRlTGVuZ3RoQ2hhbmdlZChsZW5ndGg6IG51bWJlcikge1xuICAgICAgICBzZWVrZXIuc2V0TGVuZ3RoKGxlbmd0aClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVQb3NpdGlvbkNoYW5nZWQocG9zaXRpb246IG51bWJlcikge1xuICAgICAgICBzZWVrZXI/LnNldFBvc2l0aW9uKHBvc2l0aW9uKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkQnRuQ2xpY2tlZCgpIHtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IG1wdkhhbmRsZXIuZ2V0Q3VycmVudFRpdGxlKClcblxuICAgICAgICBjb25zdCBkb3dubG9hZFByb2Nlc3MgPSBkb3dubG9hZFNvbmdGcm9tWW91dHViZSh7XG4gICAgICAgICAgICBkb3dubG9hZERpcjogY29uZmlncy5tdXNpY0Rvd25sb2FkRGlyLFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBvbkRvd25sb2FkRmluaXNoZWQ6IChwYXRoKSA9PiBub3RpZnlZb3V0dWJlRG93bmxvYWRGaW5pc2hlZCh7XG4gICAgICAgICAgICAgICAgZG93bmxvYWRQYXRoOiBwYXRoXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uRG93bmxvYWRGYWlsZWQ6IG5vdGlmeVlvdXR1YmVEb3dubG9hZEZhaWxlZFxuICAgICAgICB9KVxuXG4gICAgICAgIG5vdGlmeVlvdXR1YmVEb3dubG9hZFN0YXJ0ZWQoe1xuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBvbkNhbmNlbENsaWNrZWQ6ICgpID0+IGRvd25sb2FkUHJvY2Vzcy5jYW5jZWwoKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBhcHBsZXRcblxufVxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///397\n")}},__webpack_require__={d:(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})},o:(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),r:Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})}},__webpack_exports__={};__webpack_modules__[397](0,__webpack_exports__,__webpack_require__),radioApplet=__webpack_exports__})();