var radioApplet;(()=>{"use strict";var __webpack_modules__={19:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"main\": () => (/* binding */ main)\n});\n\n;// CONCATENATED MODULE: ./src/consts.ts\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nconst { get_home_dir } = imports.gi.GLib;\nconst APPLET_SITE = 'https://cinnamon-spices.linuxmint.com/applets/view/297';\nconst DEFAULT_TOOLTIP_TXT = 'Radio++';\nconst CONFIG_DIR = `${get_home_dir()}/.cinnamon/configs/${__meta.uuid}`;\nconst MPRIS_PLUGIN_PATH = CONFIG_DIR + '/.mpris.so';\nconst MPRIS_PLUGIN_URL = \"https://github.com/hoyon/mpv-mpris/releases/download/0.5/mpris.so\";\nconst MEDIA_PLAYER_2_NAME = \"org.mpris.MediaPlayer2\";\nconst MEDIA_PLAYER_2_PLAYER_NAME = \"org.mpris.MediaPlayer2.Player\";\nconst MEDIA_PLAYER_2_PATH = \"/org/mpris/MediaPlayer2\";\nconst MPV_MPRIS_BUS_NAME = `${MEDIA_PLAYER_2_NAME}.mpv`;\nconst MPV_CVC_NAME = 'mpv Media Player';\nconst MAX_STRING_LENGTH = 40;\n/** in percent */\nconst MAX_VOLUME = 100; // see https://github.com/linuxmint/cinnamon-spices-applets/issues/3402#issuecomment-756430754 for an explanation of this value\n/** in percent */\nconst VOLUME_DELTA = 5;\n// STYLE CLASSES \nconst POPUP_ICON_CLASS = 'popup-menu-icon';\nconst POPUP_MENU_ITEM_CLASS = 'popup-menu-item';\n// ICONS\nfunction getVolumeIcon(args) {\n    const { volume } = args;\n    const VOLUME_ICON_PREFIX = 'audio-volume';\n    const VOLUME_ICONS = [\n        { max: 0, name: `${VOLUME_ICON_PREFIX}-muted` },\n        { max: 33, name: `${VOLUME_ICON_PREFIX}-low` },\n        { max: 66, name: `${VOLUME_ICON_PREFIX}-medium` },\n        { max: 100, name: `${VOLUME_ICON_PREFIX}-high` },\n    ];\n    if (volume < 0 || volume > 100)\n        throw new RangeError('volume should be between 0 and 100');\n    const index = VOLUME_ICONS.findIndex((_a) => {\n        var { max } = _a, rest = __rest(_a, [\"max\"]);\n        return volume <= max;\n    });\n    return VOLUME_ICONS[index].name;\n}\nconst RADIO_SYMBOLIC_ICON_NAME = 'radioapplet';\nconst PLAYBACK_ICON_PREFIX = 'media-playback';\nconst PLAY_ICON_NAME = `${PLAYBACK_ICON_PREFIX}-start`;\nconst PAUSE_ICON_NAME = `${PLAYBACK_ICON_PREFIX}-pause`;\nconst STOP_ICON_NAME = `${PLAYBACK_ICON_PREFIX}-stop`;\nconst SONG_INFO_ICON_NAME = 'audio-x-generic';\nconst COPY_ICON_NAME = 'edit-copy';\nconst DOWNLOAD_ICON_NAME = 'south-arrow-weather-symbolic';\nconst LOADING_ICON_NAME = 'view-refresh-symbolic';\n\n;// CONCATENATED MODULE: ./src/ui/Applet/AppletIcon.ts\n\nconst { Icon, IconType } = imports.gi.St;\nconst { IconType: IconTypeEnum } = imports.gi.St;\nfunction createAppletIcon(args) {\n    const { panel, locationLabel } = args;\n    let playbackStatus;\n    const playbackStatusStyleMap = new Map([\n        ['Stopped', ' '],\n        ['Loading', ' ']\n    ]);\n    const icon = new Icon({});\n    let normalIconType;\n    // the icon type passed from outside is overriten when the playbackstatus is 'loading' \n    function setIconTypeInternal(iconTypeEnum, iconName) {\n        icon.style_class = iconTypeEnum === IconTypeEnum.SYMBOLIC ?\n            'system-status-icon' : 'applet-icon';\n        icon.icon_name = iconName;\n        icon.icon_type = iconTypeEnum;\n        icon.icon_size = panel.getPanelZoneIconSize(locationLabel, iconTypeEnum);\n    }\n    function setIconType(iconType) {\n        if (!iconType)\n            return;\n        let iconTypeEnum;\n        let iconName;\n        normalIconType = iconType;\n        if (iconType === 'SYMBOLIC') {\n            iconName = RADIO_SYMBOLIC_ICON_NAME;\n            iconTypeEnum = IconTypeEnum.SYMBOLIC;\n        }\n        else {\n            iconName = `radioapplet-${iconType.toLowerCase()}`;\n            iconTypeEnum = IconTypeEnum.FULLCOLOR;\n        }\n        setIconTypeInternal(iconTypeEnum, iconName);\n    }\n    function updateIconSize() {\n        const iconSize = panel.getPanelZoneIconSize(locationLabel, icon.icon_type);\n        icon.icon_size = iconSize;\n    }\n    function setColorWhenPaused(color) {\n        playbackStatusStyleMap.set('Paused', `color: ${color}`);\n        if (playbackStatus)\n            setPlaybackStatus(playbackStatus);\n    }\n    function setColorWhenPlaying(color) {\n        playbackStatusStyleMap.set('Playing', `color: ${color}`);\n        if (playbackStatus)\n            setPlaybackStatus(playbackStatus);\n    }\n    function setPlaybackStatus(newPlaybackStatus) {\n        playbackStatus = newPlaybackStatus;\n        const style = playbackStatusStyleMap.get(playbackStatus);\n        if (newPlaybackStatus === 'Loading') {\n            setIconTypeInternal(IconTypeEnum.SYMBOLIC, LOADING_ICON_NAME);\n        }\n        else {\n            setIconType(normalIconType);\n        }\n        if (!style)\n            return;\n        icon.set_style(style);\n    }\n    return {\n        actor: icon,\n        setPlaybackStatus,\n        setColorWhenPlaying,\n        setColorWhenPaused,\n        setIconType,\n        updateIconSize\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Applet/Applet.ts\nconst { Applet, AllowedLayout } = imports.ui.applet;\nconst { Bin } = imports.gi.St;\nconst { EventType } = imports.gi.Clutter;\nfunction createApplet(args) {\n    const { orientation, panelHeight, instanceId, icon, label, onClick, onScroll, onMiddleClick, onAppletMoved, onAppletRemoved, onRightClick } = args;\n    const applet = new Applet(orientation, panelHeight, instanceId);\n    let appletReloaded = false;\n    [icon, label].forEach(widget => {\n        applet.actor.add_child(widget);\n    });\n    applet.on_applet_clicked = onClick;\n    applet.on_applet_middle_clicked = onMiddleClick;\n    applet.setAllowedLayout(AllowedLayout.BOTH);\n    applet.on_applet_reloaded = function () {\n        appletReloaded = true;\n    };\n    applet.on_applet_removed_from_panel = function () {\n        appletReloaded ? onAppletMoved() : onAppletRemoved();\n        appletReloaded = false;\n    };\n    applet.actor.connect('event', (actor, event) => {\n        if (event.type() !== EventType.BUTTON_PRESS)\n            return;\n        if (event.get_button() === 3) {\n            onRightClick();\n        }\n    });\n    applet.actor.connect('scroll-event', (actor, event) => {\n        onScroll(event.get_scroll_direction());\n    });\n    return applet;\n}\n\n;// CONCATENATED MODULE: ./src/mpv/MpvHandler.ts\n\nconst { getDBusProperties, getDBus, getDBusProxyWithOwner } = imports.misc.interfaces;\nconst { spawnCommandLine } = imports.misc.util;\n// see https://lazka.github.io/pgi-docs/Cvc-1.0/index.html\nconst { MixerControl } = imports.gi.Cvc;\nfunction createMpvHandler(args) {\n    const { onPlaybackstatusChanged, onUrlChanged, onVolumeChanged, onTitleChanged, onLengthChanged, onPositionChanged, checkUrlValid, lastUrl, getInitialVolume, } = args;\n    const dbus = getDBus();\n    const mediaServerPlayer = getDBusProxyWithOwner(MEDIA_PLAYER_2_PLAYER_NAME, MPV_MPRIS_BUS_NAME);\n    const mediaProps = getDBusProperties(MPV_MPRIS_BUS_NAME, MEDIA_PLAYER_2_PATH);\n    const control = new MixerControl({ name: __meta.name });\n    let cvcStream;\n    control.open();\n    control.connect('stream-added', (ctrl, id) => {\n        const addedStream = control.lookup_stream_id(id);\n        if ((addedStream === null || addedStream === void 0 ? void 0 : addedStream.name) !== MPV_CVC_NAME)\n            return;\n        cvcStream = addedStream;\n        cvcStream.connect('notify::volume', () => {\n            handleCvcVolumeChanged();\n        });\n    });\n    // When no last Url is passed and mpv is running, it is assumed that mpv is not used for the radio applet (and therefore the playbackstatus is Stopped)\n    const initialPlaybackStatus = !lastUrl ? 'Stopped' : getPlaybackStatus();\n    let currentUrl = initialPlaybackStatus !== \"Stopped\" ? lastUrl : null;\n    let currentLength = getLength(); // in seconds\n    let positionTimerId;\n    let bufferExceeded = false;\n    let mediaPropsListenerId;\n    let seekListenerId;\n    if (initialPlaybackStatus !== \"Stopped\") {\n        activateMprisPropsListener();\n        activeSeekListener();\n        onUrlChanged(currentUrl);\n        onPlaybackstatusChanged(initialPlaybackStatus);\n        onVolumeChanged(getVolume());\n        onTitleChanged(getCurrentTitle());\n        onLengthChanged(currentLength);\n        onPositionChanged(getPosition());\n        startPositionTimer();\n    }\n    const nameOwnerSignalId = dbus.connectSignal('NameOwnerChanged', (...args) => {\n        const name = args[2][0];\n        const oldOwner = args[2][1];\n        const newOwner = args[2][2];\n        if (name !== MPV_MPRIS_BUS_NAME)\n            return;\n        if (newOwner) {\n            activateMprisPropsListener();\n            activeSeekListener();\n            pauseAllOtherMediaPlayers();\n        }\n        if (oldOwner) {\n            currentLength = 0;\n            stopPositionTimer();\n            mediaProps.disconnectSignal(mediaPropsListenerId);\n            mediaServerPlayer.disconnectSignal(seekListenerId);\n            mediaPropsListenerId = seekListenerId = currentUrl = null;\n            onPlaybackstatusChanged('Stopped');\n        }\n    });\n    function deactivateAllListener() {\n        dbus.disconnectSignal(nameOwnerSignalId);\n        if (mediaPropsListenerId)\n            mediaProps === null || mediaProps === void 0 ? void 0 : mediaProps.disconnectSignal(mediaPropsListenerId);\n        if (seekListenerId)\n            mediaServerPlayer === null || mediaServerPlayer === void 0 ? void 0 : mediaServerPlayer.disconnectSignal(seekListenerId);\n    }\n    function activateMprisPropsListener() {\n        mediaPropsListenerId = mediaProps.connectSignal('PropertiesChanged', (proxy, nameOwner, [interfaceName, props]) => {\n            var _a, _b, _c, _d, _e, _f;\n            // theoretically it could be used recursiveUnpack but this doesn't work on cinnamon 20 yet (but on 20.1)\n            const metadata = (_a = props.Metadata) === null || _a === void 0 ? void 0 : _a.deep_unpack();\n            const volume = (_b = props.Volume) === null || _b === void 0 ? void 0 : _b.unpack();\n            const playbackStatus = (_c = props.PlaybackStatus) === null || _c === void 0 ? void 0 : _c.unpack();\n            //global.log(`metadata: ${JSON.stringify(props.Metadata?.recursiveUnpack())}, playbackStatus: ${playbackStatus}, volume: ${volume}`)\n            const url = (_d = metadata === null || metadata === void 0 ? void 0 : metadata['xesam:url']) === null || _d === void 0 ? void 0 : _d.unpack();\n            const title = (_e = metadata === null || metadata === void 0 ? void 0 : metadata['xesam:title']) === null || _e === void 0 ? void 0 : _e.unpack();\n            const length = (_f = metadata === null || metadata === void 0 ? void 0 : metadata[\"mpris:length\"]) === null || _f === void 0 ? void 0 : _f.unpack();\n            const newUrlValid = checkUrlValid(url);\n            const relevantEvent = newUrlValid || currentUrl;\n            if (!relevantEvent)\n                return; // happens when mpv is running with a file/stream not managed by the applet\n            if (length != null)\n                handleLengthChanged(length);\n            if (volume != null)\n                handleMprisVolumeChanged(volume);\n            playbackStatus && handleMprisPlaybackStatusChanged(playbackStatus);\n            url && newUrlValid && url !== currentUrl && handleUrlChanged(url);\n            title && handleTitleSet(title);\n        });\n    }\n    function activeSeekListener() {\n        seekListenerId = mediaServerPlayer.connectSignal('Seeked', (id, sender, value) => {\n            handlePositionChanged(microSecondsToRoundedSeconds(value));\n        });\n    }\n    /** @param length in microseconds */\n    function handleLengthChanged(length) {\n        const lengthInSeconds = microSecondsToRoundedSeconds(length);\n        onLengthChanged(lengthInSeconds);\n        const startLoading = (length === 0);\n        const finishedLoading = length !== 0 && currentLength === 0;\n        currentLength = lengthInSeconds;\n        if (startLoading) {\n            onPlaybackstatusChanged('Loading');\n        }\n        if (finishedLoading || bufferExceeded) {\n            const position = finishedLoading ? 0 : getPosition();\n            handlePositionChanged(position);\n            onPlaybackstatusChanged(getPlaybackStatus());\n            bufferExceeded = false;\n        }\n    }\n    /**  @param position in seconds! */\n    function handlePositionChanged(position) {\n        stopPositionTimer();\n        onPositionChanged(position);\n        startPositionTimer();\n    }\n    function startPositionTimer() {\n        if (getPlaybackStatus() !== 'Playing')\n            return;\n        positionTimerId = setInterval(() => {\n            const position = Math.min(getPosition(), currentLength);\n            onPositionChanged(position);\n            if (position === currentLength) {\n                onPlaybackstatusChanged('Loading');\n                bufferExceeded = true;\n                stopPositionTimer();\n            }\n        }, 1000);\n    }\n    function stopPositionTimer() {\n        if (!positionTimerId)\n            return;\n        clearInterval(positionTimerId);\n        positionTimerId = null;\n    }\n    function handleMprisPlaybackStatusChanged(playbackStatus) {\n        if (currentLength !== 0) {\n            onPlaybackstatusChanged(playbackStatus);\n            playbackStatus === 'Paused' ? stopPositionTimer()\n                : handlePositionChanged(getPosition());\n        }\n    }\n    function handleUrlChanged(newUrl) {\n        currentUrl = newUrl;\n        handleLengthChanged(0);\n        if (positionTimerId)\n            stopPositionTimer();\n        onPositionChanged(0);\n        onUrlChanged(newUrl);\n    }\n    function handleMprisVolumeChanged(mprisVolume) {\n        if (mprisVolume * 100 > MAX_VOLUME) {\n            mediaServerPlayer.Volume = MAX_VOLUME / 100;\n            return;\n        }\n        const normalizedVolume = Math.round(mprisVolume * 100);\n        setCvcVolume(normalizedVolume);\n        onVolumeChanged(normalizedVolume);\n    }\n    function handleCvcVolumeChanged() {\n        const normalizedVolume = Math.round(cvcStream.volume / control.get_vol_max_norm() * 100);\n        setMprisVolume(normalizedVolume);\n    }\n    function handleTitleSet(title) {\n        onTitleChanged(title);\n    }\n    /** @returns length in seconds */\n    function getLength() {\n        var _a, _b;\n        const lengthMicroSeconds = ((_b = (_a = mediaServerPlayer.Metadata) === null || _a === void 0 ? void 0 : _a[\"mpris:length\"]) === null || _b === void 0 ? void 0 : _b.unpack()) || 0;\n        return microSecondsToRoundedSeconds(lengthMicroSeconds);\n    }\n    /** @returns position in seconds */\n    function getPosition() {\n        if (getPlaybackStatus() === 'Stopped')\n            return 0;\n        // for some reason, this only return the right value the first time it is called. When calling this multiple times, it returns always the same value which however is wrong when radio is playing\n        // const positionMicroSeconds = mediaServerPlayer.Position\n        const positionMicroSeconds = mediaProps.GetSync('org.mpris.MediaPlayer2.Player', 'Position')[0].deep_unpack();\n        return microSecondsToRoundedSeconds(positionMicroSeconds);\n    }\n    function setUrl(url) {\n        if (getPlaybackStatus() === 'Stopped') {\n            const initialVolume = getInitialVolume();\n            if (initialVolume == null) {\n                throw new Error('initial Volume must not be undefined or null');\n            }\n            const command = `mpv --script=${MPRIS_PLUGIN_PATH} ${url} \n                --volume=${initialVolume}`;\n            spawnCommandLine(command);\n            return;\n        }\n        mediaServerPlayer.OpenUriRemote(url);\n        mediaServerPlayer.PlaySync();\n    }\n    function increaseDecreaseVolume(volumeChange) {\n        // newVolume is the current Volume plus(or minus) volumeChange \n        // but at least 0 and maximum Max_Volume\n        const newVolume = Math.min(MAX_VOLUME, Math.max(0, getVolume() + volumeChange));\n        setMprisVolume(newVolume);\n    }\n    /** @param newVolume volume in percent */\n    function setMprisVolume(newVolume) {\n        if (getVolume() === newVolume || getPlaybackStatus() === 'Stopped')\n            return;\n        mediaServerPlayer.Volume = newVolume / 100;\n    }\n    /** @param newVolume volume in percent */\n    function setCvcVolume(newVolume) {\n        const newStreamVolume = newVolume / 100 * control.get_vol_max_norm();\n        if (!cvcStream)\n            return;\n        if (cvcStream.volume === newStreamVolume)\n            return;\n        cvcStream.is_muted && cvcStream.change_is_muted(false);\n        cvcStream.volume = newStreamVolume;\n        cvcStream.push_volume();\n    }\n    function togglePlayPause() {\n        if (getPlaybackStatus() === \"Stopped\")\n            return;\n        mediaServerPlayer.PlayPauseSync();\n    }\n    function stop() {\n        if (getPlaybackStatus() === \"Stopped\")\n            return;\n        mediaServerPlayer.StopSync();\n    }\n    function getCurrentTitle() {\n        if (getPlaybackStatus() === \"Stopped\")\n            return;\n        return mediaServerPlayer.Metadata[\"xesam:title\"].unpack();\n    }\n    /**\n     * pauses all MediaPlayers with MPRIS Support except mpv\n     */\n    function pauseAllOtherMediaPlayers() {\n        dbus.ListNamesSync()[0].forEach(busName => {\n            if (!busName.includes(MEDIA_PLAYER_2_NAME) || busName === MPV_MPRIS_BUS_NAME)\n                return;\n            const nonMpvMediaServerPlayer = getDBusProxyWithOwner(MEDIA_PLAYER_2_PLAYER_NAME, busName);\n            nonMpvMediaServerPlayer.PauseSync();\n        });\n    }\n    function getPlaybackStatus() {\n        // this is necessary because when a user stops mpv and afterwards start vlc (or maybe also an other media player), mediaServerPlayer.PlaybackStatus wrongly returns \"Playing\"  \n        const mpvRunning = dbus.ListNamesSync()[0].includes(MPV_MPRIS_BUS_NAME);\n        return mpvRunning ? mediaServerPlayer.PlaybackStatus : 'Stopped';\n    }\n    function getVolume() {\n        if (getPlaybackStatus() === 'Stopped')\n            return null;\n        return Math.round(mediaServerPlayer.Volume * 100);\n    }\n    function microSecondsToRoundedSeconds(microSeconds) {\n        const seconds = microSeconds / 1000000;\n        const secondsRounded = Math.round(seconds);\n        return secondsRounded;\n    }\n    /** @param newPosition in seconds */\n    function setPosition(newPosition) {\n        const positioninMicroSeconds = Math.min(newPosition * 1000000, currentLength * 1000000);\n        const trackId = mediaServerPlayer.Metadata['mpris:trackid'].unpack();\n        mediaServerPlayer === null || mediaServerPlayer === void 0 ? void 0 : mediaServerPlayer.SetPositionRemote(trackId, positioninMicroSeconds);\n    }\n    return {\n        increaseDecreaseVolume,\n        setVolume: setMprisVolume,\n        setUrl,\n        togglePlayPause,\n        stop,\n        getCurrentTitle,\n        setPosition,\n        deactivateAllListener,\n        // it is very confusing but dbus must be returned!\n        // Otherwilse all listeners stop working after about 20 seconds which is fucking difficult to debug\n        dbus\n    };\n}\n\n;// CONCATENATED MODULE: ./src/Config.ts\nconst { AppletSettings } = imports.ui.settings;\nconst createConfig = (args) => {\n    const { uuid, instanceId, onIconChanged, onIconColorPlayingChanged, onIconColorPausedChanged, onChannelOnPanelChanged, onMyStationsChanged, } = args;\n    // all settings are saved to this object\n    const settingsObject = {\n        get initialVolume() { return getInitialVolume(); }\n    };\n    const appletSettings = new AppletSettings(settingsObject, uuid, instanceId);\n    appletSettings.bind('icon-type', 'iconType', (iconType) => onIconChanged(iconType));\n    appletSettings.bind('color-on', 'symbolicIconColorWhenPlaying', (newColor) => onIconColorPlayingChanged(newColor));\n    appletSettings.bind('color-paused', 'symbolicIconColorWhenPaused', (newColor) => onIconColorPausedChanged(newColor));\n    appletSettings.bind('channel-on-panel', 'channelNameOnPanel', (channelOnPanel) => onChannelOnPanelChanged(channelOnPanel));\n    appletSettings.bind('keep-volume-between-sessions', \"keepVolume\");\n    appletSettings.bind('initial-volume', 'customInitVolume');\n    appletSettings.bind('last-volume', 'lastVolume');\n    appletSettings.bind('tree', \"userStations\", onMyStationsChanged);\n    appletSettings.bind('last-url', 'lastUrl');\n    appletSettings.bind('music-download-dir-select', 'musicDownloadDir', () => handleMusicDirChanged());\n    function getInitialVolume() {\n        const { keepVolume, lastVolume, customInitVolume } = settingsObject;\n        let initialVolume = keepVolume ? lastVolume : customInitVolume;\n        if (initialVolume == null) {\n            __webpack_require__.g.logWarning('initial Volume was null or undefined. Applying 50 as a fallback solution to prevent radio stop working');\n            initialVolume = 50;\n        }\n        return initialVolume;\n    }\n    function handleMusicDirChanged() {\n        // By Default the value is set to ~/Music/Radio but when changing to another location and back again to the default value in the settings dialog, the music dir is set to null instead of the default value again. As workaround the music dir is set programmatically to default value again if value is set to null (and the settings dialog can't be opened anymore). \n        if (settingsObject.musicDownloadDir === null) {\n            settingsObject.musicDownloadDir = \"~/Music/Radio\";\n        }\n    }\n    onIconChanged(settingsObject.iconType);\n    onIconColorPlayingChanged(settingsObject.symbolicIconColorWhenPlaying);\n    onIconColorPausedChanged(settingsObject.symbolicIconColorWhenPaused);\n    onChannelOnPanelChanged(settingsObject.channelNameOnPanel);\n    // TODO also onMyStationChanged should be called (and removed as arg from  ChannelStore)\n    return settingsObject;\n};\n\n;// CONCATENATED MODULE: ./src/ui/Applet/AppletLabel.ts\nconst { Label } = imports.gi.St;\nconst { EllipsizeMode } = imports.gi.Pango;\nconst { ActorAlign } = imports.gi.Clutter;\nfunction createAppletLabel() {\n    const label = new Label({\n        reactive: true,\n        track_hover: true,\n        style_class: 'applet-label',\n        y_align: ActorAlign.CENTER,\n        y_expand: false,\n        visible: false\n    });\n    // No idea why needed but without the label is not shown \n    label.clutter_text.ellipsize = EllipsizeMode.NONE;\n    let visible;\n    let text;\n    /**\n     *\n     * @param newValue text to show on the label. The text however is only visible in the GUI when visible is true. It is also shown no text when passing null for text but in that case the text is shown again when calling this function again with a string (i.e this function is intended to be used with null when the text shall only temporarily be hidden)\n     *\n     */\n    function setText(newValue) {\n        text = newValue;\n        if (!visible)\n            return;\n        label.show();\n        newValue ? label.text = ` ${newValue}` : label.hide();\n    }\n    function setVisibility(newValue) {\n        visible = newValue;\n        if (text)\n            label.visible = newValue;\n        if (visible && text)\n            setText(text);\n    }\n    return {\n        actor: label,\n        setVisibility,\n        setText,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Applet/AppletTooltip.ts\n\nconst { PanelItemTooltip } = imports.ui.tooltips;\nfunction createAppletTooltip(args) {\n    const { orientation, applet } = args;\n    const tooltip = new PanelItemTooltip(applet, null, orientation);\n    function setVolume(volume) {\n        if (volume == null) {\n            tooltip.set_text(DEFAULT_TOOLTIP_TXT);\n            return;\n        }\n        tooltip.set_text(`Volume: ${volume.toString()} %`);\n    }\n    return {\n        setVolume\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ChannelStore.ts\nclass ChannelStore {\n    constructor(channelList) {\n        this.channelList = channelList;\n    }\n    set channelList(channelList) {\n        const filteredChannelList = channelList.filter(channel => channel.inc);\n        this._channelList = filteredChannelList.map(channel => {\n            return Object.assign(Object.assign({}, channel), { url: channel.url.trim() });\n        });\n        // TODO: add babel to allow the usage of flatMap!\n        // return this.channelList.flatMap(channel =>\n        //     channel.inc ? channel.url : []\n        // )\n    }\n    get activatedChannelUrls() {\n        return this._channelList.map(channel => channel.url);\n    }\n    get activatedChannelNames() {\n        return this._channelList.map(channel => channel.name);\n    }\n    // TODO: what is when two Channels have the same Name or Url? :O\n    getChannelName(channelUrl) {\n        const channel = this._channelList.find(cnl => cnl.url === channelUrl);\n        return channel ? channel.name : null;\n    }\n    getChannelUrl(channelName) {\n        const channel = this._channelList.find(cnl => cnl.name === channelName);\n        return channel ? channel.url : null;\n    }\n    checkListChanged(channelList) {\n        return JSON.stringify(channelList) === JSON.stringify(this._channelList) ?\n            false : true;\n    }\n    checkUrlValid(channelUrl) {\n        return this._channelList.some(cnl => cnl.url === channelUrl);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/lib/ActivWidget.ts\nconst { KEY_space, KEY_KP_Enter, KEY_Return } = imports.gi.Clutter;\nfunction createActivWidget(args) {\n    const { widget, onActivated } = args;\n    // TODO: understand can_focus\n    widget.can_focus = true;\n    widget.reactive = true;\n    widget.track_hover = true;\n    widget.connect('button-release-event', () => onActivated === null || onActivated === void 0 ? void 0 : onActivated());\n    // TODO: This is needed because some themes (at least Adapta-Nokto but maybe also others) don't provide style for the hover pseudo class. But it would be much easier to once (and on theme changes) programmatically set the hover pseudo class equal to the active pseudo class when the hover class isn't provided by the theme. \n    widget.connect('notify::hover', () => {\n        widget.change_style_pseudo_class('active', widget.hover);\n        if (widget.hover)\n            widget.grab_key_focus();\n    });\n    widget.connect('key-press-event', (actor, event) => {\n        const symbol = event.get_key_symbol();\n        const relevantKeys = [KEY_space, KEY_KP_Enter, KEY_Return];\n        if (relevantKeys.includes(symbol) && widget.hover)\n            onActivated === null || onActivated === void 0 ? void 0 : onActivated();\n    });\n}\n\n;// CONCATENATED MODULE: ./src/lib/PopupSubMenu.ts\n\nconst { BoxLayout, Label: PopupSubMenu_Label, Icon: PopupSubMenu_Icon, ScrollView } = imports.gi.St;\nconst { ActorAlign: PopupSubMenu_ActorAlign, Point } = imports.gi.Clutter;\nconst { PolicyType } = imports.gi.Gtk;\nfunction createSubMenu(args) {\n    const { text } = args;\n    const container = new BoxLayout({\n        vertical: true\n    });\n    const label = new PopupSubMenu_Label({\n        text\n    });\n    const triangle = new PopupSubMenu_Icon({\n        style_class: 'popup-menu-arrow',\n        icon_name: 'pan-end',\n        rotation_angle_z: 90,\n        x_expand: true,\n        x_align: PopupSubMenu_ActorAlign.END,\n        pivot_point: new Point({ x: 0.5, y: 0.5 }),\n        important: true // without this, it looks ugly on Mint-X Themes\n    });\n    const toggle = new BoxLayout({\n        style_class: 'popup-menu-item popup-submenu-menu-item'\n    });\n    createActivWidget({\n        widget: toggle,\n        onActivated: toggleScrollbox\n    });\n    [label, triangle].forEach(widget => toggle.add_child(widget));\n    container.add_child(toggle);\n    const scrollbox = new ScrollView({\n        style_class: 'popup-sub-menu',\n        vscrollbar_policy: PolicyType.AUTOMATIC,\n        hscrollbar_policy: PolicyType.NEVER\n    });\n    const box = new BoxLayout({\n        vertical: true\n    });\n    function toggleScrollbox() {\n        scrollbox.visible ? closeMenu() : openMenu();\n    }\n    function openMenu() {\n        scrollbox.show();\n        triangle.rotation_angle_z = 90;\n    }\n    function closeMenu() {\n        scrollbox.hide();\n        triangle.rotation_angle_z = 0;\n    }\n    // add_child is recommended but doesn't work: https://gitlab.gnome.org/GNOME/gnome-shell/-/issues/3172\n    scrollbox.add_actor(box);\n    [toggle, scrollbox].forEach(widget => container.add_child(widget));\n    return {\n        /** the container which should be used to add it as child to a parent Actor */\n        actor: container,\n        /** the container which should be used to add children  */\n        box,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/functions/limitString.ts\nfunction limitString(text, maxCharNumber) {\n    if (!text)\n        return;\n    if (text.length <= maxCharNumber)\n        return text;\n    return [...text].slice(0, maxCharNumber - 3).join('') + '...';\n}\n\n;// CONCATENATED MODULE: ./src/lib/IconMenuItem.ts\n\n\nconst { Icon: IconMenuItem_Icon, IconType: IconMenuItem_IconType, Label: IconMenuItem_Label, BoxLayout: IconMenuItem_BoxLayout } = imports.gi.St;\nfunction createIconMenuItem(args) {\n    const { text, maxCharNumber, iconName, onActivated } = args;\n    let icon;\n    let label;\n    const container = new IconMenuItem_BoxLayout({\n        style_class: 'popup-menu-item'\n    });\n    setIconName(iconName);\n    setText(text);\n    function setIconName(name) {\n        if (icon && !name) {\n            container.remove_child(icon);\n            icon = null;\n            return;\n        }\n        if (!name)\n            return;\n        initIcon();\n        icon.icon_name = name;\n        if (container.get_child_at_index(0) !== icon)\n            container.insert_child_at_index(icon, 0);\n    }\n    function initIcon() {\n        if (!icon) {\n            icon = new IconMenuItem_Icon({\n                icon_type: IconMenuItem_IconType.SYMBOLIC,\n                style_class: 'popup-menu-icon'\n            });\n        }\n    }\n    function setText(text) {\n        const labelText = text || ' ';\n        if (!label) {\n            label = new IconMenuItem_Label();\n            container.add_child(label);\n        }\n        label.set_text(limitString(labelText, maxCharNumber));\n    }\n    onActivated && createActivWidget({ widget: container, onActivated });\n    return {\n        actor: container,\n        setIconName,\n        setText\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/ChannelList/ChannelMenuItem.ts\n\n\nfunction createChannelMenuItem(args) {\n    const { channelName, onActivated, playbackStatus } = args;\n    const playbackIconMap = new Map([\n        [\"Playing\", PLAY_ICON_NAME],\n        [\"Paused\", PAUSE_ICON_NAME],\n        [\"Loading\", LOADING_ICON_NAME],\n        [\"Stopped\", null]\n    ]);\n    const iconMenuItem = createIconMenuItem({\n        maxCharNumber: MAX_STRING_LENGTH,\n        text: channelName,\n        onActivated: () => onActivated(channelName)\n    });\n    function setPlaybackStatus(playbackStatus) {\n        const iconName = playbackIconMap.get(playbackStatus);\n        iconMenuItem.setIconName(iconName);\n    }\n    playbackStatus && setPlaybackStatus(playbackStatus);\n    return {\n        setPlaybackStatus,\n        actor: iconMenuItem.actor\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/ChannelList/ChannelList.ts\n\n\nfunction createChannelList(args) {\n    const { stationNames, onChannelClicked } = args;\n    const subMenu = createSubMenu({ text: 'My Stations' });\n    let currentChannelName;\n    let playbackStatus = 'Stopped';\n    // the channelItems are saved here to the map and to the container as on the container only the reduced name are shown. Theoretically it therefore couldn't be differentiated between two long channel names with the same first 30 (or so) characters   \n    const channelItems = new Map();\n    function setStationNames(names) {\n        channelItems.clear();\n        subMenu.box.remove_all_children();\n        names.forEach(name => {\n            const channelPlaybackstatus = (name === currentChannelName) ? playbackStatus : 'Stopped';\n            const channelItem = createChannelMenuItem({\n                channelName: name,\n                onActivated: onChannelClicked,\n                playbackStatus: channelPlaybackstatus\n            });\n            channelItems.set(name, channelItem);\n            subMenu.box.add_child(channelItem.actor);\n        });\n    }\n    function setPlaybackStatus(newStatus) {\n        playbackStatus = newStatus;\n        if (!currentChannelName)\n            return;\n        const channelMenuItem = channelItems.get(currentChannelName);\n        channelMenuItem === null || channelMenuItem === void 0 ? void 0 : channelMenuItem.setPlaybackStatus(playbackStatus);\n        if (playbackStatus === 'Stopped')\n            currentChannelName = null;\n    }\n    function setCurrentChannel(name) {\n        const currentChannelItem = channelItems.get(currentChannelName);\n        currentChannelItem === null || currentChannelItem === void 0 ? void 0 : currentChannelItem.setPlaybackStatus('Stopped');\n        if (name) {\n            const newChannelItem = channelItems.get(name);\n            if (!newChannelItem)\n                throw new Error(`No channelItem exist for ${name}`);\n            newChannelItem.setPlaybackStatus(playbackStatus);\n        }\n        currentChannelName = name;\n    }\n    setStationNames(stationNames);\n    return {\n        actor: subMenu.actor,\n        setPlaybackStatus,\n        setStationNames,\n        setCurrentChannel\n    };\n}\n\n;// CONCATENATED MODULE: ./src/lib/Slider.ts\nconst { DrawingArea } = imports.gi.St;\nconst { cairo_set_source_color, grab_pointer, ungrab_pointer } = imports.gi.Clutter;\nfunction createSlider(args) {\n    const style_class = 'popup-slider-menu-item';\n    const { initialValue, onValueChanged } = args;\n    let value;\n    if (initialValue)\n        value = limitToMinMax(initialValue);\n    const drawing = new DrawingArea({\n        style_class,\n        reactive: true,\n        x_expand: true\n    });\n    drawing.connect('repaint', () => {\n        const cr = drawing.get_context();\n        const themeNode = drawing.get_theme_node();\n        const [width, height] = drawing.get_surface_size();\n        const handleRadius = themeNode.get_length('-slider-handle-radius');\n        const sliderHeight = themeNode.get_length('-slider-height');\n        const sliderBorderWidth = themeNode.get_length('-slider-border-width');\n        const sliderBorderRadius = Math.min(width, sliderHeight) / 2;\n        const sliderBorderColor = themeNode.get_color('-slider-border-color');\n        const sliderColor = themeNode.get_color('-slider-background-color');\n        const sliderActiveBorderColor = themeNode.get_color('-slider-active-border-color');\n        const sliderActiveColor = themeNode.get_color('-slider-active-background-color');\n        const TAU = Math.PI * 2;\n        const handleX = handleRadius + (width - 2 * handleRadius) * value;\n        cr.arc(sliderBorderRadius + sliderBorderWidth, height / 2, sliderBorderRadius, TAU * 1 / 4, TAU * 3 / 4);\n        cr.lineTo(handleX, (height - sliderHeight) / 2);\n        cr.lineTo(handleX, (height + sliderHeight) / 2);\n        cr.lineTo(sliderBorderRadius + sliderBorderWidth, (height + sliderHeight) / 2);\n        cairo_set_source_color(cr, sliderActiveColor);\n        cr.fillPreserve();\n        cairo_set_source_color(cr, sliderActiveBorderColor);\n        cr.setLineWidth(sliderBorderWidth);\n        cr.stroke();\n        cr.arc(width - sliderBorderRadius - sliderBorderWidth, height / 2, sliderBorderRadius, TAU * 3 / 4, TAU * 1 / 4);\n        cr.lineTo(handleX, (height + sliderHeight) / 2);\n        cr.lineTo(handleX, (height - sliderHeight) / 2);\n        cr.lineTo(width - sliderBorderRadius - sliderBorderWidth, (height - sliderHeight) / 2);\n        cairo_set_source_color(cr, sliderColor);\n        cr.fillPreserve();\n        cairo_set_source_color(cr, sliderBorderColor);\n        cr.setLineWidth(sliderBorderWidth);\n        cr.stroke();\n        const handleY = height / 2;\n        const color = themeNode.get_foreground_color();\n        cairo_set_source_color(cr, color);\n        cr.arc(handleX, handleY, handleRadius, 0, 2 * Math.PI);\n        cr.fill();\n        cr.$dispose();\n    });\n    drawing.connect('button-press-event', (actor, event) => {\n        grab_pointer(drawing);\n        const motionId = drawing.connect('motion-event', (actor, event) => {\n            moveHandle(event);\n        });\n        const buttonReleaseId = drawing.connect('button-release-event', () => {\n            drawing.disconnect(buttonReleaseId);\n            drawing.disconnect(motionId);\n            ungrab_pointer();\n        });\n        moveHandle(event);\n    });\n    function moveHandle(event) {\n        const [absX, absY] = event.get_coords();\n        const [sliderX, sliderY] = drawing.get_transformed_position();\n        const relX = absX - sliderX;\n        const width = drawing.width;\n        const handleRadius = drawing.get_theme_node().get_length('-slider-handle-radius');\n        const newValue = (relX - handleRadius) / (width - 2 * handleRadius);\n        const newValueLimitToMinMax = limitToMinMax(newValue);\n        setValue(newValueLimitToMinMax);\n    }\n    function limitToMinMax(value) {\n        return Math.max(Math.min(value, 1), 0);\n    }\n    function setValue(newValue, silent = false) {\n        const correctedValue = limitToMinMax(newValue);\n        if (correctedValue === value)\n            return;\n        value = correctedValue;\n        if (!silent)\n            onValueChanged === null || onValueChanged === void 0 ? void 0 : onValueChanged(value);\n        drawing.queue_repaint();\n    }\n    function getValue() {\n        return value;\n    }\n    return {\n        actor: drawing,\n        setValue,\n        getValue\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/VolumeSlider.ts\n\n\n\nconst { BoxLayout: VolumeSlider_BoxLayout, Icon: VolumeSlider_Icon, IconType: VolumeSlider_IconType } = imports.gi.St;\nconst { Tooltip } = imports.ui.tooltips;\nconst { KEY_Right, KEY_Left, ScrollDirection } = imports.gi.Clutter;\nfunction createVolumeSlider(args) {\n    const { onVolumeChanged } = args;\n    let tooltip;\n    const container = new VolumeSlider_BoxLayout({\n        style_class: POPUP_MENU_ITEM_CLASS,\n    });\n    createActivWidget({\n        widget: container\n    });\n    /** in Percent and rounded! */\n    let volume;\n    const slider = createSlider({\n        onValueChanged: handleSliderValueChanged\n    });\n    const icon = new VolumeSlider_Icon({\n        icon_type: VolumeSlider_IconType.SYMBOLIC,\n        style_class: POPUP_ICON_CLASS,\n        reactive: true\n    });\n    [icon, slider.actor].forEach(widget => {\n        container.add_child(widget);\n    });\n    container.connect('key-press-event', (actor, event) => {\n        const key = event.get_key_symbol();\n        if (key === KEY_Right || key === KEY_Left) {\n            const direction = (key === KEY_Right) ? 'increase' : 'decrease';\n            deltaChange(direction);\n        }\n    });\n    container.connect('scroll-event', (actor, event) => {\n        const scrollDirection = event.get_scroll_direction();\n        const direction = (scrollDirection === ScrollDirection.UP) ? 'increase' : 'decrease';\n        deltaChange(direction);\n    });\n    icon.connect('button-press-event', () => {\n        slider.setValue(0);\n    });\n    /**\n     *\n     * @param newValue between 0 and 1\n     */\n    function handleSliderValueChanged(newValue) {\n        updateVolume(newValue * 100, true);\n    }\n    function deltaChange(direction) {\n        const delta = (direction === 'increase') ? VOLUME_DELTA : -VOLUME_DELTA;\n        const newValue = slider.getValue() + delta / 100;\n        slider.setValue(newValue);\n    }\n    /**\n     *\n     * @param newVolume in percent but doesn't need to be rounded\n     * @param showTooltip\n     */\n    function updateVolume(newVolume, showTooltip) {\n        const newVolumeRounded = Math.round(newVolume);\n        if (newVolumeRounded === volume)\n            return;\n        volume = newVolumeRounded;\n        slider.setValue(volume / 100);\n        icon.set_icon_name(getVolumeIcon({ volume }));\n        setTooltip(volume);\n        showTooltip && tooltip.show();\n        onVolumeChanged === null || onVolumeChanged === void 0 ? void 0 : onVolumeChanged(volume);\n    }\n    /**\n     *\n     * @param volume in Percent and rounded!\n     */\n    function setTooltip(volume) {\n        if (!tooltip)\n            tooltip = new Tooltip(slider.actor, ' ');\n        tooltip.set_text(`Volume: ${volume.toString()} %`);\n    }\n    /**\n     *\n     * @param newVolume in percent (0-100)\n     */\n    function setVolume(newVolume) {\n        updateVolume(newVolume, false);\n    }\n    return {\n        actor: container,\n        setVolume\n    };\n}\n\n;// CONCATENATED MODULE: external \"global\"\nconst external_global_namespaceObject = global;\n;// CONCATENATED MODULE: ./src/lib/PopupMenu.ts\nconst { BoxLayout: PopupMenu_BoxLayout, Bin: PopupMenu_Bin, Side } = imports.gi.St;\nconst { uiGroup, layoutManager, panelManager, pushModal, popModal } = imports.ui.main;\nconst { KEY_Escape } = imports.gi.Clutter;\nconst { util_get_transformed_allocation } = imports.gi.Cinnamon;\nconst { PanelLoc } = imports.ui.popupMenu;\n// @ts-ignore\n\nfunction createPopupMenu(args) {\n    const { launcher } = args;\n    const box = new PopupMenu_BoxLayout({\n        style_class: 'popup-menu-content',\n        vertical: true,\n        visible: false,\n    });\n    // only for styling purposes\n    const bin = new PopupMenu_Bin({\n        style_class: 'menu',\n        child: box,\n        visible: false\n    });\n    uiGroup.add_child(bin);\n    box.connect('key-press-event', (actor, event) => {\n        event.get_key_symbol() === KEY_Escape && close();\n    });\n    launcher.connect('queue-relayout', () => {\n        if (!box.visible)\n            return;\n        setTimeout(() => {\n            setLayout();\n        }, 0);\n    });\n    function setLayout() {\n        const freeSpace = calculateFreeSpace();\n        const maxHeight = calculateMaxHeight(freeSpace);\n        box.style = `max-height: ${maxHeight}px;`;\n        const [xPos, yPos] = calculatePosition(maxHeight, freeSpace);\n        // Without Math.floor, the popup menu gets for some reason blurred on some themes (e.g. Adapta Nokto)!\n        bin.set_position(Math.floor(xPos), Math.floor(yPos));\n    }\n    function calculateFreeSpace() {\n        var _a, _b, _c, _d;\n        const monitor = layoutManager.findMonitorForActor(launcher);\n        const visiblePanels = panelManager.getPanelsInMonitor(monitor.index);\n        const panelSizes = new Map(visiblePanels.map(panel => {\n            let width = 0, height = 0;\n            if (panel.getIsVisible()) {\n                width = panel.actor.width;\n                height = panel.actor.height;\n            }\n            return [panel.panelPosition, { width, height }];\n        }));\n        return {\n            left: monitor.x + (((_a = panelSizes.get(PanelLoc.left)) === null || _a === void 0 ? void 0 : _a.width) || 0),\n            bottom: monitor.y + monitor.height - (((_b = panelSizes.get(PanelLoc.bottom)) === null || _b === void 0 ? void 0 : _b.height) || 0),\n            top: monitor.y + (((_c = panelSizes.get(PanelLoc.top)) === null || _c === void 0 ? void 0 : _c.height) || 0),\n            right: monitor.x + monitor.width - (((_d = panelSizes.get(PanelLoc.right)) === null || _d === void 0 ? void 0 : _d.width) || 0)\n        };\n    }\n    function calculateMaxHeight(freeSpace) {\n        const freeSpaceHeight = (freeSpace.bottom - freeSpace.top) / __webpack_require__.g.ui_scale;\n        const boxThemeNode = box.get_theme_node();\n        const binThemeNode = bin.get_theme_node();\n        const paddingTop = boxThemeNode.get_padding(Side.TOP);\n        const paddingBottom = boxThemeNode.get_padding(Side.BOTTOM);\n        const borderWidthTop = binThemeNode.get_border_width(Side.TOP);\n        const borderWidthBottom = binThemeNode.get_border_width(Side.BOTTOM);\n        const maxHeight = freeSpaceHeight - paddingBottom - paddingTop - borderWidthTop - borderWidthBottom;\n        return maxHeight;\n    }\n    function calculatePosition(maxHeight, freeSpace) {\n        const appletBox = util_get_transformed_allocation(launcher);\n        const [minWidth, minHeight, natWidth, natHeight] = box.get_preferred_size();\n        const margin = (natWidth - appletBox.get_width()) / 2;\n        const xLeftNormal = Math.max(freeSpace.left, appletBox.x1 - margin);\n        const xRightNormal = appletBox.x2 + margin;\n        const xLeftMax = freeSpace.right - appletBox.get_width() - margin * 2;\n        const xLeft = (xRightNormal < freeSpace.right) ? xLeftNormal : xLeftMax;\n        const yTopNormal = Math.max(appletBox.y1, freeSpace.top);\n        const yBottomNormal = yTopNormal + natHeight;\n        const yTopMax = freeSpace.bottom - box.height;\n        const yTop = (yBottomNormal < freeSpace.bottom) ? yTopNormal : yTopMax;\n        return [xLeft, yTop];\n    }\n    function toggle() {\n        box.visible ? close() : open();\n    }\n    // no idea why it sometimes needs to be bin and sometimes box ...\n    function open() {\n        setLayout();\n        bin.show();\n        box.show();\n        launcher.add_style_pseudo_class('checked');\n        pushModal(box);\n        // For some reason, it is emmited the button-press event when clicking e.g on the desktop but the button-release-event when clicking on another applet\n        external_global_namespaceObject.stage.connect('button-press-event', handleClick);\n        external_global_namespaceObject.stage.connect('button-release-event', handleClick);\n    }\n    function close() {\n        if (!box.visible)\n            return;\n        bin.hide();\n        box.hide();\n        launcher.remove_style_pseudo_class('checked');\n        popModal(box);\n    }\n    function handleClick(actor, event) {\n        if (!box.visible) {\n            return;\n        }\n        const clickedActor = event.get_source();\n        const binClicked = box.contains(clickedActor);\n        const appletClicked = launcher.contains(clickedActor);\n        (!binClicked && !appletClicked) && close();\n    }\n    box.toggle = toggle;\n    box.close = close;\n    return box;\n}\n\n;// CONCATENATED MODULE: ./src/ui/InfoSection.ts\n\n\nconst { BoxLayout: InfoSection_BoxLayout } = imports.gi.St;\nfunction createInfoSection() {\n    const channelInfoItem = createInfoItem(RADIO_SYMBOLIC_ICON_NAME);\n    const songInfoItem = createInfoItem(SONG_INFO_ICON_NAME);\n    const infoSection = new InfoSection_BoxLayout({\n        vertical: true\n    });\n    [channelInfoItem, songInfoItem].forEach(infoItem => {\n        infoSection.add_child(infoItem.actor);\n    });\n    function createInfoItem(iconName) {\n        const iconMenuItem = createIconMenuItem({\n            iconName,\n            maxCharNumber: MAX_STRING_LENGTH,\n        });\n        return iconMenuItem;\n    }\n    function setChannel(channeName) {\n        channelInfoItem.setText(channeName);\n    }\n    function setSongTitle(songTitle) {\n        songInfoItem.setText(songTitle);\n    }\n    return {\n        actor: infoSection,\n        setSongTitle,\n        setChannel\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/ControlBtn.ts\n\nconst { Button, Icon: ControlBtn_Icon, IconType: ControlBtn_IconType } = imports.gi.St;\nconst { Tooltip: ControlBtn_Tooltip } = imports.ui.tooltips;\nfunction createControlBtn(args) {\n    const { iconName, tooltipTxt, onClick } = args;\n    const icon = new ControlBtn_Icon({\n        icon_type: ControlBtn_IconType.SYMBOLIC,\n        icon_name: iconName,\n        style_class: 'popup-menu-icon' // this specifies the icon-size\n    });\n    const btn = new Button({\n        reactive: true,\n        can_focus: true,\n        // It is challenging to get a reasonable style on all themes. I have tried using the 'sound-player-overlay' class but didn't get it working. However might be possible anyway.  \n        style_class: \"popup-menu-item\",\n        style: \"width:20px; padding:10px!important\",\n        child: icon\n    });\n    createActivWidget({\n        widget: btn,\n        onActivated: onClick\n    });\n    const tooltip = new ControlBtn_Tooltip(btn, tooltipTxt);\n    return {\n        actor: btn,\n        icon,\n        tooltip\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/PlayPauseButton.ts\n\n\nfunction createPlayPauseButton(args) {\n    const { onClick } = args;\n    const controlBtn = createControlBtn({\n        iconName: PLAY_ICON_NAME,\n        tooltipTxt: 'Play',\n        onClick\n    });\n    /**\n     *\n     * @param playPause he current state of the radio, which means that the opposite is shown (e.g. when the radio is playing, it is shown a pause item)\n     *\n     */\n    function setPlaybackStatus(playPause) {\n        let tooltipTxt;\n        let iconName;\n        if (playPause === 'Playing') {\n            tooltipTxt = 'Pause';\n            iconName = PAUSE_ICON_NAME;\n        }\n        if (playPause === 'Paused') {\n            tooltipTxt = 'Play';\n            iconName = PLAY_ICON_NAME;\n        }\n        controlBtn.tooltip.set_text(tooltipTxt);\n        controlBtn.icon.icon_name = iconName;\n    }\n    return {\n        actor: controlBtn.actor,\n        setPlaybackStatus\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/CopyButton.ts\n\n\nfunction createCopyButton(args) {\n    const { onClick } = args;\n    const defaultTooltipTxt = \"Copy current song title to Clipboard\";\n    const controlBtn = createControlBtn({\n        iconName: COPY_ICON_NAME,\n        tooltipTxt: defaultTooltipTxt,\n        onClick: handleClick\n    });\n    function handleClick() {\n        controlBtn.tooltip.show();\n        onClick();\n        // showCopyInTooltip()\n    }\n    // For some reasons I don't understand, this function has stopped working after refactoring the popup Menu. No idea how to debug this. Therefore deactivating this for now :-(. It is thrown an  warning when clicking on the button but this has nothing to do with the tooltip\n    function showCopyInTooltip() {\n        const tooltip = controlBtn.tooltip;\n        tooltip.set_text(\"Copied\");\n        tooltip.show();\n        setTimeout(() => {\n            tooltip.hide();\n            tooltip.set_text(defaultTooltipTxt);\n        }, 500);\n    }\n    return {\n        actor: controlBtn.actor,\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/DonwloadButton.ts\n\n\nfunction createDownloadButton(args) {\n    const { onClick } = args;\n    const downloadButton = createControlBtn({\n        iconName: DOWNLOAD_ICON_NAME,\n        tooltipTxt: \"Download current song from Youtube\",\n        onClick\n    });\n    return {\n        actor: downloadButton.actor\n    };\n}\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/MediaControlToolbar.ts\nconst { BoxLayout: MediaControlToolbar_BoxLayout } = imports.gi.St;\nconst { ActorAlign: MediaControlToolbar_ActorAlign } = imports.gi.Clutter;\nconst createMediaControlToolbar = (args) => {\n    const { controlBtns } = args;\n    const toolbar = new MediaControlToolbar_BoxLayout({\n        style_class: \"radio-applet-media-control-toolbar\",\n        x_align: MediaControlToolbar_ActorAlign.CENTER\n    });\n    controlBtns.forEach(btn => toolbar.add_child(btn));\n    return toolbar;\n};\n\n;// CONCATENATED MODULE: ./src/ui/Toolbar/StopButton.ts\n\n\nfunction createStopBtn(args) {\n    const { onClick } = args;\n    const stopBtn = createControlBtn({\n        iconName: STOP_ICON_NAME,\n        tooltipTxt: \"Stop\",\n        onClick\n    });\n    return {\n        actor: stopBtn.actor\n    };\n}\n\n;// CONCATENATED MODULE: ./src/functions/copyText.ts\nconst { Clipboard, ClipboardType } = imports.gi.St;\nfunction copyText(text) {\n    Clipboard.get_default().set_text(ClipboardType.CLIPBOARD, text);\n}\n\n;// CONCATENATED MODULE: ./src/ui/Seeker.ts\n\n\n\nconst { BoxLayout: Seeker_BoxLayout, Label: Seeker_Label } = imports.gi.St;\nfunction createSeeker(args) {\n    const { onPositionChanged } = args;\n    const container = new Seeker_BoxLayout({\n        style_class: POPUP_MENU_ITEM_CLASS\n    });\n    createActivWidget({\n        widget: container\n    });\n    // length in seconds\n    let length = 100;\n    // position in seconds\n    let position;\n    const positionLabel = new Seeker_Label();\n    const lengthLabel = new Seeker_Label();\n    const slider = createSlider({\n        initialValue: 0.5,\n        onValueChanged: handleValueChanged\n    });\n    [positionLabel, slider.actor, lengthLabel].forEach(widget => {\n        container.add_child(widget);\n    });\n    /** @param value in seconds */\n    function setLength(value) {\n        length = value;\n        lengthLabel.set_text(secondsToFormatedMin(value));\n        refreshSliderValue();\n    }\n    /** @param value in seconds */\n    function setPosition(value) {\n        position = value;\n        positionLabel.set_text(secondsToFormatedMin(position));\n        refreshSliderValue();\n    }\n    function refreshSliderValue() {\n        const sliderValue = length === 0 ? 0 : Math.min(position / length, 1);\n        slider.setValue(sliderValue, true);\n    }\n    function handleValueChanged(value) {\n        const newPosition = value * length;\n        onPositionChanged(newPosition);\n    }\n    /**\n     * converts seconds to a string in the form of: mm:ss\n     *\n     * e.g. 10 seconds = 00:10, 100 seconds = 01:40,  6000 seconds = 100:00\n     *      *\n     * @param seconds\n     * @returns\n     */\n    function secondsToFormatedMin(seconds) {\n        const minutes = Math.floor(seconds / 60);\n        const remainingSeconds = seconds - minutes * 60;\n        // ensures minutes and seconds are shown with at least two digits\n        return [minutes, remainingSeconds].map(value => {\n            const valueString = value.toString().padStart(2, '0');\n            return valueString;\n        }).join(\":\");\n    }\n    return {\n        actor: container,\n        setLength,\n        setPosition\n    };\n}\n\n;// CONCATENATED MODULE: ./src/lib/PopupSeperator.ts\nconst { BoxLayout: PopupSeperator_BoxLayout, DrawingArea: PopupSeperator_DrawingArea } = imports.gi.St;\nconst { LinearGradient } = imports.gi.cairo;\nfunction createSeparatorMenuItem() {\n    const container = new PopupSeperator_BoxLayout({\n        style_class: 'popup-menu-item'\n    });\n    const drawingArea = new PopupSeperator_DrawingArea({\n        style_class: 'popup-separator-menu-item',\n        x_expand: true\n    });\n    container.add_child(drawingArea);\n    drawingArea.connect('repaint', () => {\n        const cr = drawingArea.get_context();\n        const themeNode = drawingArea.get_theme_node();\n        const [width, height] = drawingArea.get_surface_size();\n        const margin = themeNode.get_length('-margin-horizontal');\n        const gradientHeight = themeNode.get_length('-gradient-height');\n        const startColor = themeNode.get_color('-gradient-start');\n        const endColor = themeNode.get_color('-gradient-end');\n        const gradientWidth = (width - margin * 2);\n        const gradientOffset = (height - gradientHeight) / 2;\n        const pattern = new LinearGradient(margin, gradientOffset, width - margin, gradientOffset + gradientHeight);\n        // TODO\n        // const colors = ['red', 'green', 'blue', 'alpha'].map(color => startColor[color] / 255)\n        // https://github.com/microsoft/TypeScript/issues/4130#issuecomment-499525897\n        pattern.addColorStopRGBA(0, startColor.red / 255, startColor.green / 255, startColor.blue / 255, startColor.alpha / 255);\n        pattern.addColorStopRGBA(0.5, endColor.red / 255, endColor.green / 255, endColor.blue / 255, endColor.alpha / 255);\n        pattern.addColorStopRGBA(1, startColor.red / 255, startColor.green / 255, startColor.blue / 255, startColor.alpha / 255);\n        cr.setSource(pattern);\n        cr.rectangle(margin, gradientOffset, gradientWidth, gradientHeight);\n        cr.fill();\n        cr.$dispose;\n    });\n    return container;\n}\n\n;// CONCATENATED MODULE: ./src/functions/promiseHelpers.ts\nconst { spawnCommandLineAsyncIO } = imports.misc.util;\nconst spawnCommandLinePromise = function (command) {\n    return new Promise((resolve, reject) => {\n        spawnCommandLineAsyncIO(command, (stdout, stderr, exitCode) => {\n            (stdout) ? resolve([null, stdout, 0]) : resolve([stderr, null, exitCode]);\n        });\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/NotificationBase.ts\nconst { SystemNotificationSource, Notification } = imports.ui.messageTray;\nconst { messageTray } = imports.ui.main;\nconst { Icon: NotificationBase_Icon, IconType: NotificationBase_IconType } = imports.gi.St;\n\nconst messageSource = new SystemNotificationSource('Radio Applet');\nmessageTray.add(messageSource);\nfunction createBasicNotification(args) {\n    const { notificationText, isMarkup = false, transient = true } = args;\n    const icon = new NotificationBase_Icon({\n        icon_type: NotificationBase_IconType.SYMBOLIC,\n        icon_name: RADIO_SYMBOLIC_ICON_NAME,\n        icon_size: 25\n    });\n    const notification = new Notification(messageSource, __meta.name, notificationText, { icon, bodyMarkup: isMarkup });\n    notification.setTransient(transient);\n    notification.notify = () => {\n        messageSource.notify(notification);\n    };\n    return notification;\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/GenericNotification.ts\n\nfunction notify(args) {\n    const { text } = args;\n    const notification = createBasicNotification({\n        notificationText: text\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/mpv/CheckInstallation.ts\n\n\n\nconst { find_program_in_path, file_test, FileTest } = imports.gi.GLib;\nasync function installMpvWithMpris() {\n    const mprisPluginDownloaded = checkMprisPluginDownloaded();\n    const mpvInstalled = checkMpvInstalled();\n    !mprisPluginDownloaded && await downloadMrisPluginInteractive();\n    if (!mpvInstalled) {\n        const notificationText = `Please ${mprisPluginDownloaded ? '' : 'also'} install the mpv package.`;\n        notify({ text: notificationText });\n        await installMpvInteractive();\n    }\n}\nfunction checkMpvInstalled() {\n    return find_program_in_path('mpv');\n}\nfunction checkMprisPluginDownloaded() {\n    return file_test(MPRIS_PLUGIN_PATH, FileTest.IS_REGULAR);\n}\nfunction installMpvInteractive() {\n    return new Promise(async (resolve, reject) => {\n        if (checkMpvInstalled())\n            return resolve();\n        if (!find_program_in_path(\"apturl\"))\n            return reject();\n        const [stderr, stdout, exitCode] = await spawnCommandLinePromise(`\n            apturl apt://mpv`);\n        // exitCode 0 means sucessfully. See: man apturl\n        return (exitCode === 0) ? resolve() : reject(stderr);\n    });\n}\nfunction downloadMrisPluginInteractive() {\n    return new Promise(async (resolve, reject) => {\n        if (checkMprisPluginDownloaded()) {\n            return resolve();\n        }\n        let [stderr, stdout, exitCode] = await spawnCommandLinePromise(`python3  ${__meta.path}/download-dialog-mpris.py`);\n        if (stdout.trim() !== 'Continue') {\n            return reject();\n        }\n        [stderr, stdout, exitCode] = await spawnCommandLinePromise(`\n            wget ${MPRIS_PLUGIN_URL} -O ${MPRIS_PLUGIN_PATH}`);\n        // Wget always prints to stderr - exitcode 0 means it was sucessfull \n        // see:  https://stackoverflow.com/questions/13066518/why-does-wget-output-to-stderr-rather-than-stdout\n        // and https://www.gnu.org/software/wget/manual/html_node/Exit-Status.html\n        return (exitCode === 0) ? resolve() : reject(stderr);\n    });\n}\n\n;// CONCATENATED MODULE: ./src/functions/downloadFromYoutube.ts\nconst { spawnCommandLineAsyncIO: downloadFromYoutube_spawnCommandLineAsyncIO } = imports.misc.util;\nconst { get_home_dir: downloadFromYoutube_get_home_dir } = imports.gi.GLib;\nfunction downloadSongFromYoutube(args) {\n    const { title, downloadDir, onDownloadFinished, onDownloadFailed } = args;\n    let hasBeenCancelled = false;\n    // when using the default value of the settings, the dir starts with ~ what can't be understand when executing command. Else it starts with file:// what youtube-dl can't handle. Saving to network directories (e.g. ftp) doesn't work \n    // TODO: Shouldn't this be done in configs(at least replacing ~)? \n    const music_dir_absolut = downloadDir.replace('~', downloadFromYoutube_get_home_dir()).replace('file://', '');\n    const downloadCommand = `\n        youtube-dl --output \"${music_dir_absolut}/%(title)s.%(ext)s\" --extract-audio --audio-format mp3 ytsearch1:\"${title.replace('\"', '\\\"')}\" --add-metadata --embed-thumbnail`;\n    const process = downloadFromYoutube_spawnCommandLineAsyncIO(downloadCommand, (stdout, stderr) => {\n        try {\n            if (hasBeenCancelled) {\n                hasBeenCancelled = false;\n                return;\n            }\n            if (stderr)\n                throw new Error(stderr);\n            if (stdout) {\n                const downloadPath = getDownloadPath(stdout);\n                if (!downloadPath)\n                    throw new Error('File not saved');\n                onDownloadFinished(downloadPath);\n            }\n        }\n        catch (error) {\n            __webpack_require__.g.logError(`The following error occured at youtube download attempt: ${error}. The used download Command was: ${downloadCommand}`);\n            onDownloadFailed();\n        }\n    });\n    function cancel() {\n        hasBeenCancelled = true;\n        // it seems to be no problem to call this after the process has already finished\n        process.force_exit();\n    }\n    return { cancel };\n}\nfunction getDownloadPath(stdout) {\n    const arrayOfLines = stdout.match(/[^\\r\\n]+/g);\n    // there is only one line in stdout which gives the path of the downloaded mp3. This start with [ffmpeg] Destination ...\n    const searchString = '[ffmpeg] Destination: ';\n    return arrayOfLines.find(line => line.includes(searchString))\n        .split(searchString)[1];\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/YoutubeDownloadFailedNotification.ts\n\n\nconst { spawnCommandLine: YoutubeDownloadFailedNotification_spawnCommandLine } = imports.misc.util;\nconst { get_home_dir: YoutubeDownloadFailedNotification_get_home_dir } = imports.gi.GLib;\nfunction notifyYoutubeDownloadFailed() {\n    const notificationText = `Couldn't download Song from Youtube due to an Error. Make Sure you have the newest version of youtube-dl installed. \n        \\n<b>Important:</b> Don't use apt for the installation but follow the installation instruction given on the Radio Applet Site in the Cinnamon Store instead\n        \\nFor more information see the logs`;\n    const notification = createBasicNotification({\n        notificationText,\n        isMarkup: true,\n        transient: false\n    });\n    const viewStoreBtnId = 'viewStoreBtn';\n    const viewLogBtnId = 'viewLogBtn';\n    notification.addButton(viewStoreBtnId, 'View Installation Instruction');\n    notification.addButton(viewLogBtnId, \"View Logs\");\n    notification.connect('action-invoked', (actor, id) => {\n        if (id === viewStoreBtnId) {\n            YoutubeDownloadFailedNotification_spawnCommandLine(`xdg-open ${APPLET_SITE} `);\n        }\n        if (id === viewLogBtnId) {\n            YoutubeDownloadFailedNotification_spawnCommandLine(`xdg-open ${YoutubeDownloadFailedNotification_get_home_dir()}/.xsession-errors`);\n        }\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/YoutubeDownloadFinishedNotification.ts\n\nconst { spawnCommandLine: YoutubeDownloadFinishedNotification_spawnCommandLine } = imports.misc.util;\nfunction notifyYoutubeDownloadFinished(args) {\n    const { downloadPath } = args;\n    const notification = createBasicNotification({\n        notificationText: `Download finished. File saved to ${downloadPath}`\n    });\n    const playBtnId = 'openBtn';\n    notification.addButton(playBtnId, 'Play');\n    notification.connect('action-invoked', (actor, id) => {\n        if (id === playBtnId) {\n            YoutubeDownloadFinishedNotification_spawnCommandLine(`xdg-open '${downloadPath}'`);\n        }\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/ui/Notifications/YoutubeDownloadStartedNotification.ts\n\nfunction notifyYoutubeDownloadStarted(args) {\n    const { title, onCancelClicked } = args;\n    const notification = createBasicNotification({\n        notificationText: `Downloading ${title} ...`,\n    });\n    const cancelBtnId = 'cancelBtn';\n    notification.addButton(cancelBtnId, 'Cancel');\n    notification.connect('action-invoked', (actor, id) => {\n        if (id === cancelBtnId)\n            onCancelClicked();\n    });\n    notification.notify();\n}\n\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst { ScrollDirection: src_ScrollDirection } = imports.gi.Clutter;\nconst { getAppletDefinition } = imports.ui.appletManager;\nconst { panelManager: src_panelManager } = imports.ui.main;\nconst { BoxLayout: src_BoxLayout } = imports.gi.St;\nfunction main(args) {\n    const { orientation, panelHeight, instanceId } = args;\n    // this is a workaround for now. Optimally the lastVolume should be saved persistently each time the volume is changed but this lead to significant performance issue on scrolling at the moment. However this shouldn't be the case as it is no problem to log the volume each time the volume changes (so it is a problem in the config implementation). As a workaround the volume is only saved persistently when the radio stops but the volume obviously can't be received anymore from dbus when the player has been already stopped ... \n    let lastVolume;\n    let mpvHandler;\n    let installationInProgress = false;\n    const appletDefinition = getAppletDefinition({\n        applet_id: instanceId,\n    });\n    const panel = src_panelManager.panels.find(panel => (panel === null || panel === void 0 ? void 0 : panel.panelId) === appletDefinition.panelId);\n    panel.connect('icon-size-changed', () => appletIcon.updateIconSize());\n    const appletIcon = createAppletIcon({\n        locationLabel: appletDefinition.location_label,\n        panel\n    });\n    const appletLabel = createAppletLabel();\n    const applet = createApplet({\n        icon: appletIcon.actor,\n        label: appletLabel.actor,\n        instanceId,\n        orientation,\n        panelHeight,\n        onClick: handleAppletClicked,\n        onScroll: handleScroll,\n        onMiddleClick: () => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.togglePlayPause(),\n        onAppletMoved: () => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.deactivateAllListener(),\n        onAppletRemoved: handleAppletRemoved,\n        onRightClick: () => popupMenu === null || popupMenu === void 0 ? void 0 : popupMenu.close()\n    });\n    const appletTooltip = createAppletTooltip({\n        applet,\n        orientation\n    });\n    const configs = createConfig({\n        uuid: __meta.uuid,\n        instanceId,\n        onIconChanged: handleIconTypeChanged,\n        onIconColorPlayingChanged: (color) => {\n            appletIcon.setColorWhenPlaying(color);\n        },\n        onIconColorPausedChanged: (color) => {\n            appletIcon.setColorWhenPaused(color);\n        },\n        onChannelOnPanelChanged: (channelOnPanel) => {\n            appletLabel.setVisibility(channelOnPanel);\n        },\n        onMyStationsChanged: handleStationsUpdated,\n    });\n    const channelStore = new ChannelStore(configs.userStations);\n    const channelList = createChannelList({\n        stationNames: channelStore.activatedChannelNames,\n        onChannelClicked: handleChannelClicked\n    });\n    const volumeSlider = createVolumeSlider({\n        onVolumeChanged: (volume) => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.setVolume(volume)\n    });\n    const popupMenu = createPopupMenu({ launcher: applet.actor });\n    const infoSection = createInfoSection();\n    //toolbar\n    const playPauseBtn = createPlayPauseButton({\n        onClick: () => mpvHandler.togglePlayPause()\n    });\n    const stopBtn = createStopBtn({\n        onClick: () => mpvHandler.stop()\n    });\n    const downloadBtn = createDownloadButton({\n        onClick: handleDownloadBtnClicked\n    });\n    const copyBtn = createCopyButton({\n        onClick: () => copyText(mpvHandler.getCurrentTitle())\n    });\n    const mediaControlToolbar = createMediaControlToolbar({\n        controlBtns: [playPauseBtn.actor, downloadBtn.actor, copyBtn.actor, stopBtn.actor]\n    });\n    const seeker = createSeeker({\n        onPositionChanged: (value) => mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.setPosition(value)\n    });\n    const radioActiveSection = new src_BoxLayout({\n        vertical: true,\n        visible: false\n    });\n    [\n        infoSection.actor,\n        mediaControlToolbar,\n        volumeSlider.actor,\n        seeker.actor\n    ].forEach(widget => {\n        radioActiveSection.add_child(createSeparatorMenuItem());\n        radioActiveSection.add_child(widget);\n    });\n    popupMenu.add_child(channelList.actor);\n    popupMenu.add_child(radioActiveSection);\n    mpvHandler = createMpvHandler({\n        getInitialVolume: () => { return configs.initialVolume; },\n        onVolumeChanged: handleVolumeChanged,\n        onLengthChanged: hanldeLengthChanged,\n        onPositionChanged: handlePositionChanged,\n        checkUrlValid: (url) => channelStore.checkUrlValid(url),\n        onTitleChanged: handleTitleChanged,\n        onPlaybackstatusChanged: handlePlaybackstatusChanged,\n        lastUrl: configs.lastUrl,\n        onUrlChanged: handleUrlChanged\n    });\n    // CALLBACKS\n    async function handleAppletClicked() {\n        if (installationInProgress)\n            return;\n        try {\n            installationInProgress = true;\n            await installMpvWithMpris();\n            popupMenu.toggle();\n        }\n        catch (error) {\n            const notificationText = \"Couldn't start the applet. Make sure mpv is installed and the mpv mpris plugin saved in the configs folder.\";\n            notify({ text: notificationText });\n            __webpack_require__.g.logError(error);\n        }\n        finally {\n            installationInProgress = false;\n        }\n    }\n    function handleAppletRemoved() {\n        mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.deactivateAllListener();\n        mpvHandler === null || mpvHandler === void 0 ? void 0 : mpvHandler.stop();\n    }\n    function handleScroll(scrollDirection) {\n        const volumeChange = scrollDirection === src_ScrollDirection.UP ? VOLUME_DELTA : -VOLUME_DELTA;\n        mpvHandler.increaseDecreaseVolume(volumeChange);\n    }\n    function handleChannelClicked(name) {\n        const channelUrl = channelStore.getChannelUrl(name);\n        mpvHandler.setUrl(channelUrl);\n    }\n    function handleTitleChanged(title) {\n        infoSection.setSongTitle(title);\n    }\n    function handleVolumeChanged(volume) {\n        volumeSlider.setVolume(volume);\n        appletTooltip.setVolume(volume);\n        lastVolume = volume;\n    }\n    function handleIconTypeChanged(iconType) {\n        appletIcon.setIconType(iconType);\n    }\n    function handleStationsUpdated(stations) {\n        const stationsChanged = channelStore.checkListChanged(stations);\n        if (!stationsChanged)\n            return;\n        channelStore.channelList = stations;\n        channelList.setStationNames(channelStore.activatedChannelNames);\n        const lastUrlValid = channelStore.checkUrlValid(configs.lastUrl);\n        if (!lastUrlValid)\n            mpvHandler.stop();\n    }\n    function handlePlaybackstatusChanged(playbackstatus) {\n        if (playbackstatus === 'Stopped') {\n            radioActiveSection.hide();\n            configs.lastVolume = lastVolume;\n            configs.lastUrl = null;\n            appletLabel.setText(null);\n            handleVolumeChanged(null);\n            popupMenu.close();\n        }\n        if (playbackstatus !== 'Stopped' && !radioActiveSection.visible)\n            radioActiveSection.show();\n        channelList.setPlaybackStatus(playbackstatus);\n        appletIcon.setPlaybackStatus(playbackstatus);\n        if (playbackstatus === 'Playing' || playbackstatus === 'Paused') {\n            playPauseBtn.setPlaybackStatus(playbackstatus);\n        }\n    }\n    function handleUrlChanged(url) {\n        const channelName = url ? channelStore.getChannelName(url) : null;\n        appletLabel.setText(channelName);\n        channelList.setCurrentChannel(channelName);\n        infoSection.setChannel(channelName);\n        configs.lastUrl = url;\n    }\n    function hanldeLengthChanged(length) {\n        seeker.setLength(length);\n    }\n    function handlePositionChanged(position) {\n        seeker === null || seeker === void 0 ? void 0 : seeker.setPosition(position);\n    }\n    function handleDownloadBtnClicked() {\n        const title = mpvHandler.getCurrentTitle();\n        const downloadProcess = downloadSongFromYoutube({\n            downloadDir: configs.musicDownloadDir,\n            title,\n            onDownloadFinished: (path) => notifyYoutubeDownloadFinished({\n                downloadPath: path\n            }),\n            onDownloadFailed: notifyYoutubeDownloadFailed\n        });\n        notifyYoutubeDownloadStarted({\n            title,\n            onCancelClicked: () => downloadProcess.cancel()\n        });\n    }\n    return applet;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9jb25zdHMudHM/YzZlYyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9BcHBsZXQvQXBwbGV0SWNvbi50cz9iMDA1Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0FwcGxldC9BcHBsZXQudHM/YTMzMSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9tcHYvTXB2SGFuZGxlci50cz8wYWM3Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL0NvbmZpZy50cz9mMmNmIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0FwcGxldC9BcHBsZXRMYWJlbC50cz8zOTNkIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0FwcGxldC9BcHBsZXRUb29sdGlwLnRzP2E1M2UiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvQ2hhbm5lbFN0b3JlLnRzP2JiYjEiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbGliL0FjdGl2V2lkZ2V0LnRzPzAzMGIiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbGliL1BvcHVwU3ViTWVudS50cz9kYjlhIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2Z1bmN0aW9ucy9saW1pdFN0cmluZy50cz83ODE2Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2xpYi9JY29uTWVudUl0ZW0udHM/YTIzMyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9DaGFubmVsTGlzdC9DaGFubmVsTWVudUl0ZW0udHM/OGEzNiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9DaGFubmVsTGlzdC9DaGFubmVsTGlzdC50cz81ZWQ4Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL2xpYi9TbGlkZXIudHM/MDA4NyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Wb2x1bWVTbGlkZXIudHM/YzBlNSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC9leHRlcm5hbCBcImdsb2JhbFwiP2IwOTciLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbGliL1BvcHVwTWVudS50cz8xMDNlIiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL0luZm9TZWN0aW9uLnRzPzk2NWYiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvVG9vbGJhci9Db250cm9sQnRuLnRzP2FiZDUiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvVG9vbGJhci9QbGF5UGF1c2VCdXR0b24udHM/NmFiNiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ub29sYmFyL0NvcHlCdXR0b24udHM/NWY5YyIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ub29sYmFyL0Rvbndsb2FkQnV0dG9uLnRzP2Q4ZGQiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvVG9vbGJhci9NZWRpYUNvbnRyb2xUb29sYmFyLnRzP2EzNDQiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvVG9vbGJhci9TdG9wQnV0dG9uLnRzP2I0NGYiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvZnVuY3Rpb25zL2NvcHlUZXh0LnRzP2JkYjciLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvU2Vla2VyLnRzPzEzYjIiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbGliL1BvcHVwU2VwZXJhdG9yLnRzPzQ1YjciLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvZnVuY3Rpb25zL3Byb21pc2VIZWxwZXJzLnRzPzdlNWUiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvTm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb25CYXNlLnRzP2Q1M2MiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvdWkvTm90aWZpY2F0aW9ucy9HZW5lcmljTm90aWZpY2F0aW9uLnRzPzNmZjgiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvbXB2L0NoZWNrSW5zdGFsbGF0aW9uLnRzP2Y5NWQiLCJ3ZWJwYWNrOi8vcmFkaW9BcHBsZXQvLi9zcmMvZnVuY3Rpb25zL2Rvd25sb2FkRnJvbVlvdXR1YmUudHM/M2VkMiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ob3RpZmljYXRpb25zL1lvdXR1YmVEb3dubG9hZEZhaWxlZE5vdGlmaWNhdGlvbi50cz9iYjA4Iiwid2VicGFjazovL3JhZGlvQXBwbGV0Ly4vc3JjL3VpL05vdGlmaWNhdGlvbnMvWW91dHViZURvd25sb2FkRmluaXNoZWROb3RpZmljYXRpb24udHM/ZDJjYiIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy91aS9Ob3RpZmljYXRpb25zL1lvdXR1YmVEb3dubG9hZFN0YXJ0ZWROb3RpZmljYXRpb24udHM/YmJmNSIsIndlYnBhY2s6Ly9yYWRpb0FwcGxldC8uL3NyYy9pbmRleC50cz9mZmI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxFQUFFLFlBQVksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBRWxDLE1BQU0sV0FBVyxHQUFHLHdEQUF3RDtBQUU1RSxNQUFNLG1CQUFtQixHQUFHLFNBQVM7QUFDckMsTUFBTSxVQUFVLEdBQUcsR0FBRyxZQUFZLEVBQUUsc0JBQXNCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN4RSxNQUFNLGlCQUFpQixHQUFHLFVBQVUsR0FBRyxZQUFZO0FBQ25ELE1BQU0sZ0JBQWdCLEdBQUcsbUVBQW1FO0FBRTVGLE1BQU0sbUJBQW1CLEdBQUcsd0JBQXdCLENBQUM7QUFDckQsTUFBTSwwQkFBMEIsR0FBRywrQkFBK0IsQ0FBQztBQUNuRSxNQUFNLG1CQUFtQixHQUFHLHlCQUF5QixDQUFDO0FBQ3RELE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxtQkFBbUIsTUFB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QUN4RCxZQUFZLEVBQUUsSUFBSTthQUNyQixDQUFDO1lBQ0YsZ0JBQWdCLEVBQUUsMkJBQTJCO1NBQ2hELENBQUM7UUFFRiw0QkFBNEIsQ0FBQztZQUN6QixLQUFLO1lBQ0wsZUFBZSxFQUFFLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUU7U0FDbEQsQ0FBQztJQUNOLENBQUM7SUFFRCxPQUFPLE1BQU07QUFFakIsQ0FBQyIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgZ2V0X2hvbWVfZGlyIH0gPSBpbXBvcnRzLmdpLkdMaWI7XG5cbmV4cG9ydCBjb25zdCBBUFBMRVRfU0lURSA9ICdodHRwczovL2Npbm5hbW9uLXNwaWNlcy5saW51eG1pbnQuY29tL2FwcGxldHMvdmlldy8yOTcnXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RPT0xUSVBfVFhUID0gJ1JhZGlvKysnXG5leHBvcnQgY29uc3QgQ09ORklHX0RJUiA9IGAke2dldF9ob21lX2RpcigpfS8uY2lubmFtb24vY29uZmlncy8ke19fbWV0YS51dWlkfWA7XG5leHBvcnQgY29uc3QgTVBSSVNfUExVR0lOX1BBVEggPSBDT05GSUdfRElSICsgJy8ubXByaXMuc28nXG5leHBvcnQgY29uc3QgTVBSSVNfUExVR0lOX1VSTCA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2hveW9uL21wdi1tcHJpcy9yZWxlYXNlcy9kb3dubG9hZC8wLjUvbXByaXMuc29cIlxuXG5leHBvcnQgY29uc3QgTUVESUFfUExBWUVSXzJfTkFNRSA9IFwib3JnLm1wcmlzLk1lZGlhUGxheWVyMlwiO1xuZXhwb3J0IGNvbnN0IE1FRElBX1BMQVlFUl8yX1BMQVlFUl9OQU1FID0gXCJvcmcubXByaXMuTWVkaWFQbGF5ZXIyLlBsYXllclwiO1xuZXhwb3J0IGNvbnN0IE1FRElBX1BMQVlFUl8yX1BBVEggPSBcIi9vcmcvbXByaXMvTWVkaWFQbGF5ZXIyXCI7XG5leHBvcnQgY29uc3QgTVBWX01QUklTX0JVU19OQU1FID0gYCR7TUVESUFfUExBWUVSXzJfTkFNRX0ubXB2YFxuZXhwb3J0IGNvbnN0IE1QVl9DVkNfTkFNRSA9ICdtcHYgTWVkaWEgUGxheWVyJ1xuXG5leHBvcnQgY29uc3QgTUFYX1NUUklOR19MRU5HVEggPSA0MFxuXG4vKiogaW4gcGVyY2VudCAqL1xuZXhwb3J0IGNvbnN0IE1BWF9WT0xVTUUgPSAxMDAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9saW51eG1pbnQvY2lubmFtb24tc3BpY2VzLWFwcGxldHMvaXNzdWVzLzM0MDIjaXNzdWVjb21tZW50LTc1NjQzMDc1NCBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhpcyB2YWx1ZVxuXG4vKiogaW4gcGVyY2VudCAqL1xuZXhwb3J0IGNvbnN0IFZPTFVNRV9ERUxUQSA9IDVcblxuXG4vLyBTVFlMRSBDTEFTU0VTIFxuZXhwb3J0IGNvbnN0IFBPUFVQX0lDT05fQ0xBU1MgPSAncG9wdXAtbWVudS1pY29uJ1xuZXhwb3J0IGNvbnN0IFBPUFVQX01FTlVfSVRFTV9DTEFTUyA9ICdwb3B1cC1tZW51LWl0ZW0nXG5cbi8vIElDT05TXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm9sdW1lSWNvbihhcmdzOiB7IHZvbHVtZTogbnVtYmVyIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICAgIHZvbHVtZVxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBWT0xVTUVfSUNPTl9QUkVGSVggPSAnYXVkaW8tdm9sdW1lJ1xuXG4gICAgY29uc3QgVk9MVU1FX0lDT05TID0gW1xuICAgICAgICB7IG1heDogMCwgbmFtZTogYCR7Vk9MVU1FX0lDT05fUFJFRklYfS1tdXRlZGAgfSxcbiAgICAgICAgeyBtYXg6IDMzLCBuYW1lOiBgJHtWT0xVTUVfSUNPTl9QUkVGSVh9LWxvd2AgfSxcbiAgICAgICAgeyBtYXg6IDY2LCBuYW1lOiBgJHtWT0xVTUVfSUNPTl9QUkVGSVh9LW1lZGl1bWAgfSxcbiAgICAgICAgeyBtYXg6IDEwMCwgbmFtZTogYCR7Vk9MVU1FX0lDT05fUFJFRklYfS1oaWdoYCB9LFxuICAgIF1cblxuICAgIGlmICh2b2x1bWUgPCAwIHx8IHZvbHVtZSA+IDEwMClcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3ZvbHVtZSBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCAxMDAnKVxuXG4gICAgY29uc3QgaW5kZXggPSBWT0xVTUVfSUNPTlMuZmluZEluZGV4KCh7IG1heCwgLi4ucmVzdCB9KSA9PiB7XG4gICAgICAgIHJldHVybiB2b2x1bWUgPD0gbWF4XG4gICAgfSlcblxuICAgIHJldHVybiBWT0xVTUVfSUNPTlNbaW5kZXhdLm5hbWVcbn1cblxuZXhwb3J0IGNvbnN0IFJBRElPX1NZTUJPTElDX0lDT05fTkFNRSA9ICdyYWRpb2FwcGxldCdcblxuY29uc3QgUExBWUJBQ0tfSUNPTl9QUkVGSVggPSAnbWVkaWEtcGxheWJhY2snXG5cbmV4cG9ydCBjb25zdCBQTEFZX0lDT05fTkFNRSA9IGAke1BMQVlCQUNLX0lDT05fUFJFRklYfS1zdGFydGBcbmV4cG9ydCBjb25zdCBQQVVTRV9JQ09OX05BTUUgPSBgJHtQTEFZQkFDS19JQ09OX1BSRUZJWH0tcGF1c2VgXG5leHBvcnQgY29uc3QgU1RPUF9JQ09OX05BTUUgPSBgJHtQTEFZQkFDS19JQ09OX1BSRUZJWH0tc3RvcGBcbmV4cG9ydCBjb25zdCBTT05HX0lORk9fSUNPTl9OQU1FID0gJ2F1ZGlvLXgtZ2VuZXJpYydcbmV4cG9ydCBjb25zdCBDT1BZX0lDT05fTkFNRSA9ICdlZGl0LWNvcHknXG5leHBvcnQgY29uc3QgRE9XTkxPQURfSUNPTl9OQU1FID0gJ3NvdXRoLWFycm93LXdlYXRoZXItc3ltYm9saWMnXG5leHBvcnQgY29uc3QgTE9BRElOR19JQ09OX05BTUUgPSAndmlldy1yZWZyZXNoLXN5bWJvbGljJyIsImltcG9ydCB7IFJBRElPX1NZTUJPTElDX0lDT05fTkFNRSwgTE9BRElOR19JQ09OX05BTUUgfSBmcm9tIFwiLi4vLi4vY29uc3RzXCJcbmltcG9ydCB7IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIEljb25UeXBlIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCJcblxuY29uc3QgeyBJY29uLCBJY29uVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBJY29uVHlwZTogSWNvblR5cGVFbnVtIH0gPSBpbXBvcnRzLmdpLlN0XG5cblxuLy8gVE9ETyB0aGUgQXBwbGV0SWNvbiBzaG91bGRuJ3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyFcbi8vIEJldHRlciB0byBqdXN0IHBhc3MgdGhlIGljb25UeXBlIHNpemUgZm9yIGJvdGggZnVsbGNvbG9yIGFuZCBzeW1ib2xpYyBpY29uXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICAvLyBwYW5lbCBhbmQgbG9jYXRpb24gbGFiZWwgYXJlIG5lZWRlZCB0byBjYWxjIHRoZSBpY29uIHNpemVcbiAgICBwYW5lbDogaW1wb3J0cy51aS5wYW5lbC5QYW5lbCxcbiAgICBsb2NhdGlvbkxhYmVsOiBpbXBvcnRzLnVpLmFwcGxldE1hbmFnZXIuTG9jYXRpb25MYWJlbFxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcHBsZXRJY29uKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBwYW5lbCxcbiAgICAgICAgbG9jYXRpb25MYWJlbFxuICAgIH0gPSBhcmdzXG5cbiAgICBsZXQgcGxheWJhY2tTdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXNcblxuICAgIGNvbnN0IHBsYXliYWNrU3RhdHVzU3R5bGVNYXAgPSBuZXcgTWFwPEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIHN0cmluZz4oW1xuICAgICAgICBbJ1N0b3BwZWQnLCAnICddLFxuICAgICAgICBbJ0xvYWRpbmcnLCAnICddXG4gICAgXSlcblxuICAgIGNvbnN0IGljb24gPSBuZXcgSWNvbih7fSlcblxuICAgIGxldCBub3JtYWxJY29uVHlwZTogSWNvblR5cGVcblxuXG4gICAgLy8gdGhlIGljb24gdHlwZSBwYXNzZWQgZnJvbSBvdXRzaWRlIGlzIG92ZXJyaXRlbiB3aGVuIHRoZSBwbGF5YmFja3N0YXR1cyBpcyAnbG9hZGluZycgXG4gICAgZnVuY3Rpb24gc2V0SWNvblR5cGVJbnRlcm5hbChpY29uVHlwZUVudW06IGltcG9ydHMuZ2kuU3QuSWNvblR5cGUsIGljb25OYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWNvbi5zdHlsZV9jbGFzcyA9IGljb25UeXBlRW51bSA9PT0gSWNvblR5cGVFbnVtLlNZTUJPTElDID9cbiAgICAgICAgICAgICdzeXN0ZW0tc3RhdHVzLWljb24nIDogJ2FwcGxldC1pY29uJ1xuXG4gICAgICAgIGljb24uaWNvbl9uYW1lID0gaWNvbk5hbWVcbiAgICAgICAgaWNvbi5pY29uX3R5cGUgPSBpY29uVHlwZUVudW1cbiAgICAgICAgaWNvbi5pY29uX3NpemUgPSBwYW5lbC5nZXRQYW5lbFpvbmVJY29uU2l6ZShsb2NhdGlvbkxhYmVsLCBpY29uVHlwZUVudW0pXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzZXRJY29uVHlwZShpY29uVHlwZTogSWNvblR5cGUpIHtcblxuICAgICAgICBpZiAoIWljb25UeXBlKSByZXR1cm5cblxuICAgICAgICBsZXQgaWNvblR5cGVFbnVtOiBpbXBvcnRzLmdpLlN0Lkljb25UeXBlXG4gICAgICAgIGxldCBpY29uTmFtZTogc3RyaW5nXG4gICAgICAgIG5vcm1hbEljb25UeXBlID0gaWNvblR5cGVcblxuICAgICAgICBpZiAoaWNvblR5cGUgPT09ICdTWU1CT0xJQycpIHtcbiAgICAgICAgICAgIGljb25OYW1lID0gUkFESU9fU1lNQk9MSUNfSUNPTl9OQU1FXG4gICAgICAgICAgICBpY29uVHlwZUVudW0gPSBJY29uVHlwZUVudW0uU1lNQk9MSUNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGljb25OYW1lID0gYHJhZGlvYXBwbGV0LSR7aWNvblR5cGUudG9Mb3dlckNhc2UoKX1gXG4gICAgICAgICAgICBpY29uVHlwZUVudW0gPSBJY29uVHlwZUVudW0uRlVMTENPTE9SXG4gICAgICAgIH1cblxuICAgICAgICBzZXRJY29uVHlwZUludGVybmFsKGljb25UeXBlRW51bSwgaWNvbk5hbWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlSWNvblNpemUoKSB7XG4gICAgICAgIGNvbnN0IGljb25TaXplID0gcGFuZWwuZ2V0UGFuZWxab25lSWNvblNpemUobG9jYXRpb25MYWJlbCwgaWNvbi5pY29uX3R5cGUpXG4gICAgICAgIGljb24uaWNvbl9zaXplID0gaWNvblNpemVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDb2xvcldoZW5QYXVzZWQoY29sb3I6IHN0cmluZykge1xuICAgICAgICBwbGF5YmFja1N0YXR1c1N0eWxlTWFwLnNldCgnUGF1c2VkJywgYGNvbG9yOiAke2NvbG9yfWApXG5cbiAgICAgICAgaWYgKHBsYXliYWNrU3RhdHVzKSBzZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1cylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDb2xvcldoZW5QbGF5aW5nKGNvbG9yOiBzdHJpbmcpIHtcblxuICAgICAgICBwbGF5YmFja1N0YXR1c1N0eWxlTWFwLnNldCgnUGxheWluZycsIGBjb2xvcjogJHtjb2xvcn1gKVxuXG4gICAgICAgIGlmIChwbGF5YmFja1N0YXR1cykgc2V0UGxheWJhY2tTdGF0dXMocGxheWJhY2tTdGF0dXMpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UGxheWJhY2tTdGF0dXMobmV3UGxheWJhY2tTdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMpIHtcblxuICAgICAgICBwbGF5YmFja1N0YXR1cyA9IG5ld1BsYXliYWNrU3RhdHVzXG4gICAgICAgIGNvbnN0IHN0eWxlID0gcGxheWJhY2tTdGF0dXNTdHlsZU1hcC5nZXQocGxheWJhY2tTdGF0dXMpXG5cblxuICAgICAgICBpZiAobmV3UGxheWJhY2tTdGF0dXMgPT09ICdMb2FkaW5nJykge1xuICAgICAgICAgICAgc2V0SWNvblR5cGVJbnRlcm5hbChJY29uVHlwZUVudW0uU1lNQk9MSUMsIExPQURJTkdfSUNPTl9OQU1FKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0SWNvblR5cGUobm9ybWFsSWNvblR5cGUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0eWxlKSByZXR1cm5cblxuICAgICAgICBpY29uLnNldF9zdHlsZShzdHlsZSlcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogaWNvbixcbiAgICAgICAgc2V0UGxheWJhY2tTdGF0dXMsXG4gICAgICAgIHNldENvbG9yV2hlblBsYXlpbmcsXG4gICAgICAgIHNldENvbG9yV2hlblBhdXNlZCxcbiAgICAgICAgc2V0SWNvblR5cGUsXG4gICAgICAgIHVwZGF0ZUljb25TaXplXG4gICAgfVxuXG59IiwiY29uc3QgeyBBcHBsZXQsIEFsbG93ZWRMYXlvdXQgfSA9IGltcG9ydHMudWkuYXBwbGV0XG5jb25zdCB7IEJpbiB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBFdmVudFR5cGUgfSA9IGltcG9ydHMuZ2kuQ2x1dHRlclxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBpY29uOiBpbXBvcnRzLmdpLlN0Lkljb24sXG4gICAgbGFiZWw6IGltcG9ydHMuZ2kuU3QuTGFiZWwsXG4gICAgb3JpZW50YXRpb246IGltcG9ydHMuZ2kuU3QuU2lkZSxcbiAgICBwYW5lbEhlaWdodDogbnVtYmVyLFxuICAgIGluc3RhbmNlSWQ6IG51bWJlcixcbiAgICBvbkNsaWNrOiAoKSA9PiB2b2lkLFxuICAgIG9uU2Nyb2xsOiAoc2Nyb2xsRGlyZWN0aW9uOiBpbXBvcnRzLmdpLkNsdXR0ZXIuU2Nyb2xsRGlyZWN0aW9uKSA9PiB2b2lkLFxuICAgIG9uTWlkZGxlQ2xpY2s6ICgpID0+IHZvaWQsXG4gICAgb25SaWdodENsaWNrOiAoKSA9PiB2b2lkLFxuICAgIG9uQXBwbGV0TW92ZWQ6ICgpID0+IHZvaWQsXG4gICAgb25BcHBsZXRSZW1vdmVkOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcHBsZXQoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBwYW5lbEhlaWdodCxcbiAgICAgICAgaW5zdGFuY2VJZCxcbiAgICAgICAgaWNvbixcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIG9uQ2xpY2ssXG4gICAgICAgIG9uU2Nyb2xsLFxuICAgICAgICBvbk1pZGRsZUNsaWNrLFxuICAgICAgICBvbkFwcGxldE1vdmVkLFxuICAgICAgICBvbkFwcGxldFJlbW92ZWQsXG4gICAgICAgIG9uUmlnaHRDbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBhcHBsZXQgPSBuZXcgQXBwbGV0KG9yaWVudGF0aW9uLCBwYW5lbEhlaWdodCwgaW5zdGFuY2VJZCk7XG5cbiAgICBsZXQgYXBwbGV0UmVsb2FkZWQgPSBmYWxzZTtcblxuICAgIFtpY29uLCBsYWJlbF0uZm9yRWFjaCh3aWRnZXQgPT4ge1xuICAgICAgICBhcHBsZXQuYWN0b3IuYWRkX2NoaWxkKHdpZGdldClcbiAgICB9KVxuXG4gICAgYXBwbGV0Lm9uX2FwcGxldF9jbGlja2VkID0gb25DbGlja1xuICAgIGFwcGxldC5vbl9hcHBsZXRfbWlkZGxlX2NsaWNrZWQgPSBvbk1pZGRsZUNsaWNrXG4gICAgYXBwbGV0LnNldEFsbG93ZWRMYXlvdXQoQWxsb3dlZExheW91dC5CT1RIKVxuXG4gICAgYXBwbGV0Lm9uX2FwcGxldF9yZWxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBwbGV0UmVsb2FkZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgYXBwbGV0Lm9uX2FwcGxldF9yZW1vdmVkX2Zyb21fcGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwcGxldFJlbG9hZGVkID8gb25BcHBsZXRNb3ZlZCgpIDogb25BcHBsZXRSZW1vdmVkKClcbiAgICAgICAgYXBwbGV0UmVsb2FkZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIGFwcGxldC5hY3Rvci5jb25uZWN0KCdldmVudCcsIChhY3RvciwgZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUoKSAhPT0gRXZlbnRUeXBlLkJVVFRPTl9QUkVTUykgcmV0dXJuXG5cbiAgICAgICAgaWYgKGV2ZW50LmdldF9idXR0b24oKSA9PT0gMykge1xuICAgICAgICAgICAgb25SaWdodENsaWNrKClcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgIGFwcGxldC5hY3Rvci5jb25uZWN0KCdzY3JvbGwtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIG9uU2Nyb2xsKGV2ZW50LmdldF9zY3JvbGxfZGlyZWN0aW9uKCkpXG4gICAgfSlcblxuICAgIHJldHVybiBhcHBsZXRcbn0iLCJpbXBvcnQgeyBQbGF5UGF1c2UsIEFkdmFuY2VkUGxheWJhY2tTdGF0dXMgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IE1QVl9NUFJJU19CVVNfTkFNRSwgTUVESUFfUExBWUVSXzJfUEFUSCwgTVBSSVNfUExVR0lOX1BBVEgsIE1BWF9WT0xVTUUsIE1FRElBX1BMQVlFUl8yX05BTUUsIE1FRElBX1BMQVlFUl8yX1BMQVlFUl9OQU1FLCBNUFZfQ1ZDX05BTUUgfSBmcm9tICcuLi9jb25zdHMnXG5pbXBvcnQgeyBNcHJpc01lZGlhUGxheWVyRGJ1cywgTXByaXNQcm9wc0RidXMsIFBsYXliYWNrU3RhdHVzIH0gZnJvbSAnLi4vTXByaXNUeXBlcyc7XG5jb25zdCB7IGdldERCdXNQcm9wZXJ0aWVzLCBnZXREQnVzLCBnZXREQnVzUHJveHlXaXRoT3duZXIgfSA9IGltcG9ydHMubWlzYy5pbnRlcmZhY2VzXG5jb25zdCB7IHNwYXduQ29tbWFuZExpbmUgfSA9IGltcG9ydHMubWlzYy51dGlsO1xuLy8gc2VlIGh0dHBzOi8vbGF6a2EuZ2l0aHViLmlvL3BnaS1kb2NzL0N2Yy0xLjAvaW5kZXguaHRtbFxuY29uc3QgeyBNaXhlckNvbnRyb2wgfSA9IGltcG9ydHMuZ2kuQ3ZjO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBvblBsYXliYWNrc3RhdHVzQ2hhbmdlZDogKHBsYXliYWNrU3RhdHVzOiBBZHZhbmNlZFBsYXliYWNrU3RhdHVzKSA9PiB2b2lkLFxuICAgIG9uVXJsQ2hhbmdlZDogKHVybDogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uVm9sdW1lQ2hhbmdlZDogKHZvbHVtZTogbnVtYmVyKSA9PiB2b2lkLFxuICAgIG9uVGl0bGVDaGFuZ2VkOiAodGl0bGU6IHN0cmluZykgPT4gdm9pZCxcbiAgICAvKiogbGVuZ3RoIGluIHNlY29uZHMgKi9cbiAgICBvbkxlbmd0aENoYW5nZWQ6IChsZW5ndGg6IG51bWJlcikgPT4gdm9pZCxcbiAgICAvKiogcG9zaXRpb24gaW4gc2Vjb25kcyAqL1xuICAgIG9uUG9zaXRpb25DaGFuZ2VkOiAocG9zaXRpb246IG51bWJlcikgPT4gdm9pZCxcbiAgICBjaGVja1VybFZhbGlkOiAodXJsOiBzdHJpbmcpID0+IGJvb2xlYW4sXG4gICAgLyoqIHRoZSBsYXN0VXJsIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIG1wdiBpcyBpbml0aWFsbHkgKGkuZS4gb24gY2lubmFtb24gcmVzdGFydCkgcnVubmluZyBmb3IgcmFkaW8gcHVycG9zZXMgYW5kIG5vdCBmb3Igc29tZXRoaW5nIGVsc2UuIEl0IGlzIG5vdCBzdWZmaWNpZW50IHRvIGdldCB0aGUgdXJsIGZyb20gYSBkYnVzIGludGVyZmFjZSBhbmQgY2hlY2sgaWYgdGhlIHVybCBpcyB2YWxpZCBiZWNhdXNlIHNvbWUgc3RyZWFtcyAoc3VjaCBhcyAucGxzIHN0cmVhbXMpIGNoYW5nZSB0aGVpciB1cmwgZHluYW1pY2FsbHkuIFRoaXMgYXBwcm9hY2ggaW4gbm90IDEwMCUgZm9vbHByb29mIGJ1dCBwcm9iYWJseSB0aGUgYmVzdCBwb3NzaWJsZSBhcHByb2FjaCAqL1xuICAgIGxhc3RVcmw6IHN0cmluZyxcblxuICAgIC8vIFRPRE8gbWFrZSBhcyBzZXR0ZXJcbiAgICBnZXRJbml0aWFsVm9sdW1lOiB7ICgpOiBudW1iZXIgfVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNcHZIYW5kbGVyKGFyZ3M6IEFyZ3VtZW50cykge1xuICAgIGNvbnN0IHtcbiAgICAgICAgb25QbGF5YmFja3N0YXR1c0NoYW5nZWQsXG4gICAgICAgIG9uVXJsQ2hhbmdlZCxcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkLFxuICAgICAgICBvblRpdGxlQ2hhbmdlZCxcbiAgICAgICAgb25MZW5ndGhDaGFuZ2VkLFxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZCxcbiAgICAgICAgY2hlY2tVcmxWYWxpZCxcbiAgICAgICAgbGFzdFVybCxcbiAgICAgICAgZ2V0SW5pdGlhbFZvbHVtZSxcblxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBkYnVzID0gZ2V0REJ1cygpXG5cbiAgICBjb25zdCBtZWRpYVNlcnZlclBsYXllciA9IGdldERCdXNQcm94eVdpdGhPd25lcihcbiAgICAgICAgTUVESUFfUExBWUVSXzJfUExBWUVSX05BTUUsIE1QVl9NUFJJU19CVVNfTkFNRSkgYXMgTXByaXNNZWRpYVBsYXllckRidXNcblxuICAgIGNvbnN0IG1lZGlhUHJvcHMgPSBnZXREQnVzUHJvcGVydGllcyhcbiAgICAgICAgTVBWX01QUklTX0JVU19OQU1FLCBNRURJQV9QTEFZRVJfMl9QQVRIKSBhcyBNcHJpc1Byb3BzRGJ1c1xuXG4gICAgY29uc3QgY29udHJvbCA9IG5ldyBNaXhlckNvbnRyb2woeyBuYW1lOiBfX21ldGEubmFtZSB9KVxuICAgIGxldCBjdmNTdHJlYW06IGltcG9ydHMuZ2kuQ3ZjLk1peGVyU3RyZWFtXG5cbiAgICBjb250cm9sLm9wZW4oKVxuICAgIGNvbnRyb2wuY29ubmVjdCgnc3RyZWFtLWFkZGVkJywgKGN0cmwsIGlkKSA9PiB7XG5cbiAgICAgICAgY29uc3QgYWRkZWRTdHJlYW0gPSBjb250cm9sLmxvb2t1cF9zdHJlYW1faWQoaWQpXG5cbiAgICAgICAgaWYgKGFkZGVkU3RyZWFtPy5uYW1lICE9PSBNUFZfQ1ZDX05BTUUpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBjdmNTdHJlYW0gPSBhZGRlZFN0cmVhbVxuICAgICAgICBjdmNTdHJlYW0uY29ubmVjdCgnbm90aWZ5Ojp2b2x1bWUnLCAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVDdmNWb2x1bWVDaGFuZ2VkKClcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gV2hlbiBubyBsYXN0IFVybCBpcyBwYXNzZWQgYW5kIG1wdiBpcyBydW5uaW5nLCBpdCBpcyBhc3N1bWVkIHRoYXQgbXB2IGlzIG5vdCB1c2VkIGZvciB0aGUgcmFkaW8gYXBwbGV0IChhbmQgdGhlcmVmb3JlIHRoZSBwbGF5YmFja3N0YXR1cyBpcyBTdG9wcGVkKVxuICAgIGNvbnN0IGluaXRpYWxQbGF5YmFja1N0YXR1cyA9ICFsYXN0VXJsID8gJ1N0b3BwZWQnIDogZ2V0UGxheWJhY2tTdGF0dXMoKVxuXG4gICAgbGV0IGN1cnJlbnRVcmwgPSBpbml0aWFsUGxheWJhY2tTdGF0dXMgIT09IFwiU3RvcHBlZFwiID8gbGFzdFVybCA6IG51bGxcbiAgICBsZXQgY3VycmVudExlbmd0aDogbnVtYmVyID0gZ2V0TGVuZ3RoKCkgLy8gaW4gc2Vjb25kc1xuICAgIGxldCBwb3NpdGlvblRpbWVySWQ6IFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPlxuXG4gICAgbGV0IGJ1ZmZlckV4Y2VlZGVkID0gZmFsc2VcblxuICAgIGxldCBtZWRpYVByb3BzTGlzdGVuZXJJZDogbnVtYmVyXG4gICAgbGV0IHNlZWtMaXN0ZW5lcklkOiBudW1iZXJcblxuICAgIGlmIChpbml0aWFsUGxheWJhY2tTdGF0dXMgIT09IFwiU3RvcHBlZFwiKSB7XG4gICAgICAgIGFjdGl2YXRlTXByaXNQcm9wc0xpc3RlbmVyKCk7XG4gICAgICAgIGFjdGl2ZVNlZWtMaXN0ZW5lcigpXG5cbiAgICAgICAgb25VcmxDaGFuZ2VkKGN1cnJlbnRVcmwpXG4gICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKGluaXRpYWxQbGF5YmFja1N0YXR1cylcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkKGdldFZvbHVtZSgpKVxuICAgICAgICBvblRpdGxlQ2hhbmdlZChnZXRDdXJyZW50VGl0bGUoKSlcbiAgICAgICAgb25MZW5ndGhDaGFuZ2VkKGN1cnJlbnRMZW5ndGgpXG4gICAgICAgIG9uUG9zaXRpb25DaGFuZ2VkKGdldFBvc2l0aW9uKCkpXG5cbiAgICAgICAgc3RhcnRQb3NpdGlvblRpbWVyKClcbiAgICB9XG5cbiAgICBjb25zdCBuYW1lT3duZXJTaWduYWxJZCA9IGRidXMuY29ubmVjdFNpZ25hbCgnTmFtZU93bmVyQ2hhbmdlZCcsICguLi5hcmdzKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IGFyZ3NbMl1bMF1cbiAgICAgICAgY29uc3Qgb2xkT3duZXIgPSBhcmdzWzJdWzFdXG4gICAgICAgIGNvbnN0IG5ld093bmVyID0gYXJnc1syXVsyXVxuXG4gICAgICAgIGlmIChuYW1lICE9PSBNUFZfTVBSSVNfQlVTX05BTUUpIHJldHVyblxuXG4gICAgICAgIGlmIChuZXdPd25lcikge1xuICAgICAgICAgICAgYWN0aXZhdGVNcHJpc1Byb3BzTGlzdGVuZXIoKVxuICAgICAgICAgICAgYWN0aXZlU2Vla0xpc3RlbmVyKClcbiAgICAgICAgICAgIHBhdXNlQWxsT3RoZXJNZWRpYVBsYXllcnMoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9sZE93bmVyKSB7XG4gICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gMFxuICAgICAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICAgICAgbWVkaWFQcm9wcy5kaXNjb25uZWN0U2lnbmFsKG1lZGlhUHJvcHNMaXN0ZW5lcklkKVxuICAgICAgICAgICAgbWVkaWFTZXJ2ZXJQbGF5ZXIuZGlzY29ubmVjdFNpZ25hbChzZWVrTGlzdGVuZXJJZClcbiAgICAgICAgICAgIG1lZGlhUHJvcHNMaXN0ZW5lcklkID0gc2Vla0xpc3RlbmVySWQgPSBjdXJyZW50VXJsID0gbnVsbFxuICAgICAgICAgICAgb25QbGF5YmFja3N0YXR1c0NoYW5nZWQoJ1N0b3BwZWQnKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGRlYWN0aXZhdGVBbGxMaXN0ZW5lcigpIHtcbiAgICAgICAgZGJ1cy5kaXNjb25uZWN0U2lnbmFsKG5hbWVPd25lclNpZ25hbElkKVxuICAgICAgICBpZiAobWVkaWFQcm9wc0xpc3RlbmVySWQpIG1lZGlhUHJvcHM/LmRpc2Nvbm5lY3RTaWduYWwobWVkaWFQcm9wc0xpc3RlbmVySWQpXG4gICAgICAgIGlmIChzZWVrTGlzdGVuZXJJZCkgbWVkaWFTZXJ2ZXJQbGF5ZXI/LmRpc2Nvbm5lY3RTaWduYWwoc2Vla0xpc3RlbmVySWQpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVNcHJpc1Byb3BzTGlzdGVuZXIoKSB7XG4gICAgICAgIG1lZGlhUHJvcHNMaXN0ZW5lcklkID0gbWVkaWFQcm9wcy5jb25uZWN0U2lnbmFsKCdQcm9wZXJ0aWVzQ2hhbmdlZCcsXG4gICAgICAgICAgICAocHJveHksIG5hbWVPd25lciwgW2ludGVyZmFjZU5hbWUsIHByb3BzXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gdGhlb3JldGljYWxseSBpdCBjb3VsZCBiZSB1c2VkIHJlY3Vyc2l2ZVVucGFjayBidXQgdGhpcyBkb2Vzbid0IHdvcmsgb24gY2lubmFtb24gMjAgeWV0IChidXQgb24gMjAuMSlcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHByb3BzLk1ldGFkYXRhPy5kZWVwX3VucGFjaygpXG4gICAgICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gcHJvcHMuVm9sdW1lPy51bnBhY2soKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWJhY2tTdGF0dXMgPSBwcm9wcy5QbGF5YmFja1N0YXR1cz8udW5wYWNrKCkgYXMgUGxheVBhdXNlXG5cbiAgICAgICAgICAgICAgICAvL2dsb2JhbC5sb2coYG1ldGFkYXRhOiAke0pTT04uc3RyaW5naWZ5KHByb3BzLk1ldGFkYXRhPy5yZWN1cnNpdmVVbnBhY2soKSl9LCBwbGF5YmFja1N0YXR1czogJHtwbGF5YmFja1N0YXR1c30sIHZvbHVtZTogJHt2b2x1bWV9YClcblxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG1ldGFkYXRhPy5bJ3hlc2FtOnVybCddPy51bnBhY2soKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gbWV0YWRhdGE/LlsneGVzYW06dGl0bGUnXT8udW5wYWNrKClcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IG1ldGFkYXRhPy5bXCJtcHJpczpsZW5ndGhcIl0/LnVucGFjaygpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVcmxWYWxpZCA9IGNoZWNrVXJsVmFsaWQodXJsKVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50RXZlbnQgPSBuZXdVcmxWYWxpZCB8fCBjdXJyZW50VXJsXG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlbGV2YW50RXZlbnQpIHJldHVybiAvLyBoYXBwZW5zIHdoZW4gbXB2IGlzIHJ1bm5pbmcgd2l0aCBhIGZpbGUvc3RyZWFtIG5vdCBtYW5hZ2VkIGJ5IHRoZSBhcHBsZXRcblxuXG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCAhPSBudWxsKSBoYW5kbGVMZW5ndGhDaGFuZ2VkKGxlbmd0aClcblxuICAgICAgICAgICAgICAgIGlmICh2b2x1bWUgIT0gbnVsbCkgaGFuZGxlTXByaXNWb2x1bWVDaGFuZ2VkKHZvbHVtZSlcblxuICAgICAgICAgICAgICAgIHBsYXliYWNrU3RhdHVzICYmIGhhbmRsZU1wcmlzUGxheWJhY2tTdGF0dXNDaGFuZ2VkKHBsYXliYWNrU3RhdHVzKVxuICAgICAgICAgICAgICAgIHVybCAmJiBuZXdVcmxWYWxpZCAmJiB1cmwgIT09IGN1cnJlbnRVcmwgJiYgaGFuZGxlVXJsQ2hhbmdlZCh1cmwpXG4gICAgICAgICAgICAgICAgdGl0bGUgJiYgaGFuZGxlVGl0bGVTZXQodGl0bGUpXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFjdGl2ZVNlZWtMaXN0ZW5lcigpIHtcbiAgICAgICAgc2Vla0xpc3RlbmVySWQgPSBtZWRpYVNlcnZlclBsYXllci5jb25uZWN0U2lnbmFsKCdTZWVrZWQnLCAoaWQsIHNlbmRlciwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChtaWNyb1NlY29uZHNUb1JvdW5kZWRTZWNvbmRzKHZhbHVlKSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIGxlbmd0aCBpbiBtaWNyb3NlY29uZHMgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVMZW5ndGhDaGFuZ2VkKGxlbmd0aDogbnVtYmVyKSB7XG5cbiAgICAgICAgY29uc3QgbGVuZ3RoSW5TZWNvbmRzID0gbWljcm9TZWNvbmRzVG9Sb3VuZGVkU2Vjb25kcyhsZW5ndGgpO1xuXG4gICAgICAgIG9uTGVuZ3RoQ2hhbmdlZChsZW5ndGhJblNlY29uZHMpO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0TG9hZGluZyA9IChsZW5ndGggPT09IDApO1xuICAgICAgICBjb25zdCBmaW5pc2hlZExvYWRpbmcgPSBsZW5ndGggIT09IDAgJiYgY3VycmVudExlbmd0aCA9PT0gMDtcblxuICAgICAgICBjdXJyZW50TGVuZ3RoID0gbGVuZ3RoSW5TZWNvbmRzO1xuXG4gICAgICAgIGlmIChzdGFydExvYWRpbmcpIHtcbiAgICAgICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKCdMb2FkaW5nJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaW5pc2hlZExvYWRpbmcgfHwgYnVmZmVyRXhjZWVkZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZmluaXNoZWRMb2FkaW5nID8gMCA6IGdldFBvc2l0aW9uKClcbiAgICAgICAgICAgIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbilcbiAgICAgICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKGdldFBsYXliYWNrU3RhdHVzKCkpXG4gICAgICAgICAgICBidWZmZXJFeGNlZWRlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogIEBwYXJhbSBwb3NpdGlvbiBpbiBzZWNvbmRzISAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbjogbnVtYmVyKSB7XG5cbiAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbilcbiAgICAgICAgc3RhcnRQb3NpdGlvblRpbWVyKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydFBvc2l0aW9uVGltZXIoKSB7XG5cbiAgICAgICAgaWYgKGdldFBsYXliYWNrU3RhdHVzKCkgIT09ICdQbGF5aW5nJykgcmV0dXJuXG5cbiAgICAgICAgcG9zaXRpb25UaW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IE1hdGgubWluKGdldFBvc2l0aW9uKCksIGN1cnJlbnRMZW5ndGgpXG5cbiAgICAgICAgICAgIG9uUG9zaXRpb25DaGFuZ2VkKHBvc2l0aW9uKVxuXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IGN1cnJlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvblBsYXliYWNrc3RhdHVzQ2hhbmdlZCgnTG9hZGluZycpXG4gICAgICAgICAgICAgICAgYnVmZmVyRXhjZWVkZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3BQb3NpdGlvblRpbWVyKCkge1xuXG4gICAgICAgIGlmICghcG9zaXRpb25UaW1lcklkKSByZXR1cm5cblxuICAgICAgICBjbGVhckludGVydmFsKHBvc2l0aW9uVGltZXJJZClcbiAgICAgICAgcG9zaXRpb25UaW1lcklkID0gbnVsbFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZU1wcmlzUGxheWJhY2tTdGF0dXNDaGFuZ2VkKHBsYXliYWNrU3RhdHVzOiBQbGF5UGF1c2UpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIG9uUGxheWJhY2tzdGF0dXNDaGFuZ2VkKHBsYXliYWNrU3RhdHVzKVxuXG4gICAgICAgICAgICBwbGF5YmFja1N0YXR1cyA9PT0gJ1BhdXNlZCcgPyBzdG9wUG9zaXRpb25UaW1lcigpXG4gICAgICAgICAgICAgICAgOiBoYW5kbGVQb3NpdGlvbkNoYW5nZWQoZ2V0UG9zaXRpb24oKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVVybENoYW5nZWQobmV3VXJsOiBzdHJpbmcpIHtcbiAgICAgICAgY3VycmVudFVybCA9IG5ld1VybFxuICAgICAgICBoYW5kbGVMZW5ndGhDaGFuZ2VkKDApXG5cbiAgICAgICAgaWYgKHBvc2l0aW9uVGltZXJJZCkgc3RvcFBvc2l0aW9uVGltZXIoKVxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZCgwKVxuXG4gICAgICAgIG9uVXJsQ2hhbmdlZChuZXdVcmwpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlTXByaXNWb2x1bWVDaGFuZ2VkKG1wcmlzVm9sdW1lOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAobXByaXNWb2x1bWUgKiAxMDAgPiBNQVhfVk9MVU1FKSB7XG4gICAgICAgICAgICBtZWRpYVNlcnZlclBsYXllci5Wb2x1bWUgPSBNQVhfVk9MVU1FIC8gMTAwXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWb2x1bWUgPSBNYXRoLnJvdW5kKG1wcmlzVm9sdW1lICogMTAwKVxuICAgICAgICBzZXRDdmNWb2x1bWUobm9ybWFsaXplZFZvbHVtZSlcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkKG5vcm1hbGl6ZWRWb2x1bWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ3ZjVm9sdW1lQ2hhbmdlZCgpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFZvbHVtZSA9IE1hdGgucm91bmQoY3ZjU3RyZWFtLnZvbHVtZSAvIGNvbnRyb2wuZ2V0X3ZvbF9tYXhfbm9ybSgpICogMTAwKVxuICAgICAgICBzZXRNcHJpc1ZvbHVtZShub3JtYWxpemVkVm9sdW1lKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVRpdGxlU2V0KHRpdGxlOiBzdHJpbmcpIHtcbiAgICAgICAgb25UaXRsZUNoYW5nZWQodGl0bGUpXG4gICAgfVxuXG4gICAgLyoqIEByZXR1cm5zIGxlbmd0aCBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gZ2V0TGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGxlbmd0aE1pY3JvU2Vjb25kcyA9IG1lZGlhU2VydmVyUGxheWVyLk1ldGFkYXRhPy5bXCJtcHJpczpsZW5ndGhcIl0/LnVucGFjaygpIHx8IDBcbiAgICAgICAgcmV0dXJuIG1pY3JvU2Vjb25kc1RvUm91bmRlZFNlY29uZHMobGVuZ3RoTWljcm9TZWNvbmRzKVxuICAgIH1cblxuICAgIC8qKiBAcmV0dXJucyBwb3NpdGlvbiBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24oKTogbnVtYmVyIHtcblxuICAgICAgICBpZiAoZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gJ1N0b3BwZWQnKSByZXR1cm4gMFxuXG4gICAgICAgIC8vIGZvciBzb21lIHJlYXNvbiwgdGhpcyBvbmx5IHJldHVybiB0aGUgcmlnaHQgdmFsdWUgdGhlIGZpcnN0IHRpbWUgaXQgaXMgY2FsbGVkLiBXaGVuIGNhbGxpbmcgdGhpcyBtdWx0aXBsZSB0aW1lcywgaXQgcmV0dXJucyBhbHdheXMgdGhlIHNhbWUgdmFsdWUgd2hpY2ggaG93ZXZlciBpcyB3cm9uZyB3aGVuIHJhZGlvIGlzIHBsYXlpbmdcbiAgICAgICAgLy8gY29uc3QgcG9zaXRpb25NaWNyb1NlY29uZHMgPSBtZWRpYVNlcnZlclBsYXllci5Qb3NpdGlvblxuICAgICAgICBjb25zdCBwb3NpdGlvbk1pY3JvU2Vjb25kcyA9IG1lZGlhUHJvcHMuR2V0U3luYygnb3JnLm1wcmlzLk1lZGlhUGxheWVyMi5QbGF5ZXInLCAnUG9zaXRpb24nKVswXS5kZWVwX3VucGFjaygpXG5cbiAgICAgICAgcmV0dXJuIG1pY3JvU2Vjb25kc1RvUm91bmRlZFNlY29uZHMocG9zaXRpb25NaWNyb1NlY29uZHMpXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzZXRVcmwodXJsOiBzdHJpbmcpIHtcblxuICAgICAgICBpZiAoZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gJ1N0b3BwZWQnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxWb2x1bWUgPSBnZXRJbml0aWFsVm9sdW1lKClcblxuICAgICAgICAgICAgaWYgKGluaXRpYWxWb2x1bWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW5pdGlhbCBWb2x1bWUgbXVzdCBub3QgYmUgdW5kZWZpbmVkIG9yIG51bGwnKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYG1wdiAtLXNjcmlwdD0ke01QUklTX1BMVUdJTl9QQVRIfSAke3VybH0gXG4gICAgICAgICAgICAgICAgLS12b2x1bWU9JHtpbml0aWFsVm9sdW1lfWBcbiAgICAgICAgICAgIHNwYXduQ29tbWFuZExpbmUoY29tbWFuZClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgbWVkaWFTZXJ2ZXJQbGF5ZXIuT3BlblVyaVJlbW90ZSh1cmwpXG4gICAgICAgIG1lZGlhU2VydmVyUGxheWVyLlBsYXlTeW5jKClcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluY3JlYXNlRGVjcmVhc2VWb2x1bWUodm9sdW1lQ2hhbmdlOiBudW1iZXIpIHtcblxuICAgICAgICAvLyBuZXdWb2x1bWUgaXMgdGhlIGN1cnJlbnQgVm9sdW1lIHBsdXMob3IgbWludXMpIHZvbHVtZUNoYW5nZSBcbiAgICAgICAgLy8gYnV0IGF0IGxlYXN0IDAgYW5kIG1heGltdW0gTWF4X1ZvbHVtZVxuICAgICAgICBjb25zdCBuZXdWb2x1bWUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIE1BWF9WT0xVTUUsXG4gICAgICAgICAgICBNYXRoLm1heCgwLCBnZXRWb2x1bWUoKSArIHZvbHVtZUNoYW5nZSlcbiAgICAgICAgKVxuXG4gICAgICAgIHNldE1wcmlzVm9sdW1lKG5ld1ZvbHVtZSlcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIG5ld1ZvbHVtZSB2b2x1bWUgaW4gcGVyY2VudCAqL1xuICAgIGZ1bmN0aW9uIHNldE1wcmlzVm9sdW1lKG5ld1ZvbHVtZTogbnVtYmVyKSB7XG5cbiAgICAgICAgaWYgKGdldFZvbHVtZSgpID09PSBuZXdWb2x1bWUgfHwgZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gJ1N0b3BwZWQnKSByZXR1cm5cblxuICAgICAgICBtZWRpYVNlcnZlclBsYXllci5Wb2x1bWUgPSBuZXdWb2x1bWUgLyAxMDBcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIG5ld1ZvbHVtZSB2b2x1bWUgaW4gcGVyY2VudCAqL1xuICAgIGZ1bmN0aW9uIHNldEN2Y1ZvbHVtZShuZXdWb2x1bWU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBuZXdTdHJlYW1Wb2x1bWUgPSBuZXdWb2x1bWUgLyAxMDAgKiBjb250cm9sLmdldF92b2xfbWF4X25vcm0oKVxuXG4gICAgICAgIGlmICghY3ZjU3RyZWFtKSByZXR1cm5cblxuICAgICAgICBpZiAoY3ZjU3RyZWFtLnZvbHVtZSA9PT0gbmV3U3RyZWFtVm9sdW1lKSByZXR1cm5cblxuICAgICAgICBjdmNTdHJlYW0uaXNfbXV0ZWQgJiYgY3ZjU3RyZWFtLmNoYW5nZV9pc19tdXRlZChmYWxzZSlcbiAgICAgICAgY3ZjU3RyZWFtLnZvbHVtZSA9IG5ld1N0cmVhbVZvbHVtZVxuICAgICAgICBjdmNTdHJlYW0ucHVzaF92b2x1bWUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVBsYXlQYXVzZSgpIHtcbiAgICAgICAgaWYgKGdldFBsYXliYWNrU3RhdHVzKCkgPT09IFwiU3RvcHBlZFwiKSByZXR1cm5cblxuICAgICAgICBtZWRpYVNlcnZlclBsYXllci5QbGF5UGF1c2VTeW5jKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoZ2V0UGxheWJhY2tTdGF0dXMoKSA9PT0gXCJTdG9wcGVkXCIpIHJldHVyblxuXG4gICAgICAgIG1lZGlhU2VydmVyUGxheWVyLlN0b3BTeW5jKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50VGl0bGUoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGdldFBsYXliYWNrU3RhdHVzKCkgPT09IFwiU3RvcHBlZFwiKSByZXR1cm5cblxuICAgICAgICByZXR1cm4gbWVkaWFTZXJ2ZXJQbGF5ZXIuTWV0YWRhdGFbXCJ4ZXNhbTp0aXRsZVwiXS51bnBhY2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBhdXNlcyBhbGwgTWVkaWFQbGF5ZXJzIHdpdGggTVBSSVMgU3VwcG9ydCBleGNlcHQgbXB2XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGF1c2VBbGxPdGhlck1lZGlhUGxheWVycygpIHtcblxuICAgICAgICBkYnVzLkxpc3ROYW1lc1N5bmMoKVswXS5mb3JFYWNoKGJ1c05hbWUgPT4ge1xuXG4gICAgICAgICAgICBpZiAoIWJ1c05hbWUuaW5jbHVkZXMoTUVESUFfUExBWUVSXzJfTkFNRSkgfHwgYnVzTmFtZSA9PT0gTVBWX01QUklTX0JVU19OQU1FKVxuICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCBub25NcHZNZWRpYVNlcnZlclBsYXllciA9IGdldERCdXNQcm94eVdpdGhPd25lcihNRURJQV9QTEFZRVJfMl9QTEFZRVJfTkFNRSwgYnVzTmFtZSkgYXMgTXByaXNNZWRpYVBsYXllckRidXNcblxuICAgICAgICAgICAgbm9uTXB2TWVkaWFTZXJ2ZXJQbGF5ZXIuUGF1c2VTeW5jKClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQbGF5YmFja1N0YXR1cygpOiBQbGF5YmFja1N0YXR1cyB7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3aGVuIGEgdXNlciBzdG9wcyBtcHYgYW5kIGFmdGVyd2FyZHMgc3RhcnQgdmxjIChvciBtYXliZSBhbHNvIGFuIG90aGVyIG1lZGlhIHBsYXllciksIG1lZGlhU2VydmVyUGxheWVyLlBsYXliYWNrU3RhdHVzIHdyb25nbHkgcmV0dXJucyBcIlBsYXlpbmdcIiAgXG4gICAgICAgIGNvbnN0IG1wdlJ1bm5pbmcgPSBkYnVzLkxpc3ROYW1lc1N5bmMoKVswXS5pbmNsdWRlcyhNUFZfTVBSSVNfQlVTX05BTUUpXG5cbiAgICAgICAgcmV0dXJuIG1wdlJ1bm5pbmcgPyBtZWRpYVNlcnZlclBsYXllci5QbGF5YmFja1N0YXR1cyA6ICdTdG9wcGVkJ1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZ2V0Vm9sdW1lKCk6IG51bWJlciB8IG51bGwge1xuXG4gICAgICAgIGlmIChnZXRQbGF5YmFja1N0YXR1cygpID09PSAnU3RvcHBlZCcpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG1lZGlhU2VydmVyUGxheWVyLlZvbHVtZSAqIDEwMClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtaWNyb1NlY29uZHNUb1JvdW5kZWRTZWNvbmRzKG1pY3JvU2Vjb25kczogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBtaWNyb1NlY29uZHMgLyAxXzAwMF8wMDBcbiAgICAgICAgY29uc3Qgc2Vjb25kc1JvdW5kZWQgPSBNYXRoLnJvdW5kKHNlY29uZHMpXG4gICAgICAgIHJldHVybiBzZWNvbmRzUm91bmRlZFxuICAgIH1cblxuXG4gICAgLyoqIEBwYXJhbSBuZXdQb3NpdGlvbiBpbiBzZWNvbmRzICovXG4gICAgZnVuY3Rpb24gc2V0UG9zaXRpb24obmV3UG9zaXRpb246IG51bWJlcikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbmluTWljcm9TZWNvbmRzID0gTWF0aC5taW4obmV3UG9zaXRpb24gKiAxXzAwMF8wMDAsIGN1cnJlbnRMZW5ndGggKiAxXzAwMF8wMDApXG4gICAgICAgIGNvbnN0IHRyYWNrSWQgPSBtZWRpYVNlcnZlclBsYXllci5NZXRhZGF0YVsnbXByaXM6dHJhY2tpZCddLnVucGFjaygpXG4gICAgICAgIG1lZGlhU2VydmVyUGxheWVyPy5TZXRQb3NpdGlvblJlbW90ZSh0cmFja0lkLCBwb3NpdGlvbmluTWljcm9TZWNvbmRzKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGluY3JlYXNlRGVjcmVhc2VWb2x1bWUsXG4gICAgICAgIHNldFZvbHVtZTogc2V0TXByaXNWb2x1bWUsXG4gICAgICAgIHNldFVybCxcbiAgICAgICAgdG9nZ2xlUGxheVBhdXNlLFxuICAgICAgICBzdG9wLFxuICAgICAgICBnZXRDdXJyZW50VGl0bGUsXG4gICAgICAgIHNldFBvc2l0aW9uLFxuICAgICAgICBkZWFjdGl2YXRlQWxsTGlzdGVuZXIsXG4gICAgICAgIC8vIGl0IGlzIHZlcnkgY29uZnVzaW5nIGJ1dCBkYnVzIG11c3QgYmUgcmV0dXJuZWQhXG4gICAgICAgIC8vIE90aGVyd2lsc2UgYWxsIGxpc3RlbmVycyBzdG9wIHdvcmtpbmcgYWZ0ZXIgYWJvdXQgMjAgc2Vjb25kcyB3aGljaCBpcyBmdWNraW5nIGRpZmZpY3VsdCB0byBkZWJ1Z1xuICAgICAgICBkYnVzXG4gICAgfVxufSIsImltcG9ydCB7IENoYW5uZWwsIEljb25UeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuY29uc3QgeyBBcHBsZXRTZXR0aW5ncyB9ID0gaW1wb3J0cy51aS5zZXR0aW5ncztcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgdXVpZDogc3RyaW5nLFxuICAgIGluc3RhbmNlSWQ6IG51bWJlcixcbiAgICBvbkljb25DaGFuZ2VkOiAoaWNvblR5cGU6IEljb25UeXBlKSA9PiB2b2lkLFxuICAgIG9uSWNvbkNvbG9yUGxheWluZ0NoYW5nZWQ6IChjb2xvcjogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uSWNvbkNvbG9yUGF1c2VkQ2hhbmdlZDogKGNvbG9yOiBzdHJpbmcpID0+IHZvaWQsXG4gICAgb25DaGFubmVsT25QYW5lbENoYW5nZWQ6IChjaGFubmVsT25QYW5lbDogYm9vbGVhbikgPT4gdm9pZCxcbiAgICBvbk15U3RhdGlvbnNDaGFuZ2VkOiAoc3RhdGlvbnM6IENoYW5uZWxbXSkgPT4gdm9pZCxcbn1cblxuaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgICBpY29uVHlwZTogSWNvblR5cGUsXG4gICAgc3ltYm9saWNJY29uQ29sb3JXaGVuUGxheWluZzogc3RyaW5nLFxuICAgIHN5bWJvbGljSWNvbkNvbG9yV2hlblBhdXNlZDogc3RyaW5nLFxuICAgIGNoYW5uZWxOYW1lT25QYW5lbDogYm9vbGVhbixcbiAgICBjdXN0b21Jbml0Vm9sdW1lOiBudW1iZXIsXG4gICAga2VlcFZvbHVtZTogYm9vbGVhbixcbiAgICBsYXN0Vm9sdW1lOiBudW1iZXIsXG4gICAgaW5pdGlhbFZvbHVtZTogbnVtYmVyLFxuICAgIHVzZXJTdGF0aW9uczogQ2hhbm5lbFtdXG4gICAgbGFzdFVybDogc3RyaW5nLFxuICAgIG11c2ljRG93bmxvYWREaXI6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29uZmlnID0gKGFyZ3M6IEFyZ3VtZW50cykgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgICB1dWlkLFxuICAgICAgICBpbnN0YW5jZUlkLFxuICAgICAgICBvbkljb25DaGFuZ2VkLFxuICAgICAgICBvbkljb25Db2xvclBsYXlpbmdDaGFuZ2VkLFxuICAgICAgICBvbkljb25Db2xvclBhdXNlZENoYW5nZWQsXG4gICAgICAgIG9uQ2hhbm5lbE9uUGFuZWxDaGFuZ2VkLFxuICAgICAgICBvbk15U3RhdGlvbnNDaGFuZ2VkLFxuICAgIH0gPSBhcmdzXG5cbiAgICAvLyBhbGwgc2V0dGluZ3MgYXJlIHNhdmVkIHRvIHRoaXMgb2JqZWN0XG4gICAgY29uc3Qgc2V0dGluZ3NPYmplY3QgPSB7XG4gICAgICAgIGdldCBpbml0aWFsVm9sdW1lKCkgeyByZXR1cm4gZ2V0SW5pdGlhbFZvbHVtZSgpIH1cbiAgICB9IGFzIFNldHRpbmdzXG5cbiAgICBjb25zdCBhcHBsZXRTZXR0aW5ncyA9IG5ldyBBcHBsZXRTZXR0aW5ncyhzZXR0aW5nc09iamVjdCwgdXVpZCwgaW5zdGFuY2VJZClcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2ljb24tdHlwZScsICdpY29uVHlwZScsXG4gICAgICAgIChpY29uVHlwZTogSWNvblR5cGUpID0+IG9uSWNvbkNoYW5nZWQoaWNvblR5cGUpKVxuXG4gICAgYXBwbGV0U2V0dGluZ3MuYmluZCgnY29sb3Itb24nLCAnc3ltYm9saWNJY29uQ29sb3JXaGVuUGxheWluZycsXG4gICAgICAgIChuZXdDb2xvcjogc3RyaW5nKSA9PiBvbkljb25Db2xvclBsYXlpbmdDaGFuZ2VkKG5ld0NvbG9yKSlcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2NvbG9yLXBhdXNlZCcsICdzeW1ib2xpY0ljb25Db2xvcldoZW5QYXVzZWQnLFxuICAgICAgICAobmV3Q29sb3I6IHN0cmluZykgPT4gb25JY29uQ29sb3JQYXVzZWRDaGFuZ2VkKG5ld0NvbG9yKSlcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2NoYW5uZWwtb24tcGFuZWwnLCAnY2hhbm5lbE5hbWVPblBhbmVsJyxcbiAgICAgICAgKGNoYW5uZWxPblBhbmVsOiBib29sZWFuKSA9PiBvbkNoYW5uZWxPblBhbmVsQ2hhbmdlZChjaGFubmVsT25QYW5lbCkpXG5cbiAgICBhcHBsZXRTZXR0aW5ncy5iaW5kKCdrZWVwLXZvbHVtZS1iZXR3ZWVuLXNlc3Npb25zJywgXCJrZWVwVm9sdW1lXCIpXG5cbiAgICBhcHBsZXRTZXR0aW5ncy5iaW5kKCdpbml0aWFsLXZvbHVtZScsICdjdXN0b21Jbml0Vm9sdW1lJylcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ2xhc3Qtdm9sdW1lJywgJ2xhc3RWb2x1bWUnKVxuXG4gICAgYXBwbGV0U2V0dGluZ3MuYmluZCgndHJlZScsIFwidXNlclN0YXRpb25zXCIsXG4gICAgICAgIG9uTXlTdGF0aW9uc0NoYW5nZWQpXG5cbiAgICBhcHBsZXRTZXR0aW5ncy5iaW5kKCdsYXN0LXVybCcsICdsYXN0VXJsJylcblxuICAgIGFwcGxldFNldHRpbmdzLmJpbmQoJ211c2ljLWRvd25sb2FkLWRpci1zZWxlY3QnLCAnbXVzaWNEb3dubG9hZERpcicsXG4gICAgICAgICgpID0+IGhhbmRsZU11c2ljRGlyQ2hhbmdlZCgpKVxuXG4gICAgZnVuY3Rpb24gZ2V0SW5pdGlhbFZvbHVtZSgpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAga2VlcFZvbHVtZSxcbiAgICAgICAgICAgIGxhc3RWb2x1bWUsXG4gICAgICAgICAgICBjdXN0b21Jbml0Vm9sdW1lXG4gICAgICAgIH0gPSBzZXR0aW5nc09iamVjdFxuXG4gICAgICAgIGxldCBpbml0aWFsVm9sdW1lID0ga2VlcFZvbHVtZSA/IGxhc3RWb2x1bWUgOiBjdXN0b21Jbml0Vm9sdW1lXG5cbiAgICAgICAgaWYgKGluaXRpYWxWb2x1bWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2xvYmFsLmxvZ1dhcm5pbmcoJ2luaXRpYWwgVm9sdW1lIHdhcyBudWxsIG9yIHVuZGVmaW5lZC4gQXBwbHlpbmcgNTAgYXMgYSBmYWxsYmFjayBzb2x1dGlvbiB0byBwcmV2ZW50IHJhZGlvIHN0b3Agd29ya2luZycpXG4gICAgICAgICAgICBpbml0aWFsVm9sdW1lID0gNTBcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIGluaXRpYWxWb2x1bWVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVNdXNpY0RpckNoYW5nZWQoKSB7XG5cbiAgICAgICAgLy8gQnkgRGVmYXVsdCB0aGUgdmFsdWUgaXMgc2V0IHRvIH4vTXVzaWMvUmFkaW8gYnV0IHdoZW4gY2hhbmdpbmcgdG8gYW5vdGhlciBsb2NhdGlvbiBhbmQgYmFjayBhZ2FpbiB0byB0aGUgZGVmYXVsdCB2YWx1ZSBpbiB0aGUgc2V0dGluZ3MgZGlhbG9nLCB0aGUgbXVzaWMgZGlyIGlzIHNldCB0byBudWxsIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgdmFsdWUgYWdhaW4uIEFzIHdvcmthcm91bmQgdGhlIG11c2ljIGRpciBpcyBzZXQgcHJvZ3JhbW1hdGljYWxseSB0byBkZWZhdWx0IHZhbHVlIGFnYWluIGlmIHZhbHVlIGlzIHNldCB0byBudWxsIChhbmQgdGhlIHNldHRpbmdzIGRpYWxvZyBjYW4ndCBiZSBvcGVuZWQgYW55bW9yZSkuIFxuICAgICAgICBpZiAoc2V0dGluZ3NPYmplY3QubXVzaWNEb3dubG9hZERpciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0dGluZ3NPYmplY3QubXVzaWNEb3dubG9hZERpciA9IFwifi9NdXNpYy9SYWRpb1wiXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG9uSWNvbkNoYW5nZWQoc2V0dGluZ3NPYmplY3QuaWNvblR5cGUpXG4gICAgb25JY29uQ29sb3JQbGF5aW5nQ2hhbmdlZChzZXR0aW5nc09iamVjdC5zeW1ib2xpY0ljb25Db2xvcldoZW5QbGF5aW5nKVxuICAgIG9uSWNvbkNvbG9yUGF1c2VkQ2hhbmdlZChzZXR0aW5nc09iamVjdC5zeW1ib2xpY0ljb25Db2xvcldoZW5QYXVzZWQpXG4gICAgb25DaGFubmVsT25QYW5lbENoYW5nZWQoc2V0dGluZ3NPYmplY3QuY2hhbm5lbE5hbWVPblBhbmVsKVxuXG4gICAgLy8gVE9ETyBhbHNvIG9uTXlTdGF0aW9uQ2hhbmdlZCBzaG91bGQgYmUgY2FsbGVkIChhbmQgcmVtb3ZlZCBhcyBhcmcgZnJvbSAgQ2hhbm5lbFN0b3JlKVxuXG4gICAgcmV0dXJuIHNldHRpbmdzT2JqZWN0XG5cbn0iLCJjb25zdCB7IExhYmVsIH0gPSBpbXBvcnRzLmdpLlN0XG5jb25zdCB7IEVsbGlwc2l6ZU1vZGUgfSA9IGltcG9ydHMuZ2kuUGFuZ29cbmNvbnN0IHsgQWN0b3JBbGlnbiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBcHBsZXRMYWJlbCgpIHtcblxuICAgIGNvbnN0IGxhYmVsID0gbmV3IExhYmVsKHtcbiAgICAgICAgcmVhY3RpdmU6IHRydWUsXG4gICAgICAgIHRyYWNrX2hvdmVyOiB0cnVlLFxuICAgICAgICBzdHlsZV9jbGFzczogJ2FwcGxldC1sYWJlbCcsXG4gICAgICAgIHlfYWxpZ246IEFjdG9yQWxpZ24uQ0VOVEVSLFxuICAgICAgICB5X2V4cGFuZDogZmFsc2UsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSlcblxuICAgIC8vIE5vIGlkZWEgd2h5IG5lZWRlZCBidXQgd2l0aG91dCB0aGUgbGFiZWwgaXMgbm90IHNob3duIFxuICAgIGxhYmVsLmNsdXR0ZXJfdGV4dC5lbGxpcHNpemUgPSBFbGxpcHNpemVNb2RlLk5PTkVcblxuICAgIGxldCB2aXNpYmxlOiBib29sZWFuXG4gICAgbGV0IHRleHQ6IHN0cmluZ1xuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmV3VmFsdWUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbC4gVGhlIHRleHQgaG93ZXZlciBpcyBvbmx5IHZpc2libGUgaW4gdGhlIEdVSSB3aGVuIHZpc2libGUgaXMgdHJ1ZS4gSXQgaXMgYWxzbyBzaG93biBubyB0ZXh0IHdoZW4gcGFzc2luZyBudWxsIGZvciB0ZXh0IGJ1dCBpbiB0aGF0IGNhc2UgdGhlIHRleHQgaXMgc2hvd24gYWdhaW4gd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gYWdhaW4gd2l0aCBhIHN0cmluZyAoaS5lIHRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB3aXRoIG51bGwgd2hlbiB0aGUgdGV4dCBzaGFsbCBvbmx5IHRlbXBvcmFyaWx5IGJlIGhpZGRlbikgICAgXG4gICAgICogXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VGV4dChuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuXG4gICAgICAgIHRleHQgPSBuZXdWYWx1ZVxuXG4gICAgICAgIGlmICghdmlzaWJsZSkgcmV0dXJuXG5cbiAgICAgICAgbGFiZWwuc2hvdygpXG4gICAgICAgIG5ld1ZhbHVlID8gbGFiZWwudGV4dCA9IGAgJHtuZXdWYWx1ZX1gIDogbGFiZWwuaGlkZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmlzaWJpbGl0eShuZXdWYWx1ZTogYm9vbGVhbikge1xuXG4gICAgICAgIHZpc2libGUgPSBuZXdWYWx1ZVxuXG4gICAgICAgIGlmICh0ZXh0KSBsYWJlbC52aXNpYmxlID0gbmV3VmFsdWVcbiAgICAgICAgaWYgKHZpc2libGUgJiYgdGV4dCkgc2V0VGV4dCh0ZXh0KVxuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IGxhYmVsLFxuICAgICAgICBzZXRWaXNpYmlsaXR5LFxuICAgICAgICBzZXRUZXh0LFxuICAgIH1cbn0iLCJpbXBvcnQgeyBERUZBVUxUX1RPT0xUSVBfVFhUIH0gZnJvbSBcIi4uLy4uL2NvbnN0c1wiXG5cbmNvbnN0IHsgUGFuZWxJdGVtVG9vbHRpcCB9ID0gaW1wb3J0cy51aS50b29sdGlwc1xuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBhcHBsZXQ6IGltcG9ydHMudWkuYXBwbGV0LkFwcGxldFxuICAgIG9yaWVudGF0aW9uOiBpbXBvcnRzLmdpLlN0LlNpZGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwcGxldFRvb2x0aXAoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBhcHBsZXRcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgdG9vbHRpcCA9IG5ldyBQYW5lbEl0ZW1Ub29sdGlwKGFwcGxldCwgbnVsbCwgb3JpZW50YXRpb24pXG5cbiAgICBmdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIgfCBudWxsKSB7XG4gICAgICAgIGlmICh2b2x1bWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdG9vbHRpcC5zZXRfdGV4dChERUZBVUxUX1RPT0xUSVBfVFhUKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0b29sdGlwLnNldF90ZXh0KGBWb2x1bWU6ICR7dm9sdW1lLnRvU3RyaW5nKCl9ICVgKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFZvbHVtZVxuICAgIH1cbn0iLCJpbXBvcnQgeyBDaGFubmVsIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGNsYXNzIENoYW5uZWxTdG9yZSB7XG4gICAgcHJpdmF0ZSBfY2hhbm5lbExpc3Q6IENoYW5uZWxbXVxuXG4gICAgY29uc3RydWN0b3IoY2hhbm5lbExpc3Q6IENoYW5uZWxbXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxMaXN0ID0gY2hhbm5lbExpc3RcblxuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY2hhbm5lbExpc3QoY2hhbm5lbExpc3Q6IENoYW5uZWxbXSkge1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ2hhbm5lbExpc3QgPSBjaGFubmVsTGlzdC5maWx0ZXIoY2hhbm5lbCA9PiBjaGFubmVsLmluYylcblxuICAgICAgICB0aGlzLl9jaGFubmVsTGlzdCA9IGZpbHRlcmVkQ2hhbm5lbExpc3QubWFwKGNoYW5uZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uY2hhbm5lbCwgdXJsOiBjaGFubmVsLnVybC50cmltKCkgfVxuICAgICAgICB9KVxuICAgICAgICAvLyBUT0RPOiBhZGQgYmFiZWwgdG8gYWxsb3cgdGhlIHVzYWdlIG9mIGZsYXRNYXAhXG4gICAgICAgIC8vIHJldHVybiB0aGlzLmNoYW5uZWxMaXN0LmZsYXRNYXAoY2hhbm5lbCA9PlxuICAgICAgICAvLyAgICAgY2hhbm5lbC5pbmMgPyBjaGFubmVsLnVybCA6IFtdXG4gICAgICAgIC8vIClcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGFjdGl2YXRlZENoYW5uZWxVcmxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbm5lbExpc3QubWFwKGNoYW5uZWwgPT4gY2hhbm5lbC51cmwpXG5cblxuICAgIH1cblxuXG4gICAgcHVibGljIGdldCBhY3RpdmF0ZWRDaGFubmVsTmFtZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsTGlzdC5tYXAoY2hhbm5lbCA9PiBjaGFubmVsLm5hbWUpXG4gICAgfVxuXG5cblxuICAgIC8vIFRPRE86IHdoYXQgaXMgd2hlbiB0d28gQ2hhbm5lbHMgaGF2ZSB0aGUgc2FtZSBOYW1lIG9yIFVybD8gOk9cbiAgICBwdWJsaWMgZ2V0Q2hhbm5lbE5hbWUoY2hhbm5lbFVybDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLl9jaGFubmVsTGlzdC5maW5kKGNubCA9PiBjbmwudXJsID09PSBjaGFubmVsVXJsKVxuXG4gICAgICAgIHJldHVybiBjaGFubmVsID8gY2hhbm5lbC5uYW1lIDogbnVsbFxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaGFubmVsVXJsKGNoYW5uZWxOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuX2NoYW5uZWxMaXN0LmZpbmQoY25sID0+IGNubC5uYW1lID09PSBjaGFubmVsTmFtZSlcbiAgICAgICAgcmV0dXJuIGNoYW5uZWwgPyBjaGFubmVsLnVybCA6IG51bGxcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tMaXN0Q2hhbmdlZChjaGFubmVsTGlzdDogQ2hhbm5lbFtdKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjaGFubmVsTGlzdCkgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuX2NoYW5uZWxMaXN0KSA/XG4gICAgICAgICAgICBmYWxzZSA6IHRydWVcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tVcmxWYWxpZChjaGFubmVsVXJsOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxMaXN0LnNvbWUoY25sID0+IGNubC51cmwgPT09IGNoYW5uZWxVcmwpXG4gICAgfVxuXG59IiwiY29uc3QgeyBLRVlfc3BhY2UsIEtFWV9LUF9FbnRlciwgS0VZX1JldHVybiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cblxuZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uQWN0aXZhdGVkPzogKCkgPT4gdm9pZFxuICAgIHdpZGdldDogaW1wb3J0cy5naS5TdC5XaWRnZXRcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aXZXaWRnZXQoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHdpZGdldCxcbiAgICAgICAgb25BY3RpdmF0ZWRcbiAgICB9ID0gYXJnc1xuXG4gICAgLy8gVE9ETzogdW5kZXJzdGFuZCBjYW5fZm9jdXNcblxuICAgIHdpZGdldC5jYW5fZm9jdXMgPSB0cnVlXG4gICAgd2lkZ2V0LnJlYWN0aXZlID0gdHJ1ZVxuICAgIHdpZGdldC50cmFja19ob3ZlciA9IHRydWVcblxuICAgIHdpZGdldC5jb25uZWN0KCdidXR0b24tcmVsZWFzZS1ldmVudCcsICgpID0+IG9uQWN0aXZhdGVkPy4oKSlcblxuICAgIC8vIFRPRE86IFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugc29tZSB0aGVtZXMgKGF0IGxlYXN0IEFkYXB0YS1Ob2t0byBidXQgbWF5YmUgYWxzbyBvdGhlcnMpIGRvbid0IHByb3ZpZGUgc3R5bGUgZm9yIHRoZSBob3ZlciBwc2V1ZG8gY2xhc3MuIEJ1dCBpdCB3b3VsZCBiZSBtdWNoIGVhc2llciB0byBvbmNlIChhbmQgb24gdGhlbWUgY2hhbmdlcykgcHJvZ3JhbW1hdGljYWxseSBzZXQgdGhlIGhvdmVyIHBzZXVkbyBjbGFzcyBlcXVhbCB0byB0aGUgYWN0aXZlIHBzZXVkbyBjbGFzcyB3aGVuIHRoZSBob3ZlciBjbGFzcyBpc24ndCBwcm92aWRlZCBieSB0aGUgdGhlbWUuIFxuICAgIHdpZGdldC5jb25uZWN0KCdub3RpZnk6OmhvdmVyJywgKCkgPT4ge1xuICAgICAgICB3aWRnZXQuY2hhbmdlX3N0eWxlX3BzZXVkb19jbGFzcygnYWN0aXZlJywgd2lkZ2V0LmhvdmVyKVxuXG4gICAgICAgIGlmICh3aWRnZXQuaG92ZXIpIHdpZGdldC5ncmFiX2tleV9mb2N1cygpXG4gICAgfSlcblxuICAgIHdpZGdldC5jb25uZWN0KCdrZXktcHJlc3MtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IGV2ZW50LmdldF9rZXlfc3ltYm9sKCk7XG4gICAgICAgIGNvbnN0IHJlbGV2YW50S2V5cyA9IFtLRVlfc3BhY2UsIEtFWV9LUF9FbnRlciwgS0VZX1JldHVybl1cblxuICAgICAgICBpZiAocmVsZXZhbnRLZXlzLmluY2x1ZGVzKHN5bWJvbCkgJiYgd2lkZ2V0LmhvdmVyKVxuICAgICAgICAgICAgb25BY3RpdmF0ZWQ/LigpXG4gICAgfSlcbn0iLCJpbXBvcnQgeyBjcmVhdGVBY3RpdldpZGdldCB9IGZyb20gXCIuL0FjdGl2V2lkZ2V0XCI7XG5cbmNvbnN0IHsgQm94TGF5b3V0LCBMYWJlbCwgSWNvbiwgU2Nyb2xsVmlldyB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBBY3RvckFsaWduLCBQb2ludCB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5jb25zdCB7IFBvbGljeVR5cGUgfSA9IGltcG9ydHMuZ2kuR3RrXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIHRleHQ6IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ViTWVudShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdGV4dFxuICAgIH0gPSBhcmdzXG5cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZVxuICAgIH0pXG5cbiAgICBjb25zdCBsYWJlbCA9IG5ldyBMYWJlbCh7XG4gICAgICAgIHRleHRcbiAgICB9KVxuXG4gICAgY29uc3QgdHJpYW5nbGUgPSBuZXcgSWNvbih7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1hcnJvdycsXG4gICAgICAgIGljb25fbmFtZTogJ3Bhbi1lbmQnLFxuICAgICAgICByb3RhdGlvbl9hbmdsZV96OiA5MCxcbiAgICAgICAgeF9leHBhbmQ6IHRydWUsXG4gICAgICAgIHhfYWxpZ246IEFjdG9yQWxpZ24uRU5ELFxuICAgICAgICBwaXZvdF9wb2ludDogbmV3IFBvaW50KHsgeDogMC41LCB5OiAwLjUgfSksXG4gICAgICAgIGltcG9ydGFudDogdHJ1ZSAvLyB3aXRob3V0IHRoaXMsIGl0IGxvb2tzIHVnbHkgb24gTWludC1YIFRoZW1lc1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9nZ2xlID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pdGVtIHBvcHVwLXN1Ym1lbnUtbWVudS1pdGVtJ1xuICAgIH0pXG5cbiAgICBjcmVhdGVBY3RpdldpZGdldCh7XG4gICAgICAgIHdpZGdldDogdG9nZ2xlLFxuICAgICAgICBvbkFjdGl2YXRlZDogdG9nZ2xlU2Nyb2xsYm94XG4gICAgfSk7XG5cblxuICAgIFtsYWJlbCwgdHJpYW5nbGVdLmZvckVhY2god2lkZ2V0ID0+IHRvZ2dsZS5hZGRfY2hpbGQod2lkZ2V0KSlcbiAgICBjb250YWluZXIuYWRkX2NoaWxkKHRvZ2dsZSlcblxuICAgIGNvbnN0IHNjcm9sbGJveCA9IG5ldyBTY3JvbGxWaWV3KHtcbiAgICAgICAgc3R5bGVfY2xhc3M6ICdwb3B1cC1zdWItbWVudScsXG4gICAgICAgIHZzY3JvbGxiYXJfcG9saWN5OiBQb2xpY3lUeXBlLkFVVE9NQVRJQyxcbiAgICAgICAgaHNjcm9sbGJhcl9wb2xpY3k6IFBvbGljeVR5cGUuTkVWRVJcbiAgICB9KVxuXG4gICAgY29uc3QgYm94ID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNjcm9sbGJveCgpIHtcbiAgICAgICAgc2Nyb2xsYm94LnZpc2libGUgPyBjbG9zZU1lbnUoKSA6IG9wZW5NZW51KClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuTWVudSgpIHtcbiAgICAgICAgc2Nyb2xsYm94LnNob3coKVxuICAgICAgICB0cmlhbmdsZS5yb3RhdGlvbl9hbmdsZV96ID0gOTBcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XG4gICAgICAgIHNjcm9sbGJveC5oaWRlKClcbiAgICAgICAgdHJpYW5nbGUucm90YXRpb25fYW5nbGVfeiA9IDBcbiAgICB9XG5cbiAgICAvLyBhZGRfY2hpbGQgaXMgcmVjb21tZW5kZWQgYnV0IGRvZXNuJ3Qgd29yazogaHR0cHM6Ly9naXRsYWIuZ25vbWUub3JnL0dOT01FL2dub21lLXNoZWxsLy0vaXNzdWVzLzMxNzJcbiAgICBzY3JvbGxib3guYWRkX2FjdG9yKGJveCk7XG5cbiAgICBbdG9nZ2xlLCBzY3JvbGxib3hdLmZvckVhY2god2lkZ2V0ID0+IGNvbnRhaW5lci5hZGRfY2hpbGQod2lkZ2V0KSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8qKiB0aGUgY29udGFpbmVyIHdoaWNoIHNob3VsZCBiZSB1c2VkIHRvIGFkZCBpdCBhcyBjaGlsZCB0byBhIHBhcmVudCBBY3RvciAqL1xuICAgICAgICBhY3RvcjogY29udGFpbmVyLFxuICAgICAgICAvKiogdGhlIGNvbnRhaW5lciB3aGljaCBzaG91bGQgYmUgdXNlZCB0byBhZGQgY2hpbGRyZW4gICovXG4gICAgICAgIGJveCxcbiAgICB9XG59IiwiXG5leHBvcnQgZnVuY3Rpb24gbGltaXRTdHJpbmcodGV4dDogc3RyaW5nLCBtYXhDaGFyTnVtYmVyOiBudW1iZXIpIHtcblxuICAgIGlmICghdGV4dCkgcmV0dXJuXG5cbiAgICBpZiAodGV4dC5sZW5ndGggPD0gbWF4Q2hhck51bWJlcikgcmV0dXJuIHRleHRcblxuICAgIHJldHVybiBbLi4udGV4dF0uc2xpY2UoMCwgbWF4Q2hhck51bWJlciAtIDMpLmpvaW4oJycpICsgJy4uLidcblxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aXZXaWRnZXQgfSBmcm9tIFwiLi9BY3RpdldpZGdldFwiO1xuaW1wb3J0IHsgbGltaXRTdHJpbmcgfSBmcm9tIFwiLi4vZnVuY3Rpb25zL2xpbWl0U3RyaW5nXCJcblxuY29uc3QgeyBJY29uLCBJY29uVHlwZSwgTGFiZWwsIEJveExheW91dCB9ID0gaW1wb3J0cy5naS5TdFxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICB0ZXh0Pzogc3RyaW5nLFxuICAgIGljb25OYW1lPzogc3RyaW5nLFxuICAgIG9uQWN0aXZhdGVkPzogKCkgPT4gdm9pZFxuICAgIG1heENoYXJOdW1iZXI6IG51bWJlcixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb25NZW51SXRlbShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdGV4dCxcbiAgICAgICAgbWF4Q2hhck51bWJlcixcbiAgICAgICAgaWNvbk5hbWUsXG4gICAgICAgIG9uQWN0aXZhdGVkXG4gICAgfSA9IGFyZ3NcblxuXG4gICAgbGV0IGljb246IGltcG9ydHMuZ2kuU3QuSWNvblxuICAgIGxldCBsYWJlbDogaW1wb3J0cy5naS5TdC5MYWJlbFxuXG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pdGVtJ1xuICAgIH0pXG5cbiAgICBzZXRJY29uTmFtZShpY29uTmFtZSlcbiAgICBzZXRUZXh0KHRleHQpXG5cbiAgICBmdW5jdGlvbiBzZXRJY29uTmFtZShuYW1lOiBzdHJpbmcgfCBudWxsKSB7XG5cbiAgICAgICAgaWYgKGljb24gJiYgIW5hbWUpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVfY2hpbGQoaWNvbilcbiAgICAgICAgICAgIGljb24gPSBudWxsXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmFtZSkgcmV0dXJuXG5cbiAgICAgICAgaW5pdEljb24oKVxuXG4gICAgICAgIGljb24uaWNvbl9uYW1lID0gbmFtZVxuXG4gICAgICAgIGlmIChjb250YWluZXIuZ2V0X2NoaWxkX2F0X2luZGV4KDApICE9PSBpY29uKVxuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydF9jaGlsZF9hdF9pbmRleChpY29uLCAwKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRJY29uKCkge1xuICAgICAgICBpZiAoIWljb24pIHtcbiAgICAgICAgICAgIGljb24gPSBuZXcgSWNvbih7XG4gICAgICAgICAgICAgICAgaWNvbl90eXBlOiBJY29uVHlwZS5TWU1CT0xJQyxcbiAgICAgICAgICAgICAgICBzdHlsZV9jbGFzczogJ3BvcHVwLW1lbnUtaWNvbidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUZXh0KHRleHQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSB0ZXh0IHx8ICcgJ1xuXG4gICAgICAgIGlmICghbGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsID0gbmV3IExhYmVsKCk7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkX2NoaWxkKGxhYmVsKVxuICAgICAgICB9XG4gICAgICAgIGxhYmVsLnNldF90ZXh0KGxpbWl0U3RyaW5nKGxhYmVsVGV4dCwgbWF4Q2hhck51bWJlcikpXG4gICAgfVxuXG4gICAgb25BY3RpdmF0ZWQgJiYgY3JlYXRlQWN0aXZXaWRnZXQoeyB3aWRnZXQ6IGNvbnRhaW5lciwgb25BY3RpdmF0ZWQgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogY29udGFpbmVyLFxuICAgICAgICBzZXRJY29uTmFtZSxcbiAgICAgICAgc2V0VGV4dFxuICAgIH1cblxuXG59IiwiaW1wb3J0ICogYXMgY29uc3RzIGZyb20gJy4uLy4uL2NvbnN0cydcbmltcG9ydCB7IGNyZWF0ZUljb25NZW51SXRlbSB9IGZyb20gJy4uLy4uL2xpYi9JY29uTWVudUl0ZW0nO1xuaW1wb3J0IHsgQWR2YW5jZWRQbGF5YmFja1N0YXR1cyB9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIGNoYW5uZWxOYW1lOiBzdHJpbmcsXG4gICAgb25BY3RpdmF0ZWQ6IChjaGFubmVsTmFtZTogc3RyaW5nKSA9PiB2b2lkLFxuICAgIHBsYXliYWNrU3RhdHVzPzogQWR2YW5jZWRQbGF5YmFja1N0YXR1c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhbm5lbE1lbnVJdGVtKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBjaGFubmVsTmFtZSxcbiAgICAgICAgb25BY3RpdmF0ZWQsXG4gICAgICAgIHBsYXliYWNrU3RhdHVzXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IHBsYXliYWNrSWNvbk1hcDogTWFwPEFkdmFuY2VkUGxheWJhY2tTdGF0dXMsIHN0cmluZyB8IG51bGw+ID0gbmV3IE1hcChbXG4gICAgICAgIFtcIlBsYXlpbmdcIiwgY29uc3RzLlBMQVlfSUNPTl9OQU1FXSxcbiAgICAgICAgW1wiUGF1c2VkXCIsIGNvbnN0cy5QQVVTRV9JQ09OX05BTUVdLFxuICAgICAgICBbXCJMb2FkaW5nXCIsIGNvbnN0cy5MT0FESU5HX0lDT05fTkFNRV0sXG4gICAgICAgIFtcIlN0b3BwZWRcIiwgbnVsbF1cbiAgICBdKVxuXG4gICAgY29uc3QgaWNvbk1lbnVJdGVtID0gY3JlYXRlSWNvbk1lbnVJdGVtKHtcbiAgICAgICAgbWF4Q2hhck51bWJlcjogY29uc3RzLk1BWF9TVFJJTkdfTEVOR1RILFxuICAgICAgICB0ZXh0OiBjaGFubmVsTmFtZSxcbiAgICAgICAgb25BY3RpdmF0ZWQ6ICgpID0+IG9uQWN0aXZhdGVkKGNoYW5uZWxOYW1lKVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBzZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1czogQWR2YW5jZWRQbGF5YmFja1N0YXR1cykge1xuICAgICAgICBjb25zdCBpY29uTmFtZSA9IHBsYXliYWNrSWNvbk1hcC5nZXQocGxheWJhY2tTdGF0dXMpXG4gICAgICAgIGljb25NZW51SXRlbS5zZXRJY29uTmFtZShpY29uTmFtZSlcbiAgICB9XG5cbiAgICBwbGF5YmFja1N0YXR1cyAmJiBzZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1cylcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFBsYXliYWNrU3RhdHVzLFxuICAgICAgICBhY3RvcjogaWNvbk1lbnVJdGVtLmFjdG9yXG4gICAgfVxufSIsImltcG9ydCB7IGNyZWF0ZVN1Yk1lbnUgfSBmcm9tIFwiLi4vLi4vbGliL1BvcHVwU3ViTWVudVwiO1xuaW1wb3J0IHsgY3JlYXRlQ2hhbm5lbE1lbnVJdGVtIH0gZnJvbSBcIi4vQ2hhbm5lbE1lbnVJdGVtXCI7XG5pbXBvcnQgeyBBZHZhbmNlZFBsYXliYWNrU3RhdHVzIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIHN0YXRpb25OYW1lczogc3RyaW5nW10sXG4gICAgb25DaGFubmVsQ2xpY2tlZDogKG5hbWU6IHN0cmluZykgPT4gdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hhbm5lbExpc3QoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHN0YXRpb25OYW1lcyxcbiAgICAgICAgb25DaGFubmVsQ2xpY2tlZFxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBzdWJNZW51ID0gY3JlYXRlU3ViTWVudSh7IHRleHQ6ICdNeSBTdGF0aW9ucycgfSlcblxuICAgIGxldCBjdXJyZW50Q2hhbm5lbE5hbWU6IHN0cmluZ1xuICAgIGxldCBwbGF5YmFja1N0YXR1czogQWR2YW5jZWRQbGF5YmFja1N0YXR1cyA9ICdTdG9wcGVkJ1xuXG4gICAgLy8gdGhlIGNoYW5uZWxJdGVtcyBhcmUgc2F2ZWQgaGVyZSB0byB0aGUgbWFwIGFuZCB0byB0aGUgY29udGFpbmVyIGFzIG9uIHRoZSBjb250YWluZXIgb25seSB0aGUgcmVkdWNlZCBuYW1lIGFyZSBzaG93bi4gVGhlb3JldGljYWxseSBpdCB0aGVyZWZvcmUgY291bGRuJ3QgYmUgZGlmZmVyZW50aWF0ZWQgYmV0d2VlbiB0d28gbG9uZyBjaGFubmVsIG5hbWVzIHdpdGggdGhlIHNhbWUgZmlyc3QgMzAgKG9yIHNvKSBjaGFyYWN0ZXJzICAgXG4gICAgY29uc3QgY2hhbm5lbEl0ZW1zID0gbmV3IE1hcDxzdHJpbmcsIFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNoYW5uZWxNZW51SXRlbT4+KClcblxuICAgIGZ1bmN0aW9uIHNldFN0YXRpb25OYW1lcyhuYW1lczogc3RyaW5nW10pIHtcbiAgICAgICAgY2hhbm5lbEl0ZW1zLmNsZWFyKClcbiAgICAgICAgc3ViTWVudS5ib3gucmVtb3ZlX2FsbF9jaGlsZHJlbigpXG5cbiAgICAgICAgbmFtZXMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxQbGF5YmFja3N0YXR1cyA9XG4gICAgICAgICAgICAgICAgKG5hbWUgPT09IGN1cnJlbnRDaGFubmVsTmFtZSkgPyBwbGF5YmFja1N0YXR1cyA6ICdTdG9wcGVkJ1xuXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsSXRlbSA9IGNyZWF0ZUNoYW5uZWxNZW51SXRlbSh7XG4gICAgICAgICAgICAgICAgY2hhbm5lbE5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgb25BY3RpdmF0ZWQ6IG9uQ2hhbm5lbENsaWNrZWQsXG4gICAgICAgICAgICAgICAgcGxheWJhY2tTdGF0dXM6IGNoYW5uZWxQbGF5YmFja3N0YXR1c1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY2hhbm5lbEl0ZW1zLnNldChuYW1lLCBjaGFubmVsSXRlbSlcbiAgICAgICAgICAgIHN1Yk1lbnUuYm94LmFkZF9jaGlsZChjaGFubmVsSXRlbS5hY3RvcilcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRQbGF5YmFja1N0YXR1cyhuZXdTdGF0dXM6IEFkdmFuY2VkUGxheWJhY2tTdGF0dXMpIHtcbiAgICAgICAgcGxheWJhY2tTdGF0dXMgPSBuZXdTdGF0dXNcblxuICAgICAgICBpZiAoIWN1cnJlbnRDaGFubmVsTmFtZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgY2hhbm5lbE1lbnVJdGVtID0gY2hhbm5lbEl0ZW1zLmdldChjdXJyZW50Q2hhbm5lbE5hbWUpXG4gICAgICAgIGNoYW5uZWxNZW51SXRlbT8uc2V0UGxheWJhY2tTdGF0dXMocGxheWJhY2tTdGF0dXMpXG5cbiAgICAgICAgaWYgKHBsYXliYWNrU3RhdHVzID09PSAnU3RvcHBlZCcpXG4gICAgICAgICAgICBjdXJyZW50Q2hhbm5lbE5hbWUgPSBudWxsXG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDdXJyZW50Q2hhbm5lbChuYW1lOiBzdHJpbmcpIHtcblxuICAgICAgICBjb25zdCBjdXJyZW50Q2hhbm5lbEl0ZW0gPSBjaGFubmVsSXRlbXMuZ2V0KGN1cnJlbnRDaGFubmVsTmFtZSlcbiAgICAgICAgY3VycmVudENoYW5uZWxJdGVtPy5zZXRQbGF5YmFja1N0YXR1cygnU3RvcHBlZCcpXG5cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoYW5uZWxJdGVtID0gY2hhbm5lbEl0ZW1zLmdldChuYW1lKVxuICAgICAgICAgICAgaWYgKCFuZXdDaGFubmVsSXRlbSkgdGhyb3cgbmV3IEVycm9yKGBObyBjaGFubmVsSXRlbSBleGlzdCBmb3IgJHtuYW1lfWApXG4gICAgICAgICAgICBuZXdDaGFubmVsSXRlbS5zZXRQbGF5YmFja1N0YXR1cyhwbGF5YmFja1N0YXR1cylcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRDaGFubmVsTmFtZSA9IG5hbWVcbiAgICB9XG5cbiAgICBzZXRTdGF0aW9uTmFtZXMoc3RhdGlvbk5hbWVzKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IHN1Yk1lbnUuYWN0b3IsXG4gICAgICAgIHNldFBsYXliYWNrU3RhdHVzLFxuICAgICAgICBzZXRTdGF0aW9uTmFtZXMsXG4gICAgICAgIHNldEN1cnJlbnRDaGFubmVsXG4gICAgfVxufSIsImNvbnN0IHsgRHJhd2luZ0FyZWEgfSA9IGltcG9ydHMuZ2kuU3RcbmNvbnN0IHsgY2Fpcm9fc2V0X3NvdXJjZV9jb2xvciwgZ3JhYl9wb2ludGVyLCB1bmdyYWJfcG9pbnRlciB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmludGVyZmFjZSBTbGlkZXJBcmd1bWVudHMge1xuICAgIC8qKiB0aGUgdmFsdWUgaW5pdGFsbHkgYXBwbGllZCB3aGVuIGJldHdlZW4gMCBhbmQgMS4gSWYgdGhlIHZhbHVlIGlzIGJlbG93IDAsIHRoZSBzbGlkZXIgdmFsdWUgaXMgc2V0IHRvIDAuIElmIHRoZSB2YWx1ZSBpcyBhYm92ZSAxLCB0aGUgc2xpZGVyIHZhbHVlIGlzIHNldCB0byAxICovXG4gICAgaW5pdGlhbFZhbHVlPzogbnVtYmVyLFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgKi9cbiAgICBvblZhbHVlQ2hhbmdlZD86IChuZXdWYWx1ZTogbnVtYmVyKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbGlkZXIoYXJnczogU2xpZGVyQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCBzdHlsZV9jbGFzcyA9ICdwb3B1cC1zbGlkZXItbWVudS1pdGVtJ1xuXG4gICAgY29uc3Qge1xuICAgICAgICBpbml0aWFsVmFsdWUsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2VkXG4gICAgfSA9IGFyZ3NcblxuICAgIGxldCB2YWx1ZTogbnVtYmVyXG4gICAgaWYgKGluaXRpYWxWYWx1ZSkgdmFsdWUgPSBsaW1pdFRvTWluTWF4KGluaXRpYWxWYWx1ZSlcblxuICAgIGNvbnN0IGRyYXdpbmcgPSBuZXcgRHJhd2luZ0FyZWEoe1xuICAgICAgICBzdHlsZV9jbGFzcyxcbiAgICAgICAgcmVhY3RpdmU6IHRydWUsXG4gICAgICAgIHhfZXhwYW5kOiB0cnVlXG4gICAgfSlcblxuICAgIGRyYXdpbmcuY29ubmVjdCgncmVwYWludCcsICgpID0+IHtcblxuICAgICAgICBjb25zdCBjciA9IGRyYXdpbmcuZ2V0X2NvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdGhlbWVOb2RlID0gZHJhd2luZy5nZXRfdGhlbWVfbm9kZSgpO1xuICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkcmF3aW5nLmdldF9zdXJmYWNlX3NpemUoKVxuXG4gICAgICAgIGNvbnN0IGhhbmRsZVJhZGl1cyA9IHRoZW1lTm9kZS5nZXRfbGVuZ3RoKCctc2xpZGVyLWhhbmRsZS1yYWRpdXMnKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJIZWlnaHQgPSB0aGVtZU5vZGUuZ2V0X2xlbmd0aCgnLXNsaWRlci1oZWlnaHQnKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJCb3JkZXJXaWR0aCA9IHRoZW1lTm9kZS5nZXRfbGVuZ3RoKCctc2xpZGVyLWJvcmRlci13aWR0aCcpO1xuICAgICAgICBjb25zdCBzbGlkZXJCb3JkZXJSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgc2xpZGVySGVpZ2h0KSAvIDI7XG5cbiAgICAgICAgY29uc3Qgc2xpZGVyQm9yZGVyQ29sb3IgPSB0aGVtZU5vZGUuZ2V0X2NvbG9yKCctc2xpZGVyLWJvcmRlci1jb2xvcicpO1xuICAgICAgICBjb25zdCBzbGlkZXJDb2xvciA9IHRoZW1lTm9kZS5nZXRfY29sb3IoJy1zbGlkZXItYmFja2dyb3VuZC1jb2xvcicpO1xuXG4gICAgICAgIGNvbnN0IHNsaWRlckFjdGl2ZUJvcmRlckNvbG9yID0gdGhlbWVOb2RlLmdldF9jb2xvcignLXNsaWRlci1hY3RpdmUtYm9yZGVyLWNvbG9yJyk7XG4gICAgICAgIGNvbnN0IHNsaWRlckFjdGl2ZUNvbG9yID0gdGhlbWVOb2RlLmdldF9jb2xvcignLXNsaWRlci1hY3RpdmUtYmFja2dyb3VuZC1jb2xvcicpO1xuXG4gICAgICAgIGNvbnN0IFRBVSA9IE1hdGguUEkgKiAyO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVggPSBoYW5kbGVSYWRpdXMgKyAod2lkdGggLSAyICogaGFuZGxlUmFkaXVzKSAqIHZhbHVlO1xuXG4gICAgICAgIGNyLmFyYyhzbGlkZXJCb3JkZXJSYWRpdXMgKyBzbGlkZXJCb3JkZXJXaWR0aCwgaGVpZ2h0IC8gMiwgc2xpZGVyQm9yZGVyUmFkaXVzLCBUQVUgKiAxIC8gNCwgVEFVICogMyAvIDQpO1xuICAgICAgICBjci5saW5lVG8oaGFuZGxlWCwgKGhlaWdodCAtIHNsaWRlckhlaWdodCkgLyAyKTtcbiAgICAgICAgY3IubGluZVRvKGhhbmRsZVgsIChoZWlnaHQgKyBzbGlkZXJIZWlnaHQpIC8gMik7XG4gICAgICAgIGNyLmxpbmVUbyhzbGlkZXJCb3JkZXJSYWRpdXMgKyBzbGlkZXJCb3JkZXJXaWR0aCwgKGhlaWdodCArIHNsaWRlckhlaWdodCkgLyAyKTtcbiAgICAgICAgY2Fpcm9fc2V0X3NvdXJjZV9jb2xvcihjciwgc2xpZGVyQWN0aXZlQ29sb3IpO1xuICAgICAgICBjci5maWxsUHJlc2VydmUoKTtcbiAgICAgICAgY2Fpcm9fc2V0X3NvdXJjZV9jb2xvcihjciwgc2xpZGVyQWN0aXZlQm9yZGVyQ29sb3IpO1xuICAgICAgICBjci5zZXRMaW5lV2lkdGgoc2xpZGVyQm9yZGVyV2lkdGgpO1xuICAgICAgICBjci5zdHJva2UoKTtcblxuICAgICAgICBjci5hcmMod2lkdGggLSBzbGlkZXJCb3JkZXJSYWRpdXMgLSBzbGlkZXJCb3JkZXJXaWR0aCwgaGVpZ2h0IC8gMiwgc2xpZGVyQm9yZGVyUmFkaXVzLCBUQVUgKiAzIC8gNCwgVEFVICogMSAvIDQpO1xuICAgICAgICBjci5saW5lVG8oaGFuZGxlWCwgKGhlaWdodCArIHNsaWRlckhlaWdodCkgLyAyKTtcbiAgICAgICAgY3IubGluZVRvKGhhbmRsZVgsIChoZWlnaHQgLSBzbGlkZXJIZWlnaHQpIC8gMik7XG4gICAgICAgIGNyLmxpbmVUbyh3aWR0aCAtIHNsaWRlckJvcmRlclJhZGl1cyAtIHNsaWRlckJvcmRlcldpZHRoLCAoaGVpZ2h0IC0gc2xpZGVySGVpZ2h0KSAvIDIpO1xuICAgICAgICBjYWlyb19zZXRfc291cmNlX2NvbG9yKGNyLCBzbGlkZXJDb2xvcik7XG4gICAgICAgIGNyLmZpbGxQcmVzZXJ2ZSgpO1xuICAgICAgICBjYWlyb19zZXRfc291cmNlX2NvbG9yKGNyLCBzbGlkZXJCb3JkZXJDb2xvcik7XG4gICAgICAgIGNyLnNldExpbmVXaWR0aChzbGlkZXJCb3JkZXJXaWR0aCk7XG4gICAgICAgIGNyLnN0cm9rZSgpO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVkgPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhlbWVOb2RlLmdldF9mb3JlZ3JvdW5kX2NvbG9yKCk7XG4gICAgICAgIGNhaXJvX3NldF9zb3VyY2VfY29sb3IoY3IsIGNvbG9yKTtcbiAgICAgICAgY3IuYXJjKGhhbmRsZVgsIGhhbmRsZVksIGhhbmRsZVJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjci5maWxsKCk7XG5cbiAgICAgICAgY3IuJGRpc3Bvc2UoKTtcbiAgICB9KVxuXG4gICAgZHJhd2luZy5jb25uZWN0KCdidXR0b24tcHJlc3MtZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgIGdyYWJfcG9pbnRlcihkcmF3aW5nKVxuXG4gICAgICAgIGNvbnN0IG1vdGlvbklkID0gZHJhd2luZy5jb25uZWN0KCdtb3Rpb24tZXZlbnQnLCAoYWN0b3IsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBtb3ZlSGFuZGxlKGV2ZW50KVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGJ1dHRvblJlbGVhc2VJZCA9IGRyYXdpbmcuY29ubmVjdCgnYnV0dG9uLXJlbGVhc2UtZXZlbnQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkcmF3aW5nLmRpc2Nvbm5lY3QoYnV0dG9uUmVsZWFzZUlkKVxuICAgICAgICAgICAgZHJhd2luZy5kaXNjb25uZWN0KG1vdGlvbklkKVxuICAgICAgICAgICAgdW5ncmFiX3BvaW50ZXIoKVxuICAgICAgICB9KVxuXG4gICAgICAgIG1vdmVIYW5kbGUoZXZlbnQpXG5cbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gbW92ZUhhbmRsZShldmVudDogaW1wb3J0cy5naS5DbHV0dGVyLkV2ZW50KSB7XG5cbiAgICAgICAgY29uc3QgW2Fic1gsIGFic1ldID0gZXZlbnQuZ2V0X2Nvb3JkcygpXG5cbiAgICAgICAgY29uc3QgW3NsaWRlclgsIHNsaWRlclldID0gZHJhd2luZy5nZXRfdHJhbnNmb3JtZWRfcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgcmVsWCA9IGFic1ggLSBzbGlkZXJYO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZHJhd2luZy53aWR0aDtcbiAgICAgICAgY29uc3QgaGFuZGxlUmFkaXVzID0gZHJhd2luZy5nZXRfdGhlbWVfbm9kZSgpLmdldF9sZW5ndGgoJy1zbGlkZXItaGFuZGxlLXJhZGl1cycpO1xuXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gKHJlbFggLSBoYW5kbGVSYWRpdXMpIC8gKHdpZHRoIC0gMiAqIGhhbmRsZVJhZGl1cylcbiAgICAgICAgY29uc3QgbmV3VmFsdWVMaW1pdFRvTWluTWF4ID0gbGltaXRUb01pbk1heChuZXdWYWx1ZSlcblxuICAgICAgICBzZXRWYWx1ZShuZXdWYWx1ZUxpbWl0VG9NaW5NYXgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGltaXRUb01pbk1heCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgMSksIDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFZhbHVlKG5ld1ZhbHVlOiBudW1iZXIsIHNpbGVudCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNvcnJlY3RlZFZhbHVlID0gbGltaXRUb01pbk1heChuZXdWYWx1ZSlcblxuICAgICAgICBpZiAoY29ycmVjdGVkVmFsdWUgPT09IHZhbHVlKSByZXR1cm5cblxuICAgICAgICB2YWx1ZSA9IGNvcnJlY3RlZFZhbHVlXG4gICAgICAgIGlmICghc2lsZW50KSBvblZhbHVlQ2hhbmdlZD8uKHZhbHVlKVxuICAgICAgICBkcmF3aW5nLnF1ZXVlX3JlcGFpbnQoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogZHJhd2luZyxcbiAgICAgICAgc2V0VmFsdWUsXG4gICAgICAgIGdldFZhbHVlXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aXZXaWRnZXQgfSBmcm9tIFwiLi4vbGliL0FjdGl2V2lkZ2V0XCI7XG5pbXBvcnQgeyBjcmVhdGVTbGlkZXIgfSBmcm9tIFwiLi4vbGliL1NsaWRlclwiO1xuaW1wb3J0IHsgZ2V0Vm9sdW1lSWNvbiwgUE9QVVBfSUNPTl9DTEFTUywgUE9QVVBfTUVOVV9JVEVNX0NMQVNTLCBWT0xVTUVfREVMVEEgfSBmcm9tICcuLi9jb25zdHMnXG5cbmNvbnN0IHsgQm94TGF5b3V0LCBJY29uLCBJY29uVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBUb29sdGlwIH0gPSBpbXBvcnRzLnVpLnRvb2x0aXBzXG5jb25zdCB7IEtFWV9SaWdodCwgS0VZX0xlZnQsIFNjcm9sbERpcmVjdGlvbiB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uVm9sdW1lQ2hhbmdlZDogKHZhbHVlOiBudW1iZXIpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZvbHVtZVNsaWRlcihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkXG4gICAgfSA9IGFyZ3NcblxuICAgIGxldCB0b29sdGlwOiBpbXBvcnRzLnVpLnRvb2x0aXBzLlRvb2x0aXBcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICBzdHlsZV9jbGFzczogUE9QVVBfTUVOVV9JVEVNX0NMQVNTLFxuICAgIH0pXG5cbiAgICBjcmVhdGVBY3RpdldpZGdldCh7XG4gICAgICAgIHdpZGdldDogY29udGFpbmVyXG4gICAgfSlcblxuICAgIC8qKiBpbiBQZXJjZW50IGFuZCByb3VuZGVkISAqL1xuICAgIGxldCB2b2x1bWU6IG51bWJlclxuXG4gICAgY29uc3Qgc2xpZGVyID0gY3JlYXRlU2xpZGVyKHtcbiAgICAgICAgb25WYWx1ZUNoYW5nZWQ6IGhhbmRsZVNsaWRlclZhbHVlQ2hhbmdlZFxuICAgIH0pXG5cbiAgICBjb25zdCBpY29uID0gbmV3IEljb24oe1xuICAgICAgICBpY29uX3R5cGU6IEljb25UeXBlLlNZTUJPTElDLFxuICAgICAgICBzdHlsZV9jbGFzczogUE9QVVBfSUNPTl9DTEFTUyxcbiAgICAgICAgcmVhY3RpdmU6IHRydWVcbiAgICB9KTtcblxuICAgIFtpY29uLCBzbGlkZXIuYWN0b3JdLmZvckVhY2god2lkZ2V0ID0+IHtcbiAgICAgICAgY29udGFpbmVyLmFkZF9jaGlsZCh3aWRnZXQpXG4gICAgfSlcblxuXG4gICAgY29udGFpbmVyLmNvbm5lY3QoJ2tleS1wcmVzcy1ldmVudCcsIChhY3RvciwgZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQuZ2V0X2tleV9zeW1ib2woKTtcblxuICAgICAgICBpZiAoa2V5ID09PSBLRVlfUmlnaHQgfHwga2V5ID09PSBLRVlfTGVmdCkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gKGtleSA9PT0gS0VZX1JpZ2h0KSA/ICdpbmNyZWFzZScgOiAnZGVjcmVhc2UnXG4gICAgICAgICAgICBkZWx0YUNoYW5nZShkaXJlY3Rpb24pXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgY29udGFpbmVyLmNvbm5lY3QoJ3Njcm9sbC1ldmVudCcsIChhY3RvciwgZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsRGlyZWN0aW9uID0gZXZlbnQuZ2V0X3Njcm9sbF9kaXJlY3Rpb24oKVxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSAoc2Nyb2xsRGlyZWN0aW9uID09PSBTY3JvbGxEaXJlY3Rpb24uVVApID8gJ2luY3JlYXNlJyA6ICdkZWNyZWFzZSdcbiAgICAgICAgZGVsdGFDaGFuZ2UoZGlyZWN0aW9uKVxuICAgIH0pXG5cbiAgICBpY29uLmNvbm5lY3QoJ2J1dHRvbi1wcmVzcy1ldmVudCcsICgpID0+IHtcbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKDApXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVTbGlkZXJWYWx1ZUNoYW5nZWQobmV3VmFsdWU6IG51bWJlcikge1xuICAgICAgICB1cGRhdGVWb2x1bWUobmV3VmFsdWUgKiAxMDAsIHRydWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsdGFDaGFuZ2UoZGlyZWN0aW9uOiAnaW5jcmVhc2UnIHwgJ2RlY3JlYXNlJykge1xuICAgICAgICBjb25zdCBkZWx0YSA9IChkaXJlY3Rpb24gPT09ICdpbmNyZWFzZScpID8gVk9MVU1FX0RFTFRBIDogLVZPTFVNRV9ERUxUQVxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHNsaWRlci5nZXRWYWx1ZSgpICsgZGVsdGEgLyAxMDBcbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKG5ld1ZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdWb2x1bWUgaW4gcGVyY2VudCBidXQgZG9lc24ndCBuZWVkIHRvIGJlIHJvdW5kZWRcbiAgICAgKiBAcGFyYW0gc2hvd1Rvb2x0aXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVWb2x1bWUobmV3Vm9sdW1lOiBudW1iZXIsIHNob3dUb29sdGlwOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IG5ld1ZvbHVtZVJvdW5kZWQgPSBNYXRoLnJvdW5kKG5ld1ZvbHVtZSlcblxuICAgICAgICBpZiAobmV3Vm9sdW1lUm91bmRlZCA9PT0gdm9sdW1lKSByZXR1cm5cblxuICAgICAgICB2b2x1bWUgPSBuZXdWb2x1bWVSb3VuZGVkXG5cbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKHZvbHVtZSAvIDEwMClcbiAgICAgICAgaWNvbi5zZXRfaWNvbl9uYW1lKGdldFZvbHVtZUljb24oeyB2b2x1bWUgfSkpXG4gICAgICAgIHNldFRvb2x0aXAodm9sdW1lKVxuXG4gICAgICAgIHNob3dUb29sdGlwICYmIHRvb2x0aXAuc2hvdygpXG4gICAgICAgIG9uVm9sdW1lQ2hhbmdlZD8uKHZvbHVtZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdm9sdW1lIGluIFBlcmNlbnQgYW5kIHJvdW5kZWQhXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VG9vbHRpcCh2b2x1bWU6IG51bWJlcikge1xuXG4gICAgICAgIGlmICghdG9vbHRpcClcbiAgICAgICAgICAgIHRvb2x0aXAgPSBuZXcgVG9vbHRpcChzbGlkZXIuYWN0b3IsICcgJylcblxuICAgICAgICB0b29sdGlwLnNldF90ZXh0KGBWb2x1bWU6ICR7dm9sdW1lLnRvU3RyaW5nKCl9ICVgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdWb2x1bWUgaW4gcGVyY2VudCAoMC0xMDApXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Vm9sdW1lKG5ld1ZvbHVtZTogbnVtYmVyKSB7XG4gICAgICAgIHVwZGF0ZVZvbHVtZShuZXdWb2x1bWUsIGZhbHNlKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFjdG9yOiBjb250YWluZXIsXG4gICAgICAgIHNldFZvbHVtZVxuICAgIH1cbn0iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gZ2xvYmFsOyIsImNvbnN0IHsgQm94TGF5b3V0LCBCaW4sIFNpZGUgfSA9IGltcG9ydHMuZ2kuU3RcbmNvbnN0IHsgdWlHcm91cCwgbGF5b3V0TWFuYWdlciwgcGFuZWxNYW5hZ2VyLCBwdXNoTW9kYWwsIHBvcE1vZGFsIH0gPSBpbXBvcnRzLnVpLm1haW5cbmNvbnN0IHsgS0VZX0VzY2FwZSB9ID0gaW1wb3J0cy5naS5DbHV0dGVyXG5jb25zdCB7IHV0aWxfZ2V0X3RyYW5zZm9ybWVkX2FsbG9jYXRpb24gfSA9IGltcG9ydHMuZ2kuQ2lubmFtb25cbmNvbnN0IHsgUGFuZWxMb2MgfSA9IGltcG9ydHMudWkucG9wdXBNZW51XG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7IHN0YWdlIH0gZnJvbSAnY2pzJ1xuXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIGxhdW5jaGVyOiBpbXBvcnRzLmdpLlN0LldpZGdldCxcbn1cblxuLy8gdGhlIHNwYWNlIG9uIHRoZSBtb25pdG9yIHdoaWNoIGlzIGZyZWUgZm9yIHRoZSBwb3B1cCBtZW51LCBpLmUuIHRoZSBtb25pdG9yIG1pbnVzIHRoZSBwYW5lbHMuXG5pbnRlcmZhY2UgRnJlZVNwYWNlQm94IHtcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgUG9wdXBNZW51IGV4dGVuZHMgaW1wb3J0cy5naS5TdC5Cb3hMYXlvdXQge1xuICAgIC8qKiB0b2dnbGVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBwb3B1cE1lbnUgKi9cbiAgICB0b2dnbGU6ICgpID0+IHZvaWRcbiAgICAvKiogY2xvc2UgdGhlIHBvcHVwbWVudSBhbmQgcmVsYXNlIHRoZSBncmFiYmVkIGtleXMuIFVzZSB0aGlzIGluc3RlYWQgb2YgaGlkZSEgKi9cbiAgICBjbG9zZTogKCkgPT4gdm9pZFxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQb3B1cE1lbnUoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGxhdW5jaGVyXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IGJveCA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICBzdHlsZV9jbGFzczogJ3BvcHVwLW1lbnUtY29udGVudCcsXG4gICAgICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICB9KVxuXG4gICAgLy8gb25seSBmb3Igc3R5bGluZyBwdXJwb3Nlc1xuICAgIGNvbnN0IGJpbiA9IG5ldyBCaW4oe1xuICAgICAgICBzdHlsZV9jbGFzczogJ21lbnUnLFxuICAgICAgICBjaGlsZDogYm94LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0pXG5cbiAgICB1aUdyb3VwLmFkZF9jaGlsZChiaW4pXG5cbiAgICBib3guY29ubmVjdCgna2V5LXByZXNzLWV2ZW50JywgKGFjdG9yLCBldmVudCkgPT4ge1xuICAgICAgICBldmVudC5nZXRfa2V5X3N5bWJvbCgpID09PSBLRVlfRXNjYXBlICYmIGNsb3NlKClcbiAgICB9KVxuXG4gICAgbGF1bmNoZXIuY29ubmVjdCgncXVldWUtcmVsYXlvdXQnLCAoKSA9PiB7XG4gICAgICAgIGlmICghYm94LnZpc2libGUpIHJldHVyblxuXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRMYXlvdXQoKVxuICAgICAgICB9LCAwKTtcbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gc2V0TGF5b3V0KCkge1xuXG4gICAgICAgIGNvbnN0IGZyZWVTcGFjZSA9IGNhbGN1bGF0ZUZyZWVTcGFjZSgpXG4gICAgICAgIGNvbnN0IG1heEhlaWdodCA9IGNhbGN1bGF0ZU1heEhlaWdodChmcmVlU3BhY2UpXG5cbiAgICAgICAgYm94LnN0eWxlID0gYG1heC1oZWlnaHQ6ICR7bWF4SGVpZ2h0fXB4O2BcbiAgICAgICAgY29uc3QgW3hQb3MsIHlQb3NdID0gY2FsY3VsYXRlUG9zaXRpb24obWF4SGVpZ2h0LCBmcmVlU3BhY2UpXG5cbiAgICAgICAgLy8gV2l0aG91dCBNYXRoLmZsb29yLCB0aGUgcG9wdXAgbWVudSBnZXRzIGZvciBzb21lIHJlYXNvbiBibHVycmVkIG9uIHNvbWUgdGhlbWVzIChlLmcuIEFkYXB0YSBOb2t0bykhXG4gICAgICAgIGJpbi5zZXRfcG9zaXRpb24oTWF0aC5mbG9vcih4UG9zKSwgTWF0aC5mbG9vcih5UG9zKSlcblxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlRnJlZVNwYWNlKCk6IEZyZWVTcGFjZUJveCB7XG4gICAgICAgIGNvbnN0IG1vbml0b3IgPSBsYXlvdXRNYW5hZ2VyLmZpbmRNb25pdG9yRm9yQWN0b3IobGF1bmNoZXIpXG4gICAgICAgIGNvbnN0IHZpc2libGVQYW5lbHMgPSBwYW5lbE1hbmFnZXIuZ2V0UGFuZWxzSW5Nb25pdG9yKG1vbml0b3IuaW5kZXgpXG5cbiAgICAgICAgY29uc3QgcGFuZWxTaXplcyA9IG5ldyBNYXAodmlzaWJsZVBhbmVscy5tYXAocGFuZWwgPT4ge1xuICAgICAgICAgICAgbGV0IHdpZHRoID0gMCwgaGVpZ2h0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHBhbmVsLmdldElzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBwYW5lbC5hY3Rvci53aWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBwYW5lbC5hY3Rvci5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbcGFuZWwucGFuZWxQb3NpdGlvbiwgeyB3aWR0aCwgaGVpZ2h0IH1dXG4gICAgICAgIH0pKVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBtb25pdG9yLnggKyAocGFuZWxTaXplcy5nZXQoUGFuZWxMb2MubGVmdCk/LndpZHRoIHx8IDApLFxuICAgICAgICAgICAgYm90dG9tOiBtb25pdG9yLnkgKyBtb25pdG9yLmhlaWdodCAtIChwYW5lbFNpemVzLmdldChQYW5lbExvYy5ib3R0b20pPy5oZWlnaHQgfHwgMCksXG4gICAgICAgICAgICB0b3A6IG1vbml0b3IueSArIChwYW5lbFNpemVzLmdldChQYW5lbExvYy50b3ApPy5oZWlnaHQgfHwgMCksXG4gICAgICAgICAgICByaWdodDogbW9uaXRvci54ICsgbW9uaXRvci53aWR0aCAtIChwYW5lbFNpemVzLmdldChQYW5lbExvYy5yaWdodCk/LndpZHRoIHx8IDApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVNYXhIZWlnaHQoZnJlZVNwYWNlOiBGcmVlU3BhY2VCb3gpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBmcmVlU3BhY2VIZWlnaHQgPSAoZnJlZVNwYWNlLmJvdHRvbSAtIGZyZWVTcGFjZS50b3ApIC8gZ2xvYmFsLnVpX3NjYWxlXG5cbiAgICAgICAgY29uc3QgYm94VGhlbWVOb2RlID0gYm94LmdldF90aGVtZV9ub2RlKClcblxuICAgICAgICBjb25zdCBiaW5UaGVtZU5vZGUgPSBiaW4uZ2V0X3RoZW1lX25vZGUoKVxuXG4gICAgICAgIGNvbnN0IHBhZGRpbmdUb3AgPSBib3hUaGVtZU5vZGUuZ2V0X3BhZGRpbmcoU2lkZS5UT1ApXG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSBib3hUaGVtZU5vZGUuZ2V0X3BhZGRpbmcoU2lkZS5CT1RUT00pXG4gICAgICAgIGNvbnN0IGJvcmRlcldpZHRoVG9wID0gYmluVGhlbWVOb2RlLmdldF9ib3JkZXJfd2lkdGgoU2lkZS5UT1ApXG4gICAgICAgIGNvbnN0IGJvcmRlcldpZHRoQm90dG9tID0gYmluVGhlbWVOb2RlLmdldF9ib3JkZXJfd2lkdGgoU2lkZS5CT1RUT00pXG5cbiAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gZnJlZVNwYWNlSGVpZ2h0IC0gcGFkZGluZ0JvdHRvbSAtIHBhZGRpbmdUb3AgLSBib3JkZXJXaWR0aFRvcCAtIGJvcmRlcldpZHRoQm90dG9tXG5cbiAgICAgICAgcmV0dXJuIG1heEhlaWdodFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVBvc2l0aW9uKG1heEhlaWdodDogbnVtYmVyLCBmcmVlU3BhY2U6IEZyZWVTcGFjZUJveCk6IFt4TGVmdDogbnVtYmVyLCB5VG9wOiBudW1iZXJdIHtcblxuICAgICAgICBjb25zdCBhcHBsZXRCb3ggPSB1dGlsX2dldF90cmFuc2Zvcm1lZF9hbGxvY2F0aW9uKGxhdW5jaGVyKVxuXG4gICAgICAgIGNvbnN0IFttaW5XaWR0aCwgbWluSGVpZ2h0LCBuYXRXaWR0aCwgbmF0SGVpZ2h0XSA9IGJveC5nZXRfcHJlZmVycmVkX3NpemUoKTtcblxuICAgICAgICBjb25zdCBtYXJnaW4gPSAobmF0V2lkdGggLSBhcHBsZXRCb3guZ2V0X3dpZHRoKCkpIC8gMlxuXG4gICAgICAgIGNvbnN0IHhMZWZ0Tm9ybWFsID0gTWF0aC5tYXgoZnJlZVNwYWNlLmxlZnQsIGFwcGxldEJveC54MSAtIG1hcmdpbik7XG4gICAgICAgIGNvbnN0IHhSaWdodE5vcm1hbCA9IGFwcGxldEJveC54MiArIG1hcmdpblxuICAgICAgICBjb25zdCB4TGVmdE1heCA9IGZyZWVTcGFjZS5yaWdodCAtIGFwcGxldEJveC5nZXRfd2lkdGgoKSAtIG1hcmdpbiAqIDJcbiAgICAgICAgY29uc3QgeExlZnQgPSAoeFJpZ2h0Tm9ybWFsIDwgZnJlZVNwYWNlLnJpZ2h0KSA/IHhMZWZ0Tm9ybWFsIDogeExlZnRNYXhcblxuICAgICAgICBjb25zdCB5VG9wTm9ybWFsID0gTWF0aC5tYXgoYXBwbGV0Qm94LnkxLCBmcmVlU3BhY2UudG9wKTtcbiAgICAgICAgY29uc3QgeUJvdHRvbU5vcm1hbCA9IHlUb3BOb3JtYWwgKyBuYXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHlUb3BNYXggPSBmcmVlU3BhY2UuYm90dG9tIC0gYm94LmhlaWdodDtcbiAgICAgICAgY29uc3QgeVRvcCA9ICh5Qm90dG9tTm9ybWFsIDwgZnJlZVNwYWNlLmJvdHRvbSkgPyB5VG9wTm9ybWFsIDogeVRvcE1heFxuXG4gICAgICAgIHJldHVybiBbeExlZnQsIHlUb3BdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgICAgYm94LnZpc2libGUgPyBjbG9zZSgpIDogb3BlbigpXG4gICAgfVxuXG4gICAgLy8gbm8gaWRlYSB3aHkgaXQgc29tZXRpbWVzIG5lZWRzIHRvIGJlIGJpbiBhbmQgc29tZXRpbWVzIGJveCAuLi5cbiAgICBmdW5jdGlvbiBvcGVuKCkge1xuXG4gICAgICAgIHNldExheW91dCgpXG4gICAgICAgIGJpbi5zaG93KClcbiAgICAgICAgYm94LnNob3coKVxuXG4gICAgICAgIGxhdW5jaGVyLmFkZF9zdHlsZV9wc2V1ZG9fY2xhc3MoJ2NoZWNrZWQnKVxuXG4gICAgICAgIHB1c2hNb2RhbChib3gpXG5cbiAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uLCBpdCBpcyBlbW1pdGVkIHRoZSBidXR0b24tcHJlc3MgZXZlbnQgd2hlbiBjbGlja2luZyBlLmcgb24gdGhlIGRlc2t0b3AgYnV0IHRoZSBidXR0b24tcmVsZWFzZS1ldmVudCB3aGVuIGNsaWNraW5nIG9uIGFub3RoZXIgYXBwbGV0XG4gICAgICAgIHN0YWdlLmNvbm5lY3QoJ2J1dHRvbi1wcmVzcy1ldmVudCcsIGhhbmRsZUNsaWNrKVxuICAgICAgICBzdGFnZS5jb25uZWN0KCdidXR0b24tcmVsZWFzZS1ldmVudCcsIGhhbmRsZUNsaWNrKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuXG4gICAgICAgIGlmICghYm94LnZpc2libGUpIHJldHVyblxuXG4gICAgICAgIGJpbi5oaWRlKClcbiAgICAgICAgYm94LmhpZGUoKVxuICAgICAgICBsYXVuY2hlci5yZW1vdmVfc3R5bGVfcHNldWRvX2NsYXNzKCdjaGVja2VkJylcbiAgICAgICAgcG9wTW9kYWwoYm94KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGFjdG9yOiBpbXBvcnRzLmdpLkNsdXR0ZXIuU3RhZ2UsIGV2ZW50OiBpbXBvcnRzLmdpLkNsdXR0ZXIuRXZlbnQpIHtcblxuICAgICAgICBpZiAoIWJveC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNsaWNrZWRBY3RvciA9IGV2ZW50LmdldF9zb3VyY2UoKVxuXG4gICAgICAgIGNvbnN0IGJpbkNsaWNrZWQgPSBib3guY29udGFpbnMoY2xpY2tlZEFjdG9yKVxuICAgICAgICBjb25zdCBhcHBsZXRDbGlja2VkID0gbGF1bmNoZXIuY29udGFpbnMoY2xpY2tlZEFjdG9yKTtcblxuICAgICAgICAoIWJpbkNsaWNrZWQgJiYgIWFwcGxldENsaWNrZWQpICYmIGNsb3NlKClcbiAgICB9XG5cbiAgICAoYm94IGFzIFBvcHVwTWVudSkudG9nZ2xlID0gdG9nZ2xlO1xuICAgIChib3ggYXMgUG9wdXBNZW51KS5jbG9zZSA9IGNsb3NlXG5cbiAgICByZXR1cm4gKGJveCBhcyBQb3B1cE1lbnUpXG59IiwiaW1wb3J0ICogYXMgY29uc3RzIGZyb20gXCIuLi9jb25zdHNcIjtcbmltcG9ydCB7IGNyZWF0ZUljb25NZW51SXRlbSB9IGZyb20gXCIuLi9saWIvSWNvbk1lbnVJdGVtXCI7XG5jb25zdCB7IEJveExheW91dCB9ID0gaW1wb3J0cy5naS5TdFxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5mb1NlY3Rpb24oKSB7XG5cbiAgICBjb25zdCBjaGFubmVsSW5mb0l0ZW0gPSBjcmVhdGVJbmZvSXRlbShjb25zdHMuUkFESU9fU1lNQk9MSUNfSUNPTl9OQU1FKVxuICAgIGNvbnN0IHNvbmdJbmZvSXRlbSA9IGNyZWF0ZUluZm9JdGVtKGNvbnN0cy5TT05HX0lORk9fSUNPTl9OQU1FKVxuXG4gICAgY29uc3QgaW5mb1NlY3Rpb24gPSBuZXcgQm94TGF5b3V0KHtcbiAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICB9KTtcblxuICAgIFtjaGFubmVsSW5mb0l0ZW0sIHNvbmdJbmZvSXRlbV0uZm9yRWFjaChpbmZvSXRlbSA9PiB7XG4gICAgICAgIGluZm9TZWN0aW9uLmFkZF9jaGlsZChpbmZvSXRlbS5hY3RvcilcbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5mb0l0ZW0oaWNvbk5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBpY29uTWVudUl0ZW0gPSBjcmVhdGVJY29uTWVudUl0ZW0oe1xuICAgICAgICAgICAgaWNvbk5hbWUsXG4gICAgICAgICAgICBtYXhDaGFyTnVtYmVyOiBjb25zdHMuTUFYX1NUUklOR19MRU5HVEgsXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGljb25NZW51SXRlbVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldENoYW5uZWwoY2hhbm5lTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNoYW5uZWxJbmZvSXRlbS5zZXRUZXh0KGNoYW5uZU5hbWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U29uZ1RpdGxlKHNvbmdUaXRsZTogc3RyaW5nKSB7XG4gICAgICAgIHNvbmdJbmZvSXRlbS5zZXRUZXh0KHNvbmdUaXRsZSlcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogaW5mb1NlY3Rpb24sXG4gICAgICAgIHNldFNvbmdUaXRsZSxcbiAgICAgICAgc2V0Q2hhbm5lbFxuICAgIH1cblxufSIsImltcG9ydCB7IGNyZWF0ZUFjdGl2V2lkZ2V0IH0gZnJvbSBcIi4uLy4uL2xpYi9BY3RpdldpZGdldFwiO1xuXG5jb25zdCB7IEJ1dHRvbiwgSWNvbiwgSWNvblR5cGUgfSA9IGltcG9ydHMuZ2kuU3Q7XG5jb25zdCB7IFRvb2x0aXAgfSA9IGltcG9ydHMudWkudG9vbHRpcHM7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIGljb25OYW1lOiBzdHJpbmcsXG4gICAgdG9vbHRpcFR4dDogc3RyaW5nLFxuICAgIG9uQ2xpY2s6IHsgKCk6IHZvaWQgfSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xCdG4oYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGljb25OYW1lLFxuICAgICAgICB0b29sdGlwVHh0LFxuICAgICAgICBvbkNsaWNrXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IGljb24gPSBuZXcgSWNvbih7XG4gICAgICAgIGljb25fdHlwZTogSWNvblR5cGUuU1lNQk9MSUMsXG4gICAgICAgIGljb25fbmFtZTogaWNvbk5hbWUsXG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pY29uJyAvLyB0aGlzIHNwZWNpZmllcyB0aGUgaWNvbi1zaXplXG4gICAgfSlcblxuICAgIGNvbnN0IGJ0biA9IG5ldyBCdXR0b24oe1xuICAgICAgICByZWFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgY2FuX2ZvY3VzOiB0cnVlLFxuICAgICAgICAvLyBJdCBpcyBjaGFsbGVuZ2luZyB0byBnZXQgYSByZWFzb25hYmxlIHN0eWxlIG9uIGFsbCB0aGVtZXMuIEkgaGF2ZSB0cmllZCB1c2luZyB0aGUgJ3NvdW5kLXBsYXllci1vdmVybGF5JyBjbGFzcyBidXQgZGlkbid0IGdldCBpdCB3b3JraW5nLiBIb3dldmVyIG1pZ2h0IGJlIHBvc3NpYmxlIGFueXdheS4gIFxuICAgICAgICBzdHlsZV9jbGFzczogXCJwb3B1cC1tZW51LWl0ZW1cIixcbiAgICAgICAgc3R5bGU6IFwid2lkdGg6MjBweDsgcGFkZGluZzoxMHB4IWltcG9ydGFudFwiLFxuICAgICAgICBjaGlsZDogaWNvblxuICAgIH0pXG5cbiAgICBjcmVhdGVBY3RpdldpZGdldCh7XG4gICAgICAgIHdpZGdldDogYnRuLFxuICAgICAgICBvbkFjdGl2YXRlZDogb25DbGlja1xuICAgIH0pXG5cbiAgICBjb25zdCB0b29sdGlwID0gbmV3IFRvb2x0aXAoYnRuLCB0b29sdGlwVHh0KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0b3I6IGJ0bixcbiAgICAgICAgaWNvbixcbiAgICAgICAgdG9vbHRpcFxuICAgIH1cbn0iLCJpbXBvcnQgeyBQQVVTRV9JQ09OX05BTUUsIFBMQVlfSUNPTl9OQU1FIH0gZnJvbSBcIi4uLy4uL2NvbnN0c1wiXG5pbXBvcnQgeyBQbGF5UGF1c2UgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIlxuaW1wb3J0IHsgY3JlYXRlQ29udHJvbEJ0biB9IGZyb20gXCIuL0NvbnRyb2xCdG5cIlxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBvbkNsaWNrOiB7ICgpOiB2b2lkIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXlQYXVzZUJ1dHRvbihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25DbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBjb250cm9sQnRuID0gY3JlYXRlQ29udHJvbEJ0bih7XG4gICAgICAgIGljb25OYW1lOiBQTEFZX0lDT05fTkFNRSxcbiAgICAgICAgdG9vbHRpcFR4dDogJ1BsYXknLFxuICAgICAgICBvbkNsaWNrXG4gICAgfSlcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwbGF5UGF1c2UgaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgcmFkaW8sIHdoaWNoIG1lYW5zIHRoYXQgdGhlIG9wcG9zaXRlIGlzIHNob3duIChlLmcuIHdoZW4gdGhlIHJhZGlvIGlzIHBsYXlpbmcsIGl0IGlzIHNob3duIGEgcGF1c2UgaXRlbSlcbiAgICAgKiBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRQbGF5YmFja1N0YXR1cyhwbGF5UGF1c2U6IFBsYXlQYXVzZSkge1xuXG4gICAgICAgIGxldCB0b29sdGlwVHh0OiBzdHJpbmdcbiAgICAgICAgbGV0IGljb25OYW1lOiBzdHJpbmdcblxuICAgICAgICBpZiAocGxheVBhdXNlID09PSAnUGxheWluZycpIHtcbiAgICAgICAgICAgIHRvb2x0aXBUeHQgPSAnUGF1c2UnXG4gICAgICAgICAgICBpY29uTmFtZSA9IFBBVVNFX0lDT05fTkFNRVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXlQYXVzZSA9PT0gJ1BhdXNlZCcpIHtcbiAgICAgICAgICAgIHRvb2x0aXBUeHQgPSAnUGxheSdcbiAgICAgICAgICAgIGljb25OYW1lID0gUExBWV9JQ09OX05BTUVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xCdG4udG9vbHRpcC5zZXRfdGV4dCh0b29sdGlwVHh0KVxuICAgICAgICBjb250cm9sQnRuLmljb24uaWNvbl9uYW1lID0gaWNvbk5hbWVcblxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFjdG9yOiBjb250cm9sQnRuLmFjdG9yLFxuICAgICAgICBzZXRQbGF5YmFja1N0YXR1c1xuICAgIH1cblxufSIsImltcG9ydCB7IENPUFlfSUNPTl9OQU1FIH0gZnJvbSBcIi4uLy4uL2NvbnN0c1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udHJvbEJ0biB9IGZyb20gXCIuL0NvbnRyb2xCdG5cIjtcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgb25DbGljazogeyAoKTogdm9pZCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb3B5QnV0dG9uKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBvbkNsaWNrXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IGRlZmF1bHRUb29sdGlwVHh0ID0gXCJDb3B5IGN1cnJlbnQgc29uZyB0aXRsZSB0byBDbGlwYm9hcmRcIlxuXG4gICAgY29uc3QgY29udHJvbEJ0biA9IGNyZWF0ZUNvbnRyb2xCdG4oe1xuICAgICAgICBpY29uTmFtZTogQ09QWV9JQ09OX05BTUUsXG4gICAgICAgIHRvb2x0aXBUeHQ6IGRlZmF1bHRUb29sdGlwVHh0LFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGlja1xuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICAgICAgY29udHJvbEJ0bi50b29sdGlwLnNob3coKVxuICAgICAgICBvbkNsaWNrKClcbiAgICAgICAgLy8gc2hvd0NvcHlJblRvb2x0aXAoKVxuICAgIH1cblxuICAgIC8vIEZvciBzb21lIHJlYXNvbnMgSSBkb24ndCB1bmRlcnN0YW5kLCB0aGlzIGZ1bmN0aW9uIGhhcyBzdG9wcGVkIHdvcmtpbmcgYWZ0ZXIgcmVmYWN0b3JpbmcgdGhlIHBvcHVwIE1lbnUuIE5vIGlkZWEgaG93IHRvIGRlYnVnIHRoaXMuIFRoZXJlZm9yZSBkZWFjdGl2YXRpbmcgdGhpcyBmb3Igbm93IDotKC4gSXQgaXMgdGhyb3duIGFuICB3YXJuaW5nIHdoZW4gY2xpY2tpbmcgb24gdGhlIGJ1dHRvbiBidXQgdGhpcyBoYXMgbm90aGluZyB0byBkbyB3aXRoIHRoZSB0b29sdGlwXG4gICAgZnVuY3Rpb24gc2hvd0NvcHlJblRvb2x0aXAoKSB7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSBjb250cm9sQnRuLnRvb2x0aXBcbiAgICAgICAgdG9vbHRpcC5zZXRfdGV4dChcIkNvcGllZFwiKVxuICAgICAgICB0b29sdGlwLnNob3coKVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdG9vbHRpcC5oaWRlKClcbiAgICAgICAgICAgIHRvb2x0aXAuc2V0X3RleHQoZGVmYXVsdFRvb2x0aXBUeHQpXG4gICAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogY29udHJvbEJ0bi5hY3RvcixcbiAgICB9XG59IiwiaW1wb3J0IHsgRE9XTkxPQURfSUNPTl9OQU1FIH0gZnJvbSBcIi4uLy4uL2NvbnN0c1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udHJvbEJ0biB9IGZyb20gXCIuL0NvbnRyb2xCdG5cIjtcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgb25DbGljazogeyAoKTogdm9pZCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEb3dubG9hZEJ1dHRvbihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25DbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGNyZWF0ZUNvbnRyb2xCdG4oe1xuICAgICAgICBpY29uTmFtZTogRE9XTkxPQURfSUNPTl9OQU1FLFxuICAgICAgICB0b29sdGlwVHh0OiBcIkRvd25sb2FkIGN1cnJlbnQgc29uZyBmcm9tIFlvdXR1YmVcIixcbiAgICAgICAgb25DbGlja1xuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RvcjogZG93bmxvYWRCdXR0b24uYWN0b3JcbiAgICB9XG5cbn0iLCJjb25zdCB7IEJveExheW91dCB9ID0gaW1wb3J0cy5naS5TdFxuY29uc3QgeyBBY3RvckFsaWduIH0gPSBpbXBvcnRzLmdpLkNsdXR0ZXJcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgLyoqXG4gICAgICogdGhlIGJ0bnMgb24gdGhlIHRvb2xiYXIuIFRoZSBmaXJzdCBpcyBzaG93biBvbiB0aGUgbW9zdCBsZWZ0XG4gICAgICovXG4gICAgY29udHJvbEJ0bnM6IGltcG9ydHMuZ2kuU3QuQnV0dG9uW11cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1lZGlhQ29udHJvbFRvb2xiYXIgPSAoYXJnczogQXJndW1lbnRzKSA9PiB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGNvbnRyb2xCdG5zXG4gICAgfSA9IGFyZ3NcblxuICAgIGNvbnN0IHRvb2xiYXIgPSBuZXcgQm94TGF5b3V0KHtcbiAgICAgICAgc3R5bGVfY2xhc3M6IFwicmFkaW8tYXBwbGV0LW1lZGlhLWNvbnRyb2wtdG9vbGJhclwiLFxuICAgICAgICB4X2FsaWduOiBBY3RvckFsaWduLkNFTlRFUlxuICAgIH0pO1xuXG4gICAgY29udHJvbEJ0bnMuZm9yRWFjaChidG4gPT5cbiAgICAgICAgdG9vbGJhci5hZGRfY2hpbGQoYnRuKVxuICAgIClcblxuICAgIHJldHVybiB0b29sYmFyXG59XG4iLCJpbXBvcnQgeyBTVE9QX0lDT05fTkFNRSB9IGZyb20gXCIuLi8uLi9jb25zdHNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRyb2xCdG4gfSBmcm9tIFwiLi9Db250cm9sQnRuXCI7XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9uQ2xpY2s6IHsgKCk6IHZvaWQgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RvcEJ0bihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgb25DbGlja1xuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBzdG9wQnRuID0gY3JlYXRlQ29udHJvbEJ0bih7XG4gICAgICAgIGljb25OYW1lOiBTVE9QX0lDT05fTkFNRSxcbiAgICAgICAgdG9vbHRpcFR4dDogXCJTdG9wXCIsXG4gICAgICAgIG9uQ2xpY2tcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFjdG9yOiBzdG9wQnRuLmFjdG9yXG4gICAgfVxufSIsImNvbnN0IHsgQ2xpcGJvYXJkLCBDbGlwYm9hcmRUeXBlIH0gPSBpbXBvcnRzLmdpLlN0XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5VGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICBDbGlwYm9hcmQuZ2V0X2RlZmF1bHQoKS5zZXRfdGV4dChDbGlwYm9hcmRUeXBlLkNMSVBCT0FSRCwgdGV4dClcbn0iLCJpbXBvcnQgeyBQT1BVUF9NRU5VX0lURU1fQ0xBU1MgfSBmcm9tIFwiLi4vY29uc3RzXCJcbmltcG9ydCB7IGNyZWF0ZUFjdGl2V2lkZ2V0IH0gZnJvbSBcIi4uL2xpYi9BY3RpdldpZGdldFwiO1xuaW1wb3J0IHsgY3JlYXRlU2xpZGVyIH0gZnJvbSBcIi4uL2xpYi9TbGlkZXJcIjtcblxuY29uc3QgeyBCb3hMYXlvdXQsIExhYmVsIH0gPSBpbXBvcnRzLmdpLlN0XG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIC8qKiBwb3NpdGlvbiBpbiBzZWNvbmQgKi9cbiAgICBvblBvc2l0aW9uQ2hhbmdlZDogKHBvc2l0aW9uOiBudW1iZXIpID0+IHZvaWRcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2Vla2VyKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZFxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcgQm94TGF5b3V0KHtcbiAgICAgICAgc3R5bGVfY2xhc3M6IFBPUFVQX01FTlVfSVRFTV9DTEFTU1xuICAgIH0pXG5cbiAgICBjcmVhdGVBY3RpdldpZGdldCh7XG4gICAgICAgIHdpZGdldDogY29udGFpbmVyXG4gICAgfSlcblxuICAgIC8vIGxlbmd0aCBpbiBzZWNvbmRzXG4gICAgbGV0IGxlbmd0aDogbnVtYmVyID0gMTAwXG4gICAgLy8gcG9zaXRpb24gaW4gc2Vjb25kc1xuICAgIGxldCBwb3NpdGlvbjogbnVtYmVyXG5cbiAgICBjb25zdCBwb3NpdGlvbkxhYmVsID0gbmV3IExhYmVsKClcbiAgICBjb25zdCBsZW5ndGhMYWJlbCA9IG5ldyBMYWJlbCgpO1xuXG4gICAgY29uc3Qgc2xpZGVyID0gY3JlYXRlU2xpZGVyKHtcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAwLjUsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2VkOiBoYW5kbGVWYWx1ZUNoYW5nZWRcbiAgICB9KTtcblxuXG4gICAgW3Bvc2l0aW9uTGFiZWwsIHNsaWRlci5hY3RvciwgbGVuZ3RoTGFiZWxdLmZvckVhY2god2lkZ2V0ID0+IHtcbiAgICAgICAgY29udGFpbmVyLmFkZF9jaGlsZCh3aWRnZXQpXG4gICAgfSlcblxuICAgIC8qKiBAcGFyYW0gdmFsdWUgaW4gc2Vjb25kcyAqL1xuICAgIGZ1bmN0aW9uIHNldExlbmd0aCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIGxlbmd0aCA9IHZhbHVlXG4gICAgICAgIGxlbmd0aExhYmVsLnNldF90ZXh0KHNlY29uZHNUb0Zvcm1hdGVkTWluKHZhbHVlKSlcbiAgICAgICAgcmVmcmVzaFNsaWRlclZhbHVlKClcbiAgICB9XG5cbiAgICAvKiogQHBhcmFtIHZhbHVlIGluIHNlY29uZHMgKi9cbiAgICBmdW5jdGlvbiBzZXRQb3NpdGlvbih2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIHBvc2l0aW9uTGFiZWwuc2V0X3RleHQoc2Vjb25kc1RvRm9ybWF0ZWRNaW4ocG9zaXRpb24pKVxuICAgICAgICByZWZyZXNoU2xpZGVyVmFsdWUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZnJlc2hTbGlkZXJWYWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVyVmFsdWUgPSBsZW5ndGggPT09IDAgPyAwIDogTWF0aC5taW4ocG9zaXRpb24gLyBsZW5ndGgsIDEpXG4gICAgICAgIHNsaWRlci5zZXRWYWx1ZShzbGlkZXJWYWx1ZSwgdHJ1ZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVWYWx1ZUNoYW5nZWQodmFsdWU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHZhbHVlICogbGVuZ3RoXG5cbiAgICAgICAgb25Qb3NpdGlvbkNoYW5nZWQobmV3UG9zaXRpb24pXG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIGNvbnZlcnRzIHNlY29uZHMgdG8gYSBzdHJpbmcgaW4gdGhlIGZvcm0gb2Y6IG1tOnNzIFxuICAgICAqIFxuICAgICAqIGUuZy4gMTAgc2Vjb25kcyA9IDAwOjEwLCAxMDAgc2Vjb25kcyA9IDAxOjQwLCAgNjAwMCBzZWNvbmRzID0gMTAwOjAwXG4gICAgICogICAgICAqIFxuICAgICAqIEBwYXJhbSBzZWNvbmRzIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlY29uZHNUb0Zvcm1hdGVkTWluKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MClcbiAgICAgICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IHNlY29uZHMgLSBtaW51dGVzICogNjA7XG5cbiAgICAgICAgLy8gZW5zdXJlcyBtaW51dGVzIGFuZCBzZWNvbmRzIGFyZSBzaG93biB3aXRoIGF0IGxlYXN0IHR3byBkaWdpdHNcbiAgICAgICAgcmV0dXJuIFttaW51dGVzLCByZW1haW5pbmdTZWNvbmRzXS5tYXAodmFsdWUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVTdHJpbmcgPSB2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJylcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVN0cmluZ1xuICAgICAgICB9KS5qb2luKFwiOlwiKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFjdG9yOiBjb250YWluZXIsXG4gICAgICAgIHNldExlbmd0aCxcbiAgICAgICAgc2V0UG9zaXRpb25cbiAgICB9XG59IiwiY29uc3QgeyBCb3hMYXlvdXQsIERyYXdpbmdBcmVhIH0gPSBpbXBvcnRzLmdpLlN0XG5jb25zdCB7IExpbmVhckdyYWRpZW50IH0gPSBpbXBvcnRzLmdpLmNhaXJvXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXBhcmF0b3JNZW51SXRlbSgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcgQm94TGF5b3V0KHtcbiAgICAgICAgc3R5bGVfY2xhc3M6ICdwb3B1cC1tZW51LWl0ZW0nXG4gICAgfSlcblxuICAgIGNvbnN0IGRyYXdpbmdBcmVhID0gbmV3IERyYXdpbmdBcmVhKHtcbiAgICAgICAgc3R5bGVfY2xhc3M6ICdwb3B1cC1zZXBhcmF0b3ItbWVudS1pdGVtJyxcbiAgICAgICAgeF9leHBhbmQ6IHRydWVcbiAgICB9KVxuXG4gICAgY29udGFpbmVyLmFkZF9jaGlsZChkcmF3aW5nQXJlYSlcblxuICAgIGRyYXdpbmdBcmVhLmNvbm5lY3QoJ3JlcGFpbnQnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNyID0gZHJhd2luZ0FyZWEuZ2V0X2NvbnRleHQoKVxuXG4gICAgICAgIGNvbnN0IHRoZW1lTm9kZSA9IGRyYXdpbmdBcmVhLmdldF90aGVtZV9ub2RlKClcbiAgICAgICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZHJhd2luZ0FyZWEuZ2V0X3N1cmZhY2Vfc2l6ZSgpXG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoZW1lTm9kZS5nZXRfbGVuZ3RoKCctbWFyZ2luLWhvcml6b250YWwnKVxuICAgICAgICBjb25zdCBncmFkaWVudEhlaWdodCA9IHRoZW1lTm9kZS5nZXRfbGVuZ3RoKCctZ3JhZGllbnQtaGVpZ2h0JylcbiAgICAgICAgY29uc3Qgc3RhcnRDb2xvciA9IHRoZW1lTm9kZS5nZXRfY29sb3IoJy1ncmFkaWVudC1zdGFydCcpXG4gICAgICAgIGNvbnN0IGVuZENvbG9yID0gdGhlbWVOb2RlLmdldF9jb2xvcignLWdyYWRpZW50LWVuZCcpXG5cbiAgICAgICAgY29uc3QgZ3JhZGllbnRXaWR0aCA9ICh3aWR0aCAtIG1hcmdpbiAqIDIpO1xuICAgICAgICBjb25zdCBncmFkaWVudE9mZnNldCA9IChoZWlnaHQgLSBncmFkaWVudEhlaWdodCkgLyAyO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gbmV3IExpbmVhckdyYWRpZW50KG1hcmdpbiwgZ3JhZGllbnRPZmZzZXQsIHdpZHRoIC0gbWFyZ2luLCBncmFkaWVudE9mZnNldCArIGdyYWRpZW50SGVpZ2h0KVxuXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gY29uc3QgY29sb3JzID0gWydyZWQnLCAnZ3JlZW4nLCAnYmx1ZScsICdhbHBoYSddLm1hcChjb2xvciA9PiBzdGFydENvbG9yW2NvbG9yXSAvIDI1NSlcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQxMzAjaXNzdWVjb21tZW50LTQ5OTUyNTg5N1xuICAgICAgICBwYXR0ZXJuLmFkZENvbG9yU3RvcFJHQkEoMCwgc3RhcnRDb2xvci5yZWQgLyAyNTUsIHN0YXJ0Q29sb3IuZ3JlZW4gLyAyNTUsIHN0YXJ0Q29sb3IuYmx1ZSAvIDI1NSwgc3RhcnRDb2xvci5hbHBoYSAvIDI1NSlcbiAgICAgICAgcGF0dGVybi5hZGRDb2xvclN0b3BSR0JBKDAuNSwgZW5kQ29sb3IucmVkIC8gMjU1LCBlbmRDb2xvci5ncmVlbiAvIDI1NSwgZW5kQ29sb3IuYmx1ZSAvIDI1NSwgZW5kQ29sb3IuYWxwaGEgLyAyNTUpXG4gICAgICAgIHBhdHRlcm4uYWRkQ29sb3JTdG9wUkdCQSgxLCBzdGFydENvbG9yLnJlZCAvIDI1NSwgc3RhcnRDb2xvci5ncmVlbiAvIDI1NSwgc3RhcnRDb2xvci5ibHVlIC8gMjU1LCBzdGFydENvbG9yLmFscGhhIC8gMjU1KVxuXG4gICAgICAgIGNyLnNldFNvdXJjZShwYXR0ZXJuKVxuICAgICAgICBjci5yZWN0YW5nbGUobWFyZ2luLCBncmFkaWVudE9mZnNldCwgZ3JhZGllbnRXaWR0aCwgZ3JhZGllbnRIZWlnaHQpXG4gICAgICAgIGNyLmZpbGwoKVxuXG4gICAgICAgIGNyLiRkaXNwb3NlXG4gICAgfSlcblxuICAgIHJldHVybiBjb250YWluZXJcblxufSIsImNvbnN0IHsgc3Bhd25Db21tYW5kTGluZUFzeW5jSU8gfSA9IGltcG9ydHMubWlzYy51dGlsO1xuXG5leHBvcnQgY29uc3Qgc3Bhd25Db21tYW5kTGluZVByb21pc2UgPSBmdW5jdGlvbiAoY29tbWFuZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFtzdGRvdXQ6IHN0cmluZyB8IG51bGwsIHN0ZGVycjogc3RyaW5nIHwgbnVsbCwgZXhpdENvZGU6IG51bWJlcl0+KChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBzcGF3bkNvbW1hbmRMaW5lQXN5bmNJTyhjb21tYW5kLCAoc3Rkb3V0LCBzdGRlcnIsIGV4aXRDb2RlKSA9PiB7XG4gICAgICAgICAgICAoc3Rkb3V0KSA/IHJlc29sdmUoW251bGwsIHN0ZG91dCwgMF0pIDogcmVzb2x2ZShbc3RkZXJyLCBudWxsLCBleGl0Q29kZV0pXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuXG4iLCJjb25zdCB7IFN5c3RlbU5vdGlmaWNhdGlvblNvdXJjZSwgTm90aWZpY2F0aW9uIH0gPSBpbXBvcnRzLnVpLm1lc3NhZ2VUcmF5O1xuY29uc3QgeyBtZXNzYWdlVHJheSB9ID0gaW1wb3J0cy51aS5tYWluO1xuY29uc3QgeyBJY29uLCBJY29uVHlwZSB9ID0gaW1wb3J0cy5naS5TdFxuXG5pbXBvcnQgeyBSQURJT19TWU1CT0xJQ19JQ09OX05BTUUgfSBmcm9tIFwiLi4vLi4vY29uc3RzXCI7XG5cbmNvbnN0IG1lc3NhZ2VTb3VyY2UgPSBuZXcgU3lzdGVtTm90aWZpY2F0aW9uU291cmNlKCdSYWRpbyBBcHBsZXQnKVxubWVzc2FnZVRyYXkuYWRkKG1lc3NhZ2VTb3VyY2UpXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG5vdGlmaWNhdGlvblRleHQ6IHN0cmluZyxcbiAgICBpc01hcmt1cD86IGJvb2xlYW5cbiAgICB0cmFuc2llbnQ/OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBDdXN0b21Ob3RpZmljYXRpb24gZXh0ZW5kcyBpbXBvcnRzLnVpLm1lc3NhZ2VUcmF5Lk5vdGlmaWNhdGlvbiB7XG4gICAgbm90aWZ5OiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYXNpY05vdGlmaWNhdGlvbihhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgbm90aWZpY2F0aW9uVGV4dCxcbiAgICAgICAgaXNNYXJrdXAgPSBmYWxzZSxcbiAgICAgICAgdHJhbnNpZW50ID0gdHJ1ZVxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBpY29uID0gbmV3IEljb24oe1xuICAgICAgICBpY29uX3R5cGU6IEljb25UeXBlLlNZTUJPTElDLFxuICAgICAgICBpY29uX25hbWU6IFJBRElPX1NZTUJPTElDX0lDT05fTkFNRSxcbiAgICAgICAgaWNvbl9zaXplOiAyNVxuICAgIH0pXG5cbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKFxuICAgICAgICBtZXNzYWdlU291cmNlLFxuICAgICAgICBfX21ldGEubmFtZSxcbiAgICAgICAgbm90aWZpY2F0aW9uVGV4dCxcbiAgICAgICAgeyBpY29uLCBib2R5TWFya3VwOiBpc01hcmt1cCB9KSBhcyBDdXN0b21Ob3RpZmljYXRpb25cblxuICAgIG5vdGlmaWNhdGlvbi5zZXRUcmFuc2llbnQodHJhbnNpZW50KVxuXG4gICAgbm90aWZpY2F0aW9uLm5vdGlmeSA9ICgpID0+IHtcbiAgICAgICAgbWVzc2FnZVNvdXJjZS5ub3RpZnkobm90aWZpY2F0aW9uKVxuICAgIH1cblxuICAgIHJldHVybiBub3RpZmljYXRpb25cbn0iLCJpbXBvcnQgeyBjcmVhdGVCYXNpY05vdGlmaWNhdGlvbiB9IGZyb20gXCIuL05vdGlmaWNhdGlvbkJhc2VcIlxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICB0ZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeShhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdGV4dFxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBjcmVhdGVCYXNpY05vdGlmaWNhdGlvbih7XG4gICAgICAgIG5vdGlmaWNhdGlvblRleHQ6IHRleHRcbiAgICB9KVxuXG4gICAgbm90aWZpY2F0aW9uLm5vdGlmeSgpXG59IiwiaW1wb3J0IHsgc3Bhd25Db21tYW5kTGluZVByb21pc2UgfSBmcm9tIFwiLi4vZnVuY3Rpb25zL3Byb21pc2VIZWxwZXJzXCI7XG5cbmltcG9ydCB7IE1QUklTX1BMVUdJTl9QQVRILCBNUFJJU19QTFVHSU5fVVJMIH0gZnJvbSAnLi4vY29uc3RzJ1xuaW1wb3J0IHsgbm90aWZ5IH0gZnJvbSBcIi4uL3VpL05vdGlmaWNhdGlvbnMvR2VuZXJpY05vdGlmaWNhdGlvblwiO1xuXG5jb25zdCB7IGZpbmRfcHJvZ3JhbV9pbl9wYXRoLCBmaWxlX3Rlc3QsIEZpbGVUZXN0IH0gPSBpbXBvcnRzLmdpLkdMaWI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnN0YWxsTXB2V2l0aE1wcmlzKCkge1xuXG4gICAgY29uc3QgbXByaXNQbHVnaW5Eb3dubG9hZGVkID0gY2hlY2tNcHJpc1BsdWdpbkRvd25sb2FkZWQoKVxuICAgIGNvbnN0IG1wdkluc3RhbGxlZCA9IGNoZWNrTXB2SW5zdGFsbGVkKClcblxuICAgICFtcHJpc1BsdWdpbkRvd25sb2FkZWQgJiYgYXdhaXQgZG93bmxvYWRNcmlzUGx1Z2luSW50ZXJhY3RpdmUoKVxuXG4gICAgaWYgKCFtcHZJbnN0YWxsZWQpIHtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uVGV4dCA9IGBQbGVhc2UgJHttcHJpc1BsdWdpbkRvd25sb2FkZWQgPyAnJyA6ICdhbHNvJ30gaW5zdGFsbCB0aGUgbXB2IHBhY2thZ2UuYFxuICAgICAgICBub3RpZnkoeyB0ZXh0OiBub3RpZmljYXRpb25UZXh0IH0pXG4gICAgICAgIGF3YWl0IGluc3RhbGxNcHZJbnRlcmFjdGl2ZSgpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBjaGVja01wdkluc3RhbGxlZCgpIHtcbiAgICByZXR1cm4gZmluZF9wcm9ncmFtX2luX3BhdGgoJ21wdicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrTXByaXNQbHVnaW5Eb3dubG9hZGVkKCkge1xuICAgIHJldHVybiBmaWxlX3Rlc3QoTVBSSVNfUExVR0lOX1BBVEgsIEZpbGVUZXN0LklTX1JFR1VMQVIpXG59XG5cbmZ1bmN0aW9uIGluc3RhbGxNcHZJbnRlcmFjdGl2ZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGlmIChjaGVja01wdkluc3RhbGxlZCgpKSByZXR1cm4gcmVzb2x2ZSgpXG5cbiAgICAgICAgaWYgKCFmaW5kX3Byb2dyYW1faW5fcGF0aChcImFwdHVybFwiKSkgcmV0dXJuIHJlamVjdCgpXG5cbiAgICAgICAgY29uc3QgW3N0ZGVyciwgc3Rkb3V0LCBleGl0Q29kZV0gPSBhd2FpdCBzcGF3bkNvbW1hbmRMaW5lUHJvbWlzZShgXG4gICAgICAgICAgICBhcHR1cmwgYXB0Oi8vbXB2YFxuICAgICAgICApXG5cbiAgICAgICAgLy8gZXhpdENvZGUgMCBtZWFucyBzdWNlc3NmdWxseS4gU2VlOiBtYW4gYXB0dXJsXG4gICAgICAgIHJldHVybiAoZXhpdENvZGUgPT09IDApID8gcmVzb2x2ZSgpIDogcmVqZWN0KHN0ZGVycilcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBkb3dubG9hZE1yaXNQbHVnaW5JbnRlcmFjdGl2ZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGlmIChjaGVja01wcmlzUGx1Z2luRG93bmxvYWRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgW3N0ZGVyciwgc3Rkb3V0LCBleGl0Q29kZV0gPSBhd2FpdCBzcGF3bkNvbW1hbmRMaW5lUHJvbWlzZShcbiAgICAgICAgICAgIGBweXRob24zICAke19fbWV0YS5wYXRofS9kb3dubG9hZC1kaWFsb2ctbXByaXMucHlgXG4gICAgICAgIClcblxuICAgICAgICBpZiAoc3Rkb3V0LnRyaW0oKSAhPT0gJ0NvbnRpbnVlJykgeyByZXR1cm4gcmVqZWN0KCkgfVxuXG4gICAgICAgIFtzdGRlcnIsIHN0ZG91dCwgZXhpdENvZGVdID0gYXdhaXQgc3Bhd25Db21tYW5kTGluZVByb21pc2UoYFxuICAgICAgICAgICAgd2dldCAke01QUklTX1BMVUdJTl9VUkx9IC1PICR7TVBSSVNfUExVR0lOX1BBVEh9YCk7XG5cbiAgICAgICAgLy8gV2dldCBhbHdheXMgcHJpbnRzIHRvIHN0ZGVyciAtIGV4aXRjb2RlIDAgbWVhbnMgaXQgd2FzIHN1Y2Vzc2Z1bGwgXG4gICAgICAgIC8vIHNlZTogIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEzMDY2NTE4L3doeS1kb2VzLXdnZXQtb3V0cHV0LXRvLXN0ZGVyci1yYXRoZXItdGhhbi1zdGRvdXRcbiAgICAgICAgLy8gYW5kIGh0dHBzOi8vd3d3LmdudS5vcmcvc29mdHdhcmUvd2dldC9tYW51YWwvaHRtbF9ub2RlL0V4aXQtU3RhdHVzLmh0bWxcbiAgICAgICAgcmV0dXJuIChleGl0Q29kZSA9PT0gMCkgPyByZXNvbHZlKCkgOiByZWplY3Qoc3RkZXJyKVxuXG4gICAgfSlcbn1cblxuIiwiY29uc3QgeyBzcGF3bkNvbW1hbmRMaW5lQXN5bmNJTyB9ID0gaW1wb3J0cy5taXNjLnV0aWw7XG5jb25zdCB7IGdldF9ob21lX2RpciB9ID0gaW1wb3J0cy5naS5HTGliO1xuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGRvd25sb2FkRGlyOiBzdHJpbmcsXG4gICAgb25Eb3dubG9hZEZpbmlzaGVkOiAocGF0aDogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uRG93bmxvYWRGYWlsZWQ6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkU29uZ0Zyb21Zb3V0dWJlKGFyZ3M6IEFyZ3VtZW50cykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgZG93bmxvYWREaXIsXG4gICAgICAgIG9uRG93bmxvYWRGaW5pc2hlZCxcbiAgICAgICAgb25Eb3dubG9hZEZhaWxlZFxuICAgIH0gPSBhcmdzXG5cbiAgICBsZXQgaGFzQmVlbkNhbmNlbGxlZCA9IGZhbHNlXG5cbiAgICAvLyB3aGVuIHVzaW5nIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZXR0aW5ncywgdGhlIGRpciBzdGFydHMgd2l0aCB+IHdoYXQgY2FuJ3QgYmUgdW5kZXJzdGFuZCB3aGVuIGV4ZWN1dGluZyBjb21tYW5kLiBFbHNlIGl0IHN0YXJ0cyB3aXRoIGZpbGU6Ly8gd2hhdCB5b3V0dWJlLWRsIGNhbid0IGhhbmRsZS4gU2F2aW5nIHRvIG5ldHdvcmsgZGlyZWN0b3JpZXMgKGUuZy4gZnRwKSBkb2Vzbid0IHdvcmsgXG4gICAgLy8gVE9ETzogU2hvdWxkbid0IHRoaXMgYmUgZG9uZSBpbiBjb25maWdzKGF0IGxlYXN0IHJlcGxhY2luZyB+KT8gXG4gICAgY29uc3QgbXVzaWNfZGlyX2Fic29sdXQgPVxuICAgICAgICBkb3dubG9hZERpci5yZXBsYWNlKCd+JywgZ2V0X2hvbWVfZGlyKCkpLnJlcGxhY2UoJ2ZpbGU6Ly8nLCAnJylcblxuICAgIGNvbnN0IGRvd25sb2FkQ29tbWFuZCA9IGBcbiAgICAgICAgeW91dHViZS1kbCAtLW91dHB1dCBcIiR7bXVzaWNfZGlyX2Fic29sdXR9LyUodGl0bGUpcy4lKGV4dClzXCIgLS1leHRyYWN0LWF1ZGlvIC0tYXVkaW8tZm9ybWF0IG1wMyB5dHNlYXJjaDE6XCIke3RpdGxlLnJlcGxhY2UoJ1wiJywgJ1xcXCInKX1cIiAtLWFkZC1tZXRhZGF0YSAtLWVtYmVkLXRodW1ibmFpbGBcblxuICAgIGNvbnN0IHByb2Nlc3MgPSBzcGF3bkNvbW1hbmRMaW5lQXN5bmNJTyhkb3dubG9hZENvbW1hbmQsIChzdGRvdXQsIHN0ZGVycikgPT4ge1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGlmIChoYXNCZWVuQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgaGFzQmVlbkNhbmNlbGxlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGRlcnIpIHRocm93IG5ldyBFcnJvcihzdGRlcnIpXG5cbiAgICAgICAgICAgIGlmIChzdGRvdXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZFBhdGggPSBnZXREb3dubG9hZFBhdGgoc3Rkb3V0KVxuICAgICAgICAgICAgICAgIGlmICghZG93bmxvYWRQYXRoKSB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgbm90IHNhdmVkJylcblxuICAgICAgICAgICAgICAgIG9uRG93bmxvYWRGaW5pc2hlZChkb3dubG9hZFBhdGgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBnbG9iYWwubG9nRXJyb3IoYFRoZSBmb2xsb3dpbmcgZXJyb3Igb2NjdXJlZCBhdCB5b3V0dWJlIGRvd25sb2FkIGF0dGVtcHQ6ICR7ZXJyb3J9LiBUaGUgdXNlZCBkb3dubG9hZCBDb21tYW5kIHdhczogJHtkb3dubG9hZENvbW1hbmR9YClcbiAgICAgICAgICAgIG9uRG93bmxvYWRGYWlsZWQoKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaGFzQmVlbkNhbmNlbGxlZCA9IHRydWVcbiAgICAgICAgLy8gaXQgc2VlbXMgdG8gYmUgbm8gcHJvYmxlbSB0byBjYWxsIHRoaXMgYWZ0ZXIgdGhlIHByb2Nlc3MgaGFzIGFscmVhZHkgZmluaXNoZWRcbiAgICAgICAgcHJvY2Vzcy5mb3JjZV9leGl0KClcbiAgICB9XG5cbiAgICByZXR1cm4geyBjYW5jZWwgfVxufVxuXG5mdW5jdGlvbiBnZXREb3dubG9hZFBhdGgoc3Rkb3V0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBhcnJheU9mTGluZXMgPSBzdGRvdXQubWF0Y2goL1teXFxyXFxuXSsvZyk7XG5cbiAgICAvLyB0aGVyZSBpcyBvbmx5IG9uZSBsaW5lIGluIHN0ZG91dCB3aGljaCBnaXZlcyB0aGUgcGF0aCBvZiB0aGUgZG93bmxvYWRlZCBtcDMuIFRoaXMgc3RhcnQgd2l0aCBbZmZtcGVnXSBEZXN0aW5hdGlvbiAuLi5cbiAgICBjb25zdCBzZWFyY2hTdHJpbmcgPSAnW2ZmbXBlZ10gRGVzdGluYXRpb246ICdcblxuICAgIHJldHVybiBhcnJheU9mTGluZXMuZmluZChsaW5lID0+IGxpbmUuaW5jbHVkZXMoc2VhcmNoU3RyaW5nKSlcbiAgICAgICAgLnNwbGl0KHNlYXJjaFN0cmluZylbMV1cbn0iLCJpbXBvcnQgeyBBUFBMRVRfU0lURSB9IGZyb20gXCIuLi8uLi9jb25zdHNcIjtcbmltcG9ydCB7IGNyZWF0ZUJhc2ljTm90aWZpY2F0aW9uIH0gZnJvbSBcIi4vTm90aWZpY2F0aW9uQmFzZVwiO1xuY29uc3QgeyBzcGF3bkNvbW1hbmRMaW5lIH0gPSBpbXBvcnRzLm1pc2MudXRpbFxuY29uc3QgeyBnZXRfaG9tZV9kaXIgfSA9IGltcG9ydHMuZ2kuR0xpYjtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeVlvdXR1YmVEb3dubG9hZEZhaWxlZCgpIHtcblxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uVGV4dCA9XG4gICAgICAgIGBDb3VsZG4ndCBkb3dubG9hZCBTb25nIGZyb20gWW91dHViZSBkdWUgdG8gYW4gRXJyb3IuIE1ha2UgU3VyZSB5b3UgaGF2ZSB0aGUgbmV3ZXN0IHZlcnNpb24gb2YgeW91dHViZS1kbCBpbnN0YWxsZWQuIFxuICAgICAgICBcXG48Yj5JbXBvcnRhbnQ6PC9iPiBEb24ndCB1c2UgYXB0IGZvciB0aGUgaW5zdGFsbGF0aW9uIGJ1dCBmb2xsb3cgdGhlIGluc3RhbGxhdGlvbiBpbnN0cnVjdGlvbiBnaXZlbiBvbiB0aGUgUmFkaW8gQXBwbGV0IFNpdGUgaW4gdGhlIENpbm5hbW9uIFN0b3JlIGluc3RlYWRcbiAgICAgICAgXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHRoZSBsb2dzYFxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gY3JlYXRlQmFzaWNOb3RpZmljYXRpb24oe1xuICAgICAgICBub3RpZmljYXRpb25UZXh0LFxuICAgICAgICBpc01hcmt1cDogdHJ1ZSxcbiAgICAgICAgdHJhbnNpZW50OiBmYWxzZVxuICAgIH0pXG5cbiAgICBjb25zdCB2aWV3U3RvcmVCdG5JZCA9ICd2aWV3U3RvcmVCdG4nXG4gICAgY29uc3Qgdmlld0xvZ0J0bklkID0gJ3ZpZXdMb2dCdG4nXG5cbiAgICBub3RpZmljYXRpb24uYWRkQnV0dG9uKHZpZXdTdG9yZUJ0bklkLCAnVmlldyBJbnN0YWxsYXRpb24gSW5zdHJ1Y3Rpb24nKVxuICAgIG5vdGlmaWNhdGlvbi5hZGRCdXR0b24odmlld0xvZ0J0bklkLCBcIlZpZXcgTG9nc1wiKVxuXG4gICAgbm90aWZpY2F0aW9uLmNvbm5lY3QoJ2FjdGlvbi1pbnZva2VkJywgKGFjdG9yLCBpZCkgPT4ge1xuICAgICAgICBpZiAoaWQgPT09IHZpZXdTdG9yZUJ0bklkKSB7XG4gICAgICAgICAgICBzcGF3bkNvbW1hbmRMaW5lKGB4ZGctb3BlbiAke0FQUExFVF9TSVRFfSBgKVxuICAgICAgICB9XG4gICAgICAgIGlmIChpZCA9PT0gdmlld0xvZ0J0bklkKSB7XG4gICAgICAgICAgICBzcGF3bkNvbW1hbmRMaW5lKGB4ZGctb3BlbiAke2dldF9ob21lX2RpcigpfS8ueHNlc3Npb24tZXJyb3JzYClcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgIG5vdGlmaWNhdGlvbi5ub3RpZnkoKVxufSIsImltcG9ydCB7IGNyZWF0ZUJhc2ljTm90aWZpY2F0aW9uIH0gZnJvbSBcIi4vTm90aWZpY2F0aW9uQmFzZVwiO1xuXG5jb25zdCB7IHNwYXduQ29tbWFuZExpbmUgfSA9IGltcG9ydHMubWlzYy51dGlsXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIGRvd25sb2FkUGF0aDogc3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RpZnlZb3V0dWJlRG93bmxvYWRGaW5pc2hlZChhcmdzOiBBcmd1bWVudHMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgZG93bmxvYWRQYXRoXG4gICAgfSA9IGFyZ3NcblxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gY3JlYXRlQmFzaWNOb3RpZmljYXRpb24oe1xuICAgICAgICBub3RpZmljYXRpb25UZXh0OiBgRG93bmxvYWQgZmluaXNoZWQuIEZpbGUgc2F2ZWQgdG8gJHtkb3dubG9hZFBhdGh9YFxuICAgIH0pXG5cbiAgICBjb25zdCBwbGF5QnRuSWQgPSAnb3BlbkJ0bidcblxuICAgIG5vdGlmaWNhdGlvbi5hZGRCdXR0b24ocGxheUJ0bklkLCAnUGxheScpXG5cbiAgICBub3RpZmljYXRpb24uY29ubmVjdCgnYWN0aW9uLWludm9rZWQnLCAoYWN0b3IsIGlkKSA9PiB7XG5cbiAgICAgICAgaWYgKGlkID09PSBwbGF5QnRuSWQpIHtcbiAgICAgICAgICAgIHNwYXduQ29tbWFuZExpbmUoYHhkZy1vcGVuICcke2Rvd25sb2FkUGF0aH0nYClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBub3RpZmljYXRpb24ubm90aWZ5KClcbn0iLCJpbXBvcnQgeyBjcmVhdGVCYXNpY05vdGlmaWNhdGlvbiB9IGZyb20gXCIuL05vdGlmaWNhdGlvbkJhc2VcIjtcblxuaW50ZXJmYWNlIEFyZ3VtZW50cyB7XG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBvbkNhbmNlbENsaWNrZWQ6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeVlvdXR1YmVEb3dubG9hZFN0YXJ0ZWQoYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBvbkNhbmNlbENsaWNrZWRcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gY3JlYXRlQmFzaWNOb3RpZmljYXRpb24oe1xuICAgICAgICBub3RpZmljYXRpb25UZXh0OiBgRG93bmxvYWRpbmcgJHt0aXRsZX0gLi4uYCxcbiAgICB9KVxuXG4gICAgY29uc3QgY2FuY2VsQnRuSWQgPSAnY2FuY2VsQnRuJ1xuICAgIG5vdGlmaWNhdGlvbi5hZGRCdXR0b24oY2FuY2VsQnRuSWQsICdDYW5jZWwnKVxuXG4gICAgbm90aWZpY2F0aW9uLmNvbm5lY3QoJ2FjdGlvbi1pbnZva2VkJywgKGFjdG9yLCBpZCkgPT4ge1xuICAgICAgICBpZiAoaWQgPT09IGNhbmNlbEJ0bklkKSBvbkNhbmNlbENsaWNrZWQoKVxuICAgIH0pXG5cbiAgICBub3RpZmljYXRpb24ubm90aWZ5KClcbn0iLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBjcmVhdGVBcHBsZXRJY29uIH0gZnJvbSAnLi91aS9BcHBsZXQvQXBwbGV0SWNvbic7XG5pbXBvcnQgeyBjcmVhdGVBcHBsZXQgfSBmcm9tICcuL3VpL0FwcGxldC9BcHBsZXQnO1xuaW1wb3J0IHsgY3JlYXRlTXB2SGFuZGxlciB9IGZyb20gJy4vbXB2L01wdkhhbmRsZXInO1xuaW1wb3J0IHsgY3JlYXRlQ29uZmlnIH0gZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IHsgY3JlYXRlQXBwbGV0TGFiZWwgfSBmcm9tICcuL3VpL0FwcGxldC9BcHBsZXRMYWJlbCc7XG5pbXBvcnQgeyBjcmVhdGVBcHBsZXRUb29sdGlwIH0gZnJvbSAnLi91aS9BcHBsZXQvQXBwbGV0VG9vbHRpcCc7XG5pbXBvcnQgeyBDaGFubmVsU3RvcmUgfSBmcm9tICcuL0NoYW5uZWxTdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVDaGFubmVsTGlzdCB9IGZyb20gJy4vdWkvQ2hhbm5lbExpc3QvQ2hhbm5lbExpc3QnO1xuaW1wb3J0IHsgY3JlYXRlVm9sdW1lU2xpZGVyIH0gZnJvbSAnLi91aS9Wb2x1bWVTbGlkZXInO1xuaW1wb3J0IHsgY3JlYXRlUG9wdXBNZW51IH0gZnJvbSAnLi9saWIvUG9wdXBNZW51JztcbmltcG9ydCB7IGNyZWF0ZUluZm9TZWN0aW9uIH0gZnJvbSAnLi91aS9JbmZvU2VjdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVQbGF5UGF1c2VCdXR0b24gfSBmcm9tICcuL3VpL1Rvb2xiYXIvUGxheVBhdXNlQnV0dG9uJztcbmltcG9ydCB7IGNyZWF0ZUNvcHlCdXR0b24gfSBmcm9tICcuL3VpL1Rvb2xiYXIvQ29weUJ1dHRvbic7XG5pbXBvcnQgeyBjcmVhdGVEb3dubG9hZEJ1dHRvbiB9IGZyb20gJy4vdWkvVG9vbGJhci9Eb253bG9hZEJ1dHRvbic7XG5pbXBvcnQgeyBjcmVhdGVNZWRpYUNvbnRyb2xUb29sYmFyIH0gZnJvbSAnLi91aS9Ub29sYmFyL01lZGlhQ29udHJvbFRvb2xiYXInO1xuaW1wb3J0IHsgY3JlYXRlU3RvcEJ0biB9IGZyb20gJy4vdWkvVG9vbGJhci9TdG9wQnV0dG9uJztcbmltcG9ydCB7IGNvcHlUZXh0IH0gZnJvbSAnLi9mdW5jdGlvbnMvY29weVRleHQnO1xuaW1wb3J0IHsgY3JlYXRlU2Vla2VyIH0gZnJvbSAnLi91aS9TZWVrZXInO1xuaW1wb3J0IHsgY3JlYXRlU2VwYXJhdG9yTWVudUl0ZW0gfSBmcm9tICcuL2xpYi9Qb3B1cFNlcGVyYXRvcic7XG5pbXBvcnQgeyBpbnN0YWxsTXB2V2l0aE1wcmlzIH0gZnJvbSAnLi9tcHYvQ2hlY2tJbnN0YWxsYXRpb24nO1xuaW1wb3J0IHsgbm90aWZ5IH0gZnJvbSAnLi91aS9Ob3RpZmljYXRpb25zL0dlbmVyaWNOb3RpZmljYXRpb24nO1xuaW1wb3J0IHsgVk9MVU1FX0RFTFRBIH0gZnJvbSAnLi9jb25zdHMnO1xuaW1wb3J0IHsgQWR2YW5jZWRQbGF5YmFja1N0YXR1cywgQ2hhbm5lbCwgSWNvblR5cGUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGRvd25sb2FkU29uZ0Zyb21Zb3V0dWJlIH0gZnJvbSAnLi9mdW5jdGlvbnMvZG93bmxvYWRGcm9tWW91dHViZSc7XG5pbXBvcnQgeyBub3RpZnlZb3V0dWJlRG93bmxvYWRGYWlsZWQgfSBmcm9tICcuL3VpL05vdGlmaWNhdGlvbnMvWW91dHViZURvd25sb2FkRmFpbGVkTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IG5vdGlmeVlvdXR1YmVEb3dubG9hZEZpbmlzaGVkIH0gZnJvbSAnLi91aS9Ob3RpZmljYXRpb25zL1lvdXR1YmVEb3dubG9hZEZpbmlzaGVkTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IG5vdGlmeVlvdXR1YmVEb3dubG9hZFN0YXJ0ZWQgfSBmcm9tICcuL3VpL05vdGlmaWNhdGlvbnMvWW91dHViZURvd25sb2FkU3RhcnRlZE5vdGlmaWNhdGlvbic7XG5cblxuY29uc3QgeyBTY3JvbGxEaXJlY3Rpb24gfSA9IGltcG9ydHMuZ2kuQ2x1dHRlcjtcbmNvbnN0IHsgZ2V0QXBwbGV0RGVmaW5pdGlvbiB9ID0gaW1wb3J0cy51aS5hcHBsZXRNYW5hZ2VyO1xuY29uc3QgeyBwYW5lbE1hbmFnZXIgfSA9IGltcG9ydHMudWkubWFpblxuY29uc3QgeyBCb3hMYXlvdXQgfSA9IGltcG9ydHMuZ2kuU3RcblxuXG5pbnRlcmZhY2UgQXJndW1lbnRzIHtcbiAgICBvcmllbnRhdGlvbjogaW1wb3J0cy5naS5TdC5TaWRlLFxuICAgIHBhbmVsSGVpZ2h0OiBudW1iZXIsXG4gICAgaW5zdGFuY2VJZDogbnVtYmVyXG59XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gbWFpbihhcmdzOiBBcmd1bWVudHMpOiBpbXBvcnRzLnVpLmFwcGxldC5BcHBsZXQge1xuICAgIGNvbnN0IHtcbiAgICAgICAgb3JpZW50YXRpb24sXG4gICAgICAgIHBhbmVsSGVpZ2h0LFxuICAgICAgICBpbnN0YW5jZUlkXG4gICAgfSA9IGFyZ3NcblxuICAgIC8vIHRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBub3cuIE9wdGltYWxseSB0aGUgbGFzdFZvbHVtZSBzaG91bGQgYmUgc2F2ZWQgcGVyc2lzdGVudGx5IGVhY2ggdGltZSB0aGUgdm9sdW1lIGlzIGNoYW5nZWQgYnV0IHRoaXMgbGVhZCB0byBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpc3N1ZSBvbiBzY3JvbGxpbmcgYXQgdGhlIG1vbWVudC4gSG93ZXZlciB0aGlzIHNob3VsZG4ndCBiZSB0aGUgY2FzZSBhcyBpdCBpcyBubyBwcm9ibGVtIHRvIGxvZyB0aGUgdm9sdW1lIGVhY2ggdGltZSB0aGUgdm9sdW1lIGNoYW5nZXMgKHNvIGl0IGlzIGEgcHJvYmxlbSBpbiB0aGUgY29uZmlnIGltcGxlbWVudGF0aW9uKS4gQXMgYSB3b3JrYXJvdW5kIHRoZSB2b2x1bWUgaXMgb25seSBzYXZlZCBwZXJzaXN0ZW50bHkgd2hlbiB0aGUgcmFkaW8gc3RvcHMgYnV0IHRoZSB2b2x1bWUgb2J2aW91c2x5IGNhbid0IGJlIHJlY2VpdmVkIGFueW1vcmUgZnJvbSBkYnVzIHdoZW4gdGhlIHBsYXllciBoYXMgYmVlbiBhbHJlYWR5IHN0b3BwZWQgLi4uIFxuICAgIGxldCBsYXN0Vm9sdW1lOiBudW1iZXJcbiAgICBsZXQgbXB2SGFuZGxlcjogUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlTXB2SGFuZGxlcj5cblxuICAgIGxldCBpbnN0YWxsYXRpb25JblByb2dyZXNzID0gZmFsc2VcblxuICAgIGNvbnN0IGFwcGxldERlZmluaXRpb24gPSBnZXRBcHBsZXREZWZpbml0aW9uKHtcbiAgICAgICAgYXBwbGV0X2lkOiBpbnN0YW5jZUlkLFxuICAgIH0pXG5cbiAgICBjb25zdCBwYW5lbCA9IHBhbmVsTWFuYWdlci5wYW5lbHMuZmluZChwYW5lbCA9PlxuICAgICAgICBwYW5lbD8ucGFuZWxJZCA9PT0gYXBwbGV0RGVmaW5pdGlvbi5wYW5lbElkXG4gICAgKVxuXG4gICAgcGFuZWwuY29ubmVjdCgnaWNvbi1zaXplLWNoYW5nZWQnLCAoKSA9PiBhcHBsZXRJY29uLnVwZGF0ZUljb25TaXplKCkpXG5cbiAgICBjb25zdCBhcHBsZXRJY29uID0gY3JlYXRlQXBwbGV0SWNvbih7XG4gICAgICAgIGxvY2F0aW9uTGFiZWw6IGFwcGxldERlZmluaXRpb24ubG9jYXRpb25fbGFiZWwsXG4gICAgICAgIHBhbmVsXG4gICAgfSlcblxuICAgIGNvbnN0IGFwcGxldExhYmVsID0gY3JlYXRlQXBwbGV0TGFiZWwoKVxuXG4gICAgY29uc3QgYXBwbGV0ID0gY3JlYXRlQXBwbGV0KHtcbiAgICAgICAgaWNvbjogYXBwbGV0SWNvbi5hY3RvcixcbiAgICAgICAgbGFiZWw6IGFwcGxldExhYmVsLmFjdG9yLFxuICAgICAgICBpbnN0YW5jZUlkLFxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgcGFuZWxIZWlnaHQsXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZUFwcGxldENsaWNrZWQsXG4gICAgICAgIG9uU2Nyb2xsOiBoYW5kbGVTY3JvbGwsXG4gICAgICAgIG9uTWlkZGxlQ2xpY2s6ICgpID0+IG1wdkhhbmRsZXI/LnRvZ2dsZVBsYXlQYXVzZSgpLFxuICAgICAgICBvbkFwcGxldE1vdmVkOiAoKSA9PiBtcHZIYW5kbGVyPy5kZWFjdGl2YXRlQWxsTGlzdGVuZXIoKSxcbiAgICAgICAgb25BcHBsZXRSZW1vdmVkOiBoYW5kbGVBcHBsZXRSZW1vdmVkLFxuICAgICAgICBvblJpZ2h0Q2xpY2s6ICgpID0+IHBvcHVwTWVudT8uY2xvc2UoKVxuICAgIH0pXG5cbiAgICBjb25zdCBhcHBsZXRUb29sdGlwID0gY3JlYXRlQXBwbGV0VG9vbHRpcCh7XG4gICAgICAgIGFwcGxldCxcbiAgICAgICAgb3JpZW50YXRpb25cbiAgICB9KVxuXG4gICAgY29uc3QgY29uZmlncyA9IGNyZWF0ZUNvbmZpZyh7XG4gICAgICAgIHV1aWQ6IF9fbWV0YS51dWlkLFxuICAgICAgICBpbnN0YW5jZUlkLFxuXG4gICAgICAgIG9uSWNvbkNoYW5nZWQ6IGhhbmRsZUljb25UeXBlQ2hhbmdlZCxcbiAgICAgICAgb25JY29uQ29sb3JQbGF5aW5nQ2hhbmdlZDogKGNvbG9yKSA9PiB7XG4gICAgICAgICAgICBhcHBsZXRJY29uLnNldENvbG9yV2hlblBsYXlpbmcoY29sb3IpXG4gICAgICAgIH0sXG4gICAgICAgIG9uSWNvbkNvbG9yUGF1c2VkQ2hhbmdlZDogKGNvbG9yKSA9PiB7XG4gICAgICAgICAgICBhcHBsZXRJY29uLnNldENvbG9yV2hlblBhdXNlZChjb2xvcilcbiAgICAgICAgfSxcbiAgICAgICAgb25DaGFubmVsT25QYW5lbENoYW5nZWQ6IChjaGFubmVsT25QYW5lbCkgPT4ge1xuICAgICAgICAgICAgYXBwbGV0TGFiZWwuc2V0VmlzaWJpbGl0eShjaGFubmVsT25QYW5lbClcbiAgICAgICAgfSxcbiAgICAgICAgb25NeVN0YXRpb25zQ2hhbmdlZDogaGFuZGxlU3RhdGlvbnNVcGRhdGVkLFxuICAgIH0pXG5cbiAgICBjb25zdCBjaGFubmVsU3RvcmUgPSBuZXcgQ2hhbm5lbFN0b3JlKGNvbmZpZ3MudXNlclN0YXRpb25zKVxuXG4gICAgY29uc3QgY2hhbm5lbExpc3QgPSBjcmVhdGVDaGFubmVsTGlzdCh7XG4gICAgICAgIHN0YXRpb25OYW1lczogY2hhbm5lbFN0b3JlLmFjdGl2YXRlZENoYW5uZWxOYW1lcyxcbiAgICAgICAgb25DaGFubmVsQ2xpY2tlZDogaGFuZGxlQ2hhbm5lbENsaWNrZWRcbiAgICB9KVxuXG4gICAgY29uc3Qgdm9sdW1lU2xpZGVyID0gY3JlYXRlVm9sdW1lU2xpZGVyKHtcbiAgICAgICAgb25Wb2x1bWVDaGFuZ2VkOiAodm9sdW1lKSA9PiBtcHZIYW5kbGVyPy5zZXRWb2x1bWUodm9sdW1lKVxuICAgIH0pXG5cbiAgICBjb25zdCBwb3B1cE1lbnUgPSBjcmVhdGVQb3B1cE1lbnUoeyBsYXVuY2hlcjogYXBwbGV0LmFjdG9yIH0pXG4gICAgY29uc3QgaW5mb1NlY3Rpb24gPSBjcmVhdGVJbmZvU2VjdGlvbigpXG5cbiAgICAvL3Rvb2xiYXJcbiAgICBjb25zdCBwbGF5UGF1c2VCdG4gPSBjcmVhdGVQbGF5UGF1c2VCdXR0b24oe1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiBtcHZIYW5kbGVyLnRvZ2dsZVBsYXlQYXVzZSgpXG4gICAgfSlcblxuICAgIGNvbnN0IHN0b3BCdG4gPSBjcmVhdGVTdG9wQnRuKHtcbiAgICAgICAgb25DbGljazogKCkgPT4gbXB2SGFuZGxlci5zdG9wKClcbiAgICB9KVxuXG4gICAgY29uc3QgZG93bmxvYWRCdG4gPSBjcmVhdGVEb3dubG9hZEJ1dHRvbih7XG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZURvd25sb2FkQnRuQ2xpY2tlZFxuICAgIH0pXG5cbiAgICBjb25zdCBjb3B5QnRuID0gY3JlYXRlQ29weUJ1dHRvbih7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IGNvcHlUZXh0KG1wdkhhbmRsZXIuZ2V0Q3VycmVudFRpdGxlKCkpXG4gICAgfSlcblxuICAgIGNvbnN0IG1lZGlhQ29udHJvbFRvb2xiYXIgPSBjcmVhdGVNZWRpYUNvbnRyb2xUb29sYmFyKHtcbiAgICAgICAgY29udHJvbEJ0bnM6IFtwbGF5UGF1c2VCdG4uYWN0b3IsIGRvd25sb2FkQnRuLmFjdG9yLCBjb3B5QnRuLmFjdG9yLCBzdG9wQnRuLmFjdG9yXVxuICAgIH0pXG5cbiAgICBjb25zdCBzZWVrZXIgPSBjcmVhdGVTZWVrZXIoe1xuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZDogKHZhbHVlKSA9PiBtcHZIYW5kbGVyPy5zZXRQb3NpdGlvbih2YWx1ZSlcbiAgICB9KVxuXG4gICAgY29uc3QgcmFkaW9BY3RpdmVTZWN0aW9uID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgW1xuICAgICAgICBpbmZvU2VjdGlvbi5hY3RvcixcbiAgICAgICAgbWVkaWFDb250cm9sVG9vbGJhcixcbiAgICAgICAgdm9sdW1lU2xpZGVyLmFjdG9yLFxuICAgICAgICBzZWVrZXIuYWN0b3JcbiAgICBdLmZvckVhY2god2lkZ2V0ID0+IHtcbiAgICAgICAgcmFkaW9BY3RpdmVTZWN0aW9uLmFkZF9jaGlsZChjcmVhdGVTZXBhcmF0b3JNZW51SXRlbSgpKVxuICAgICAgICByYWRpb0FjdGl2ZVNlY3Rpb24uYWRkX2NoaWxkKHdpZGdldClcbiAgICB9KVxuXG4gICAgcG9wdXBNZW51LmFkZF9jaGlsZChjaGFubmVsTGlzdC5hY3RvcilcbiAgICBwb3B1cE1lbnUuYWRkX2NoaWxkKHJhZGlvQWN0aXZlU2VjdGlvbilcblxuICAgIG1wdkhhbmRsZXIgPSBjcmVhdGVNcHZIYW5kbGVyKHtcbiAgICAgICAgZ2V0SW5pdGlhbFZvbHVtZTogKCkgPT4geyByZXR1cm4gY29uZmlncy5pbml0aWFsVm9sdW1lIH0sXG4gICAgICAgIG9uVm9sdW1lQ2hhbmdlZDogaGFuZGxlVm9sdW1lQ2hhbmdlZCxcbiAgICAgICAgb25MZW5ndGhDaGFuZ2VkOiBoYW5sZGVMZW5ndGhDaGFuZ2VkLFxuICAgICAgICBvblBvc2l0aW9uQ2hhbmdlZDogaGFuZGxlUG9zaXRpb25DaGFuZ2VkLFxuICAgICAgICBjaGVja1VybFZhbGlkOiAodXJsKSA9PiBjaGFubmVsU3RvcmUuY2hlY2tVcmxWYWxpZCh1cmwpLFxuICAgICAgICBvblRpdGxlQ2hhbmdlZDogaGFuZGxlVGl0bGVDaGFuZ2VkLFxuICAgICAgICBvblBsYXliYWNrc3RhdHVzQ2hhbmdlZDogaGFuZGxlUGxheWJhY2tzdGF0dXNDaGFuZ2VkLFxuICAgICAgICBsYXN0VXJsOiBjb25maWdzLmxhc3RVcmwsXG4gICAgICAgIG9uVXJsQ2hhbmdlZDogaGFuZGxlVXJsQ2hhbmdlZFxuICAgIH0pXG5cbiAgICAvLyBDQUxMQkFDS1NcblxuICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFwcGxldENsaWNrZWQoKSB7XG5cbiAgICAgICAgaWYgKGluc3RhbGxhdGlvbkluUHJvZ3Jlc3MpIHJldHVyblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YWxsYXRpb25JblByb2dyZXNzID0gdHJ1ZVxuICAgICAgICAgICAgYXdhaXQgaW5zdGFsbE1wdldpdGhNcHJpcygpXG4gICAgICAgICAgICBwb3B1cE1lbnUudG9nZ2xlKClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvblRleHQgPSBcIkNvdWxkbid0IHN0YXJ0IHRoZSBhcHBsZXQuIE1ha2Ugc3VyZSBtcHYgaXMgaW5zdGFsbGVkIGFuZCB0aGUgbXB2IG1wcmlzIHBsdWdpbiBzYXZlZCBpbiB0aGUgY29uZmlncyBmb2xkZXIuXCJcbiAgICAgICAgICAgIG5vdGlmeSh7IHRleHQ6IG5vdGlmaWNhdGlvblRleHQgfSlcbiAgICAgICAgICAgIGdsb2JhbC5sb2dFcnJvcihlcnJvcilcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGluc3RhbGxhdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQXBwbGV0UmVtb3ZlZCgpIHtcbiAgICAgICAgbXB2SGFuZGxlcj8uZGVhY3RpdmF0ZUFsbExpc3RlbmVyKClcbiAgICAgICAgbXB2SGFuZGxlcj8uc3RvcCgpXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoc2Nyb2xsRGlyZWN0aW9uOiBpbXBvcnRzLmdpLkNsdXR0ZXIuU2Nyb2xsRGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHZvbHVtZUNoYW5nZSA9XG4gICAgICAgICAgICBzY3JvbGxEaXJlY3Rpb24gPT09IFNjcm9sbERpcmVjdGlvbi5VUCA/IFZPTFVNRV9ERUxUQSA6IC1WT0xVTUVfREVMVEFcbiAgICAgICAgbXB2SGFuZGxlci5pbmNyZWFzZURlY3JlYXNlVm9sdW1lKHZvbHVtZUNoYW5nZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDaGFubmVsQ2xpY2tlZChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbFVybCA9IGNoYW5uZWxTdG9yZS5nZXRDaGFubmVsVXJsKG5hbWUpXG4gICAgICAgIG1wdkhhbmRsZXIuc2V0VXJsKGNoYW5uZWxVcmwpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVGl0bGVDaGFuZ2VkKHRpdGxlOiBzdHJpbmcpIHtcbiAgICAgICAgaW5mb1NlY3Rpb24uc2V0U29uZ1RpdGxlKHRpdGxlKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVZvbHVtZUNoYW5nZWQodm9sdW1lOiBudW1iZXIgfCBudWxsKSB7XG4gICAgICAgIHZvbHVtZVNsaWRlci5zZXRWb2x1bWUodm9sdW1lKVxuICAgICAgICBhcHBsZXRUb29sdGlwLnNldFZvbHVtZSh2b2x1bWUpXG5cbiAgICAgICAgbGFzdFZvbHVtZSA9IHZvbHVtZVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUljb25UeXBlQ2hhbmdlZChpY29uVHlwZTogSWNvblR5cGUpIHtcbiAgICAgICAgYXBwbGV0SWNvbi5zZXRJY29uVHlwZShpY29uVHlwZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTdGF0aW9uc1VwZGF0ZWQoc3RhdGlvbnM6IENoYW5uZWxbXSkge1xuXG4gICAgICAgIGNvbnN0IHN0YXRpb25zQ2hhbmdlZCA9IGNoYW5uZWxTdG9yZS5jaGVja0xpc3RDaGFuZ2VkKHN0YXRpb25zKVxuXG4gICAgICAgIGlmICghc3RhdGlvbnNDaGFuZ2VkKSByZXR1cm5cblxuICAgICAgICBjaGFubmVsU3RvcmUuY2hhbm5lbExpc3QgPSBzdGF0aW9uc1xuICAgICAgICBjaGFubmVsTGlzdC5zZXRTdGF0aW9uTmFtZXMoY2hhbm5lbFN0b3JlLmFjdGl2YXRlZENoYW5uZWxOYW1lcylcblxuICAgICAgICBjb25zdCBsYXN0VXJsVmFsaWQgPSBjaGFubmVsU3RvcmUuY2hlY2tVcmxWYWxpZChjb25maWdzLmxhc3RVcmwpXG4gICAgICAgIGlmICghbGFzdFVybFZhbGlkKSBtcHZIYW5kbGVyLnN0b3AoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBsYXliYWNrc3RhdHVzQ2hhbmdlZChwbGF5YmFja3N0YXR1czogQWR2YW5jZWRQbGF5YmFja1N0YXR1cykge1xuXG4gICAgICAgIGlmIChwbGF5YmFja3N0YXR1cyA9PT0gJ1N0b3BwZWQnKSB7XG4gICAgICAgICAgICByYWRpb0FjdGl2ZVNlY3Rpb24uaGlkZSgpXG4gICAgICAgICAgICBjb25maWdzLmxhc3RWb2x1bWUgPSBsYXN0Vm9sdW1lXG4gICAgICAgICAgICBjb25maWdzLmxhc3RVcmwgPSBudWxsXG4gICAgICAgICAgICBhcHBsZXRMYWJlbC5zZXRUZXh0KG51bGwpXG4gICAgICAgICAgICBoYW5kbGVWb2x1bWVDaGFuZ2VkKG51bGwpXG4gICAgICAgICAgICBwb3B1cE1lbnUuY2xvc2UoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXliYWNrc3RhdHVzICE9PSAnU3RvcHBlZCcgJiYgIXJhZGlvQWN0aXZlU2VjdGlvbi52aXNpYmxlKVxuICAgICAgICAgICAgcmFkaW9BY3RpdmVTZWN0aW9uLnNob3coKVxuXG4gICAgICAgIGNoYW5uZWxMaXN0LnNldFBsYXliYWNrU3RhdHVzKHBsYXliYWNrc3RhdHVzKVxuICAgICAgICBhcHBsZXRJY29uLnNldFBsYXliYWNrU3RhdHVzKHBsYXliYWNrc3RhdHVzKVxuXG4gICAgICAgIGlmIChwbGF5YmFja3N0YXR1cyA9PT0gJ1BsYXlpbmcnIHx8IHBsYXliYWNrc3RhdHVzID09PSAnUGF1c2VkJykge1xuICAgICAgICAgICAgcGxheVBhdXNlQnRuLnNldFBsYXliYWNrU3RhdHVzKHBsYXliYWNrc3RhdHVzKVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVVcmxDaGFuZ2VkKHVybDogc3RyaW5nKSB7XG5cbiAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSB1cmwgPyBjaGFubmVsU3RvcmUuZ2V0Q2hhbm5lbE5hbWUodXJsKSA6IG51bGxcblxuICAgICAgICBhcHBsZXRMYWJlbC5zZXRUZXh0KGNoYW5uZWxOYW1lKVxuXG4gICAgICAgIGNoYW5uZWxMaXN0LnNldEN1cnJlbnRDaGFubmVsKGNoYW5uZWxOYW1lKVxuICAgICAgICBpbmZvU2VjdGlvbi5zZXRDaGFubmVsKGNoYW5uZWxOYW1lKVxuICAgICAgICBjb25maWdzLmxhc3RVcmwgPSB1cmxcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5sZGVMZW5ndGhDaGFuZ2VkKGxlbmd0aDogbnVtYmVyKSB7XG4gICAgICAgIHNlZWtlci5zZXRMZW5ndGgobGVuZ3RoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIHNlZWtlcj8uc2V0UG9zaXRpb24ocG9zaXRpb24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRG93bmxvYWRCdG5DbGlja2VkKCkge1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gbXB2SGFuZGxlci5nZXRDdXJyZW50VGl0bGUoKVxuXG4gICAgICAgIGNvbnN0IGRvd25sb2FkUHJvY2VzcyA9IGRvd25sb2FkU29uZ0Zyb21Zb3V0dWJlKHtcbiAgICAgICAgICAgIGRvd25sb2FkRGlyOiBjb25maWdzLm11c2ljRG93bmxvYWREaXIsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIG9uRG93bmxvYWRGaW5pc2hlZDogKHBhdGgpID0+IG5vdGlmeVlvdXR1YmVEb3dubG9hZEZpbmlzaGVkKHtcbiAgICAgICAgICAgICAgICBkb3dubG9hZFBhdGg6IHBhdGhcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25Eb3dubG9hZEZhaWxlZDogbm90aWZ5WW91dHViZURvd25sb2FkRmFpbGVkXG4gICAgICAgIH0pXG5cbiAgICAgICAgbm90aWZ5WW91dHViZURvd25sb2FkU3RhcnRlZCh7XG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIG9uQ2FuY2VsQ2xpY2tlZDogKCkgPT4gZG93bmxvYWRQcm9jZXNzLmNhbmNlbCgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGFwcGxldFxuXG59XG5cblxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n")}},__webpack_require__={d:(Q,F)=>{for(var U in F)__webpack_require__.o(F,U)&&!__webpack_require__.o(Q,U)&&Object.defineProperty(Q,U,{enumerable:!0,get:F[U]})}};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,F)=>Object.prototype.hasOwnProperty.call(Q,F),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_modules__[19](0,__webpack_exports__,__webpack_require__),radioApplet=__webpack_exports__})();