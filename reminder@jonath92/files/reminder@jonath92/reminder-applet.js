var reminderApplet;(()=>{"use strict";var __webpack_modules__={447:(__unused_webpack_module,exports)=>{eval("var __webpack_unused_export__;\n\n__webpack_unused_export__ = true;\nvar _a = imports.gi.St, BoxLayout = _a.BoxLayout, Bin = _a.Bin, Side = _a.Side;\nvar _b = imports.ui.main, uiGroup = _b.uiGroup, layoutManager = _b.layoutManager, panelManager = _b.panelManager, pushModal = _b.pushModal, popModal = _b.popModal;\nvar KEY_Escape = imports.gi.Clutter.KEY_Escape;\nvar util_get_transformed_allocation = imports.gi.Cinnamon.util_get_transformed_allocation;\nvar PanelLoc = imports.ui.popupMenu.PanelLoc;\nfunction createPopupMenu(args) {\n    var launcher = args.launcher;\n    var box = new BoxLayout({\n        style_class: 'popup-menu-content',\n        vertical: true,\n        visible: false\n    });\n    // only for styling purposes\n    var bin = new Bin({\n        style_class: 'menu',\n        child: box,\n        visible: false\n    });\n    uiGroup.add_child(bin);\n    box.connect('key-press-event', function (actor, event) {\n        event.get_key_symbol() === KEY_Escape && close();\n    });\n    launcher.connect('queue-relayout', function () {\n        if (!box.visible)\n            return;\n        setTimeout(function () {\n            setLayout();\n        }, 0);\n    });\n    bin.connect('queue-relayout', function () {\n        if (!box.visible)\n            return;\n        setTimeout(function () {\n            setLayout();\n        }, 0);\n    });\n    function setLayout() {\n        var freeSpace = calculateFreeSpace();\n        var maxHeight = calculateMaxHeight(freeSpace);\n        box.style = \"max-height: \" + maxHeight + \"px;\";\n        var _a = calculatePosition(maxHeight, freeSpace), xPos = _a[0], yPos = _a[1];\n        // Without Math.floor, the popup menu gets for some reason blurred on some themes (e.g. Adapta Nokto)!\n        bin.set_position(Math.floor(xPos), Math.floor(yPos));\n    }\n    function calculateFreeSpace() {\n        var _a, _b, _c, _d;\n        var monitor = layoutManager.findMonitorForActor(launcher);\n        var visiblePanels = panelManager.getPanelsInMonitor(monitor.index);\n        var panelSizes = new Map(visiblePanels.map(function (panel) {\n            var width = 0, height = 0;\n            if (panel.getIsVisible()) {\n                width = panel.actor.width;\n                height = panel.actor.height;\n            }\n            return [panel.panelPosition, { width: width, height: height }];\n        }));\n        return {\n            left: monitor.x + (((_a = panelSizes.get(PanelLoc.left)) === null || _a === void 0 ? void 0 : _a.width) || 0),\n            bottom: monitor.y + monitor.height - (((_b = panelSizes.get(PanelLoc.bottom)) === null || _b === void 0 ? void 0 : _b.height) || 0),\n            top: monitor.y + (((_c = panelSizes.get(PanelLoc.top)) === null || _c === void 0 ? void 0 : _c.height) || 0),\n            right: monitor.x + monitor.width - (((_d = panelSizes.get(PanelLoc.right)) === null || _d === void 0 ? void 0 : _d.width) || 0)\n        };\n    }\n    function calculateMaxHeight(freeSpace) {\n        var freeSpaceHeight = (freeSpace.bottom - freeSpace.top) / global.ui_scale;\n        var boxThemeNode = box.get_theme_node();\n        var binThemeNode = bin.get_theme_node();\n        var paddingTop = boxThemeNode.get_padding(Side.TOP);\n        var paddingBottom = boxThemeNode.get_padding(Side.BOTTOM);\n        var borderWidthTop = binThemeNode.get_border_width(Side.TOP);\n        var borderWidthBottom = binThemeNode.get_border_width(Side.BOTTOM);\n        var maxHeight = freeSpaceHeight - paddingBottom - paddingTop - borderWidthTop - borderWidthBottom;\n        return maxHeight;\n    }\n    function calculatePosition(maxHeight, freeSpace) {\n        var appletBox = util_get_transformed_allocation(launcher);\n        var _a = box.get_preferred_size(), minWidth = _a[0], minHeight = _a[1], natWidth = _a[2], natHeight = _a[3];\n        var margin = (natWidth - appletBox.get_width()) / 2;\n        var xLeftNormal = Math.max(freeSpace.left, appletBox.x1 - margin);\n        var xRightNormal = appletBox.x2 + margin;\n        var xLeftMax = freeSpace.right - appletBox.get_width() - margin * 2;\n        var xLeft = (xRightNormal < freeSpace.right) ? xLeftNormal : xLeftMax;\n        var yTopNormal = Math.max(appletBox.y1, freeSpace.top);\n        var yBottomNormal = yTopNormal + natHeight;\n        var yTopMax = freeSpace.bottom - box.height;\n        var yTop = (yBottomNormal < freeSpace.bottom) ? yTopNormal : yTopMax;\n        return [xLeft, yTop];\n    }\n    function toggle() {\n        box.visible ? close() : open();\n    }\n    // no idea why it sometimes needs to be bin and sometimes box ...\n    function open() {\n        setLayout();\n        bin.show();\n        box.show();\n        launcher.add_style_pseudo_class('checked');\n        pushModal(box);\n        // For some reason, it is emmited the button-press event when clicking e.g on the desktop but the button-release-event when clicking on another applet\n        global.stage.connect('button-press-event', handleClick);\n        global.stage.connect('button-release-event', handleClick);\n    }\n    function close() {\n        if (!box.visible)\n            return;\n        bin.hide();\n        box.hide();\n        launcher.remove_style_pseudo_class('checked');\n        popModal(box);\n    }\n    function handleClick(actor, event) {\n        if (!box.visible) {\n            return;\n        }\n        var clickedActor = event.get_source();\n        var binClicked = box.contains(clickedActor);\n        var appletClicked = launcher.contains(clickedActor);\n        (!binClicked && !appletClicked) && close();\n    }\n    box.toggle = toggle;\n    // TODO: remove close\n    box.close = close;\n    return box;\n}\nexports.S = createPopupMenu;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQ3LmpzIiwibWFwcGluZ3MiOiI7QUFBYTtBQUNiLHlCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDhCQUE4QjtBQUN6RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtaW5kZXJBcHBsZXQvLi9ub2RlX21vZHVsZXMvY2lubmFtb25wb3B1cC9pbmRleC5qcz9hMGM2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBfYSA9IGltcG9ydHMuZ2kuU3QsIEJveExheW91dCA9IF9hLkJveExheW91dCwgQmluID0gX2EuQmluLCBTaWRlID0gX2EuU2lkZTtcbnZhciBfYiA9IGltcG9ydHMudWkubWFpbiwgdWlHcm91cCA9IF9iLnVpR3JvdXAsIGxheW91dE1hbmFnZXIgPSBfYi5sYXlvdXRNYW5hZ2VyLCBwYW5lbE1hbmFnZXIgPSBfYi5wYW5lbE1hbmFnZXIsIHB1c2hNb2RhbCA9IF9iLnB1c2hNb2RhbCwgcG9wTW9kYWwgPSBfYi5wb3BNb2RhbDtcbnZhciBLRVlfRXNjYXBlID0gaW1wb3J0cy5naS5DbHV0dGVyLktFWV9Fc2NhcGU7XG52YXIgdXRpbF9nZXRfdHJhbnNmb3JtZWRfYWxsb2NhdGlvbiA9IGltcG9ydHMuZ2kuQ2lubmFtb24udXRpbF9nZXRfdHJhbnNmb3JtZWRfYWxsb2NhdGlvbjtcbnZhciBQYW5lbExvYyA9IGltcG9ydHMudWkucG9wdXBNZW51LlBhbmVsTG9jO1xuZnVuY3Rpb24gY3JlYXRlUG9wdXBNZW51KGFyZ3MpIHtcbiAgICB2YXIgbGF1bmNoZXIgPSBhcmdzLmxhdW5jaGVyO1xuICAgIHZhciBib3ggPSBuZXcgQm94TGF5b3V0KHtcbiAgICAgICAgc3R5bGVfY2xhc3M6ICdwb3B1cC1tZW51LWNvbnRlbnQnLFxuICAgICAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9KTtcbiAgICAvLyBvbmx5IGZvciBzdHlsaW5nIHB1cnBvc2VzXG4gICAgdmFyIGJpbiA9IG5ldyBCaW4oe1xuICAgICAgICBzdHlsZV9jbGFzczogJ21lbnUnLFxuICAgICAgICBjaGlsZDogYm94LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0pO1xuICAgIHVpR3JvdXAuYWRkX2NoaWxkKGJpbik7XG4gICAgYm94LmNvbm5lY3QoJ2tleS1wcmVzcy1ldmVudCcsIGZ1bmN0aW9uIChhY3RvciwgZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuZ2V0X2tleV9zeW1ib2woKSA9PT0gS0VZX0VzY2FwZSAmJiBjbG9zZSgpO1xuICAgIH0pO1xuICAgIGxhdW5jaGVyLmNvbm5lY3QoJ3F1ZXVlLXJlbGF5b3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWJveC52aXNpYmxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldExheW91dCgpO1xuICAgICAgICB9LCAwKTtcbiAgICB9KTtcbiAgICBiaW4uY29ubmVjdCgncXVldWUtcmVsYXlvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghYm94LnZpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0TGF5b3V0KCk7XG4gICAgICAgIH0sIDApO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHNldExheW91dCgpIHtcbiAgICAgICAgdmFyIGZyZWVTcGFjZSA9IGNhbGN1bGF0ZUZyZWVTcGFjZSgpO1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gY2FsY3VsYXRlTWF4SGVpZ2h0KGZyZWVTcGFjZSk7XG4gICAgICAgIGJveC5zdHlsZSA9IFwibWF4LWhlaWdodDogXCIgKyBtYXhIZWlnaHQgKyBcInB4O1wiO1xuICAgICAgICB2YXIgX2EgPSBjYWxjdWxhdGVQb3NpdGlvbihtYXhIZWlnaHQsIGZyZWVTcGFjZSksIHhQb3MgPSBfYVswXSwgeVBvcyA9IF9hWzFdO1xuICAgICAgICAvLyBXaXRob3V0IE1hdGguZmxvb3IsIHRoZSBwb3B1cCBtZW51IGdldHMgZm9yIHNvbWUgcmVhc29uIGJsdXJyZWQgb24gc29tZSB0aGVtZXMgKGUuZy4gQWRhcHRhIE5va3RvKSFcbiAgICAgICAgYmluLnNldF9wb3NpdGlvbihNYXRoLmZsb29yKHhQb3MpLCBNYXRoLmZsb29yKHlQb3MpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlRnJlZVNwYWNlKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHZhciBtb25pdG9yID0gbGF5b3V0TWFuYWdlci5maW5kTW9uaXRvckZvckFjdG9yKGxhdW5jaGVyKTtcbiAgICAgICAgdmFyIHZpc2libGVQYW5lbHMgPSBwYW5lbE1hbmFnZXIuZ2V0UGFuZWxzSW5Nb25pdG9yKG1vbml0b3IuaW5kZXgpO1xuICAgICAgICB2YXIgcGFuZWxTaXplcyA9IG5ldyBNYXAodmlzaWJsZVBhbmVscy5tYXAoZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSAwLCBoZWlnaHQgPSAwO1xuICAgICAgICAgICAgaWYgKHBhbmVsLmdldElzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBwYW5lbC5hY3Rvci53aWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBwYW5lbC5hY3Rvci5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3BhbmVsLnBhbmVsUG9zaXRpb24sIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9XTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbW9uaXRvci54ICsgKCgoX2EgPSBwYW5lbFNpemVzLmdldChQYW5lbExvYy5sZWZ0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndpZHRoKSB8fCAwKSxcbiAgICAgICAgICAgIGJvdHRvbTogbW9uaXRvci55ICsgbW9uaXRvci5oZWlnaHQgLSAoKChfYiA9IHBhbmVsU2l6ZXMuZ2V0KFBhbmVsTG9jLmJvdHRvbSkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oZWlnaHQpIHx8IDApLFxuICAgICAgICAgICAgdG9wOiBtb25pdG9yLnkgKyAoKChfYyA9IHBhbmVsU2l6ZXMuZ2V0KFBhbmVsTG9jLnRvcCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5oZWlnaHQpIHx8IDApLFxuICAgICAgICAgICAgcmlnaHQ6IG1vbml0b3IueCArIG1vbml0b3Iud2lkdGggLSAoKChfZCA9IHBhbmVsU2l6ZXMuZ2V0KFBhbmVsTG9jLnJpZ2h0KSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLndpZHRoKSB8fCAwKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVNYXhIZWlnaHQoZnJlZVNwYWNlKSB7XG4gICAgICAgIHZhciBmcmVlU3BhY2VIZWlnaHQgPSAoZnJlZVNwYWNlLmJvdHRvbSAtIGZyZWVTcGFjZS50b3ApIC8gZ2xvYmFsLnVpX3NjYWxlO1xuICAgICAgICB2YXIgYm94VGhlbWVOb2RlID0gYm94LmdldF90aGVtZV9ub2RlKCk7XG4gICAgICAgIHZhciBiaW5UaGVtZU5vZGUgPSBiaW4uZ2V0X3RoZW1lX25vZGUoKTtcbiAgICAgICAgdmFyIHBhZGRpbmdUb3AgPSBib3hUaGVtZU5vZGUuZ2V0X3BhZGRpbmcoU2lkZS5UT1ApO1xuICAgICAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IGJveFRoZW1lTm9kZS5nZXRfcGFkZGluZyhTaWRlLkJPVFRPTSk7XG4gICAgICAgIHZhciBib3JkZXJXaWR0aFRvcCA9IGJpblRoZW1lTm9kZS5nZXRfYm9yZGVyX3dpZHRoKFNpZGUuVE9QKTtcbiAgICAgICAgdmFyIGJvcmRlcldpZHRoQm90dG9tID0gYmluVGhlbWVOb2RlLmdldF9ib3JkZXJfd2lkdGgoU2lkZS5CT1RUT00pO1xuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gZnJlZVNwYWNlSGVpZ2h0IC0gcGFkZGluZ0JvdHRvbSAtIHBhZGRpbmdUb3AgLSBib3JkZXJXaWR0aFRvcCAtIGJvcmRlcldpZHRoQm90dG9tO1xuICAgICAgICByZXR1cm4gbWF4SGVpZ2h0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihtYXhIZWlnaHQsIGZyZWVTcGFjZSkge1xuICAgICAgICB2YXIgYXBwbGV0Qm94ID0gdXRpbF9nZXRfdHJhbnNmb3JtZWRfYWxsb2NhdGlvbihsYXVuY2hlcik7XG4gICAgICAgIHZhciBfYSA9IGJveC5nZXRfcHJlZmVycmVkX3NpemUoKSwgbWluV2lkdGggPSBfYVswXSwgbWluSGVpZ2h0ID0gX2FbMV0sIG5hdFdpZHRoID0gX2FbMl0sIG5hdEhlaWdodCA9IF9hWzNdO1xuICAgICAgICB2YXIgbWFyZ2luID0gKG5hdFdpZHRoIC0gYXBwbGV0Qm94LmdldF93aWR0aCgpKSAvIDI7XG4gICAgICAgIHZhciB4TGVmdE5vcm1hbCA9IE1hdGgubWF4KGZyZWVTcGFjZS5sZWZ0LCBhcHBsZXRCb3gueDEgLSBtYXJnaW4pO1xuICAgICAgICB2YXIgeFJpZ2h0Tm9ybWFsID0gYXBwbGV0Qm94LngyICsgbWFyZ2luO1xuICAgICAgICB2YXIgeExlZnRNYXggPSBmcmVlU3BhY2UucmlnaHQgLSBhcHBsZXRCb3guZ2V0X3dpZHRoKCkgLSBtYXJnaW4gKiAyO1xuICAgICAgICB2YXIgeExlZnQgPSAoeFJpZ2h0Tm9ybWFsIDwgZnJlZVNwYWNlLnJpZ2h0KSA/IHhMZWZ0Tm9ybWFsIDogeExlZnRNYXg7XG4gICAgICAgIHZhciB5VG9wTm9ybWFsID0gTWF0aC5tYXgoYXBwbGV0Qm94LnkxLCBmcmVlU3BhY2UudG9wKTtcbiAgICAgICAgdmFyIHlCb3R0b21Ob3JtYWwgPSB5VG9wTm9ybWFsICsgbmF0SGVpZ2h0O1xuICAgICAgICB2YXIgeVRvcE1heCA9IGZyZWVTcGFjZS5ib3R0b20gLSBib3guaGVpZ2h0O1xuICAgICAgICB2YXIgeVRvcCA9ICh5Qm90dG9tTm9ybWFsIDwgZnJlZVNwYWNlLmJvdHRvbSkgPyB5VG9wTm9ybWFsIDogeVRvcE1heDtcbiAgICAgICAgcmV0dXJuIFt4TGVmdCwgeVRvcF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgICAgYm94LnZpc2libGUgPyBjbG9zZSgpIDogb3BlbigpO1xuICAgIH1cbiAgICAvLyBubyBpZGVhIHdoeSBpdCBzb21ldGltZXMgbmVlZHMgdG8gYmUgYmluIGFuZCBzb21ldGltZXMgYm94IC4uLlxuICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIHNldExheW91dCgpO1xuICAgICAgICBiaW4uc2hvdygpO1xuICAgICAgICBib3guc2hvdygpO1xuICAgICAgICBsYXVuY2hlci5hZGRfc3R5bGVfcHNldWRvX2NsYXNzKCdjaGVja2VkJyk7XG4gICAgICAgIHB1c2hNb2RhbChib3gpO1xuICAgICAgICAvLyBGb3Igc29tZSByZWFzb24sIGl0IGlzIGVtbWl0ZWQgdGhlIGJ1dHRvbi1wcmVzcyBldmVudCB3aGVuIGNsaWNraW5nIGUuZyBvbiB0aGUgZGVza3RvcCBidXQgdGhlIGJ1dHRvbi1yZWxlYXNlLWV2ZW50IHdoZW4gY2xpY2tpbmcgb24gYW5vdGhlciBhcHBsZXRcbiAgICAgICAgZ2xvYmFsLnN0YWdlLmNvbm5lY3QoJ2J1dHRvbi1wcmVzcy1ldmVudCcsIGhhbmRsZUNsaWNrKTtcbiAgICAgICAgZ2xvYmFsLnN0YWdlLmNvbm5lY3QoJ2J1dHRvbi1yZWxlYXNlLWV2ZW50JywgaGFuZGxlQ2xpY2spO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCFib3gudmlzaWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgYmluLmhpZGUoKTtcbiAgICAgICAgYm94LmhpZGUoKTtcbiAgICAgICAgbGF1bmNoZXIucmVtb3ZlX3N0eWxlX3BzZXVkb19jbGFzcygnY2hlY2tlZCcpO1xuICAgICAgICBwb3BNb2RhbChib3gpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhhY3RvciwgZXZlbnQpIHtcbiAgICAgICAgaWYgKCFib3gudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGlja2VkQWN0b3IgPSBldmVudC5nZXRfc291cmNlKCk7XG4gICAgICAgIHZhciBiaW5DbGlja2VkID0gYm94LmNvbnRhaW5zKGNsaWNrZWRBY3Rvcik7XG4gICAgICAgIHZhciBhcHBsZXRDbGlja2VkID0gbGF1bmNoZXIuY29udGFpbnMoY2xpY2tlZEFjdG9yKTtcbiAgICAgICAgKCFiaW5DbGlja2VkICYmICFhcHBsZXRDbGlja2VkKSAmJiBjbG9zZSgpO1xuICAgIH1cbiAgICBib3gudG9nZ2xlID0gdG9nZ2xlO1xuICAgIC8vIFRPRE86IHJlbW92ZSBjbG9zZVxuICAgIGJveC5jbG9zZSA9IGNsb3NlO1xuICAgIHJldHVybiBib3g7XG59XG5leHBvcnRzLmNyZWF0ZVBvcHVwTWVudSA9IGNyZWF0ZVBvcHVwTWVudTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///447\n")},20:module=>{eval("\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYix1QkFBdUIsRUFBRTtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxrQkFBa0IsbUJBQW1CO0FBQ3JDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxpQkFBaUIsb0JBQW9CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtaW5kZXJBcHBsZXQvLi9ub2RlX21vZHVsZXMvZGVjb2RlLXVyaS1jb21wb25lbnQvaW5kZXguanM/ZjIzNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgdG9rZW4gPSAnJVthLWYwLTldezJ9JztcbnZhciBzaW5nbGVNYXRjaGVyID0gbmV3IFJlZ0V4cCh0b2tlbiwgJ2dpJyk7XG52YXIgbXVsdGlNYXRjaGVyID0gbmV3IFJlZ0V4cCgnKCcgKyB0b2tlbiArICcpKycsICdnaScpO1xuXG5mdW5jdGlvbiBkZWNvZGVDb21wb25lbnRzKGNvbXBvbmVudHMsIHNwbGl0KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVHJ5IHRvIGRlY29kZSB0aGUgZW50aXJlIHN0cmluZyBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY29tcG9uZW50cy5qb2luKCcnKSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIERvIG5vdGhpbmdcblx0fVxuXG5cdGlmIChjb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBjb21wb25lbnRzO1xuXHR9XG5cblx0c3BsaXQgPSBzcGxpdCB8fCAxO1xuXG5cdC8vIFNwbGl0IHRoZSBhcnJheSBpbiAyIHBhcnRzXG5cdHZhciBsZWZ0ID0gY29tcG9uZW50cy5zbGljZSgwLCBzcGxpdCk7XG5cdHZhciByaWdodCA9IGNvbXBvbmVudHMuc2xpY2Uoc3BsaXQpO1xuXG5cdHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmNhbGwoW10sIGRlY29kZUNvbXBvbmVudHMobGVmdCksIGRlY29kZUNvbXBvbmVudHMocmlnaHQpKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpbnB1dCk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHZhciB0b2tlbnMgPSBpbnB1dC5tYXRjaChzaW5nbGVNYXRjaGVyKTtcblxuXHRcdGZvciAodmFyIGkgPSAxOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpbnB1dCA9IGRlY29kZUNvbXBvbmVudHModG9rZW5zLCBpKS5qb2luKCcnKTtcblxuXHRcdFx0dG9rZW5zID0gaW5wdXQubWF0Y2goc2luZ2xlTWF0Y2hlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChpbnB1dCkge1xuXHQvLyBLZWVwIHRyYWNrIG9mIGFsbCB0aGUgcmVwbGFjZW1lbnRzIGFuZCBwcmVmaWxsIHRoZSBtYXAgd2l0aCB0aGUgYEJPTWBcblx0dmFyIHJlcGxhY2VNYXAgPSB7XG5cdFx0JyVGRSVGRic6ICdcXHVGRkZEXFx1RkZGRCcsXG5cdFx0JyVGRiVGRSc6ICdcXHVGRkZEXFx1RkZGRCdcblx0fTtcblxuXHR2YXIgbWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdHdoaWxlIChtYXRjaCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZWNvZGUgYXMgYmlnIGNodW5rcyBhcyBwb3NzaWJsZVxuXHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMF0pO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IGRlY29kZShtYXRjaFswXSk7XG5cblx0XHRcdGlmIChyZXN1bHQgIT09IG1hdGNoWzBdKSB7XG5cdFx0XHRcdHJlcGxhY2VNYXBbbWF0Y2hbMF1dID0gcmVzdWx0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG1hdGNoID0gbXVsdGlNYXRjaGVyLmV4ZWMoaW5wdXQpO1xuXHR9XG5cblx0Ly8gQWRkIGAlQzJgIGF0IHRoZSBlbmQgb2YgdGhlIG1hcCB0byBtYWtlIHN1cmUgaXQgZG9lcyBub3QgcmVwbGFjZSB0aGUgY29tYmluYXRvciBiZWZvcmUgZXZlcnl0aGluZyBlbHNlXG5cdHJlcGxhY2VNYXBbJyVDMiddID0gJ1xcdUZGRkQnO1xuXG5cdHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXMocmVwbGFjZU1hcCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gUmVwbGFjZSBhbGwgZGVjb2RlZCBjb21wb25lbnRzXG5cdFx0dmFyIGtleSA9IGVudHJpZXNbaV07XG5cdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoa2V5LCAnZycpLCByZXBsYWNlTWFwW2tleV0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbmNvZGVkVVJJKSB7XG5cdGlmICh0eXBlb2YgZW5jb2RlZFVSSSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBgZW5jb2RlZFVSSWAgdG8gYmUgb2YgdHlwZSBgc3RyaW5nYCwgZ290IGAnICsgdHlwZW9mIGVuY29kZWRVUkkgKyAnYCcpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRlbmNvZGVkVVJJID0gZW5jb2RlZFVSSS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcblxuXHRcdC8vIFRyeSB0aGUgYnVpbHQgaW4gZGVjb2RlciBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZFVSSSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIEZhbGxiYWNrIHRvIGEgbW9yZSBhZHZhbmNlZCBkZWNvZGVyXG5cdFx0cmV0dXJuIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVVJJKTtcblx0fVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n")},806:module=>{eval("\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA2LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW1pbmRlckFwcGxldC8uL25vZGVfbW9kdWxlcy9maWx0ZXItb2JqL2luZGV4LmpzPzczNDgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBwcmVkaWNhdGUpIHtcblx0dmFyIHJldCA9IHt9O1xuXHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG5cdHZhciBpc0FyciA9IEFycmF5LmlzQXJyYXkocHJlZGljYXRlKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIga2V5ID0ga2V5c1tpXTtcblx0XHR2YXIgdmFsID0gb2JqW2tleV07XG5cblx0XHRpZiAoaXNBcnIgPyBwcmVkaWNhdGUuaW5kZXhPZihrZXkpICE9PSAtMSA6IHByZWRpY2F0ZShrZXksIHZhbCwgb2JqKSkge1xuXHRcdFx0cmV0W2tleV0gPSB2YWw7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///806\n")},563:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\nconst strictUriEncode = __webpack_require__(610);\nconst decodeComponent = __webpack_require__(20);\nconst splitOnFirst = __webpack_require__(500);\nconst filterObject = __webpack_require__(806);\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2Isd0JBQXdCLG1CQUFPLENBQUMsR0FBbUI7QUFDbkQsd0JBQXdCLG1CQUFPLENBQUMsRUFBc0I7QUFDdEQscUJBQXFCLG1CQUFPLENBQUMsR0FBZ0I7QUFDN0MscUJBQXFCLG1CQUFPLENBQUMsR0FBWTs7QUFFekM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQSxlQUFlO0FBQ2YsYUFBYTs7QUFFYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0RBQXdELDJDQUEyQztBQUNuRztBQUNBOztBQUVBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLHlEQUF5RCxZQUFZOztBQUVyRTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQzs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwyR0FBMkc7QUFDeEg7O0FBRUEsV0FBVyxJQUFJLEVBQUUsWUFBWSxFQUFFLEtBQUs7QUFDcEM7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsUUFBUSxnQ0FBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUEsZUFBZTtBQUNmOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW1pbmRlckFwcGxldC8uL25vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvaW5kZXguanM/NzJiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCBzdHJpY3RVcmlFbmNvZGUgPSByZXF1aXJlKCdzdHJpY3QtdXJpLWVuY29kZScpO1xuY29uc3QgZGVjb2RlQ29tcG9uZW50ID0gcmVxdWlyZSgnZGVjb2RlLXVyaS1jb21wb25lbnQnKTtcbmNvbnN0IHNwbGl0T25GaXJzdCA9IHJlcXVpcmUoJ3NwbGl0LW9uLWZpcnN0Jyk7XG5jb25zdCBmaWx0ZXJPYmplY3QgPSByZXF1aXJlKCdmaWx0ZXItb2JqJyk7XG5cbmNvbnN0IGlzTnVsbE9yVW5kZWZpbmVkID0gdmFsdWUgPT4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuY29uc3QgZW5jb2RlRnJhZ21lbnRJZGVudGlmaWVyID0gU3ltYm9sKCdlbmNvZGVGcmFnbWVudElkZW50aWZpZXInKTtcblxuZnVuY3Rpb24gZW5jb2RlckZvckFycmF5Rm9ybWF0KG9wdGlvbnMpIHtcblx0c3dpdGNoIChvcHRpb25zLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOlxuXHRcdFx0cmV0dXJuIGtleSA9PiAocmVzdWx0LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRjb25zdCBpbmRleCA9IHJlc3VsdC5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHZhbHVlID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHQob3B0aW9ucy5za2lwTnVsbCAmJiB2YWx1ZSA9PT0gbnVsbCkgfHxcblx0XHRcdFx0XHQob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgdmFsdWUgPT09ICcnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsuLi5yZXN1bHQsIFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1snLCBpbmRleCwgJ10nXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdC4uLnJlc3VsdCxcblx0XHRcdFx0XHRbZW5jb2RlKGtleSwgb3B0aW9ucyksICdbJywgZW5jb2RlKGluZGV4LCBvcHRpb25zKSwgJ109JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJylcblx0XHRcdFx0XTtcblx0XHRcdH07XG5cblx0XHRjYXNlICdicmFja2V0Jzpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHZhbHVlID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHQob3B0aW9ucy5za2lwTnVsbCAmJiB2YWx1ZSA9PT0gbnVsbCkgfHxcblx0XHRcdFx0XHQob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgdmFsdWUgPT09ICcnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsuLi5yZXN1bHQsIFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1tdJ10uam9pbignJyldO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFsuLi5yZXN1bHQsIFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1tdPScsIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyldLmpvaW4oJycpXTtcblx0XHRcdH07XG5cblx0XHRjYXNlICdjb21tYSc6XG5cdFx0Y2FzZSAnc2VwYXJhdG9yJzpcblx0XHRjYXNlICdicmFja2V0LXNlcGFyYXRvcic6IHtcblx0XHRcdGNvbnN0IGtleVZhbHVlU2VwID0gb3B0aW9ucy5hcnJheUZvcm1hdCA9PT0gJ2JyYWNrZXQtc2VwYXJhdG9yJyA/XG5cdFx0XHRcdCdbXT0nIDpcblx0XHRcdFx0Jz0nO1xuXG5cdFx0XHRyZXR1cm4ga2V5ID0+IChyZXN1bHQsIHZhbHVlKSA9PiB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0KG9wdGlvbnMuc2tpcE51bGwgJiYgdmFsdWUgPT09IG51bGwpIHx8XG5cdFx0XHRcdFx0KG9wdGlvbnMuc2tpcEVtcHR5U3RyaW5nICYmIHZhbHVlID09PSAnJylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRyYW5zbGF0ZSBudWxsIHRvIGFuIGVtcHR5IHN0cmluZyBzbyB0aGF0IGl0IGRvZXNuJ3Qgc2VyaWFsaXplIGFzICdudWxsJ1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlID09PSBudWxsID8gJycgOiB2YWx1ZTtcblxuXHRcdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHJldHVybiBbW2VuY29kZShrZXksIG9wdGlvbnMpLCBrZXlWYWx1ZVNlcCwgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtbcmVzdWx0LCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKG9wdGlvbnMuYXJyYXlGb3JtYXRTZXBhcmF0b3IpXTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHZhbHVlID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHQob3B0aW9ucy5za2lwTnVsbCAmJiB2YWx1ZSA9PT0gbnVsbCkgfHxcblx0XHRcdFx0XHQob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgdmFsdWUgPT09ICcnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsuLi5yZXN1bHQsIGVuY29kZShrZXksIG9wdGlvbnMpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbLi4ucmVzdWx0LCBbZW5jb2RlKGtleSwgb3B0aW9ucyksICc9JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdGxldCByZXN1bHQ7XG5cblx0c3dpdGNoIChvcHRpb25zLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRyZXN1bHQgPSAvXFxbKFxcZCopXFxdJC8uZXhlYyhrZXkpO1xuXG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXGQqXFxdJC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIXJlc3VsdCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHt9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XVtyZXN1bHRbMV1dID0gdmFsdWU7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSA9PiB7XG5cdFx0XHRcdHJlc3VsdCA9IC8oXFxbXFxdKSQvLmV4ZWMoa2V5KTtcblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcW1xcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbdmFsdWVdO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRjYXNlICdzZXBhcmF0b3InOlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRjb25zdCBpc0FycmF5ID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5pbmNsdWRlcyhvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKTtcblx0XHRcdFx0Y29uc3QgaXNFbmNvZGVkQXJyYXkgPSAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhaXNBcnJheSAmJiBkZWNvZGUodmFsdWUsIG9wdGlvbnMpLmluY2x1ZGVzKG9wdGlvbnMuYXJyYXlGb3JtYXRTZXBhcmF0b3IpKTtcblx0XHRcdFx0dmFsdWUgPSBpc0VuY29kZWRBcnJheSA/IGRlY29kZSh2YWx1ZSwgb3B0aW9ucykgOiB2YWx1ZTtcblx0XHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBpc0FycmF5IHx8IGlzRW5jb2RlZEFycmF5ID8gdmFsdWUuc3BsaXQob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcikubWFwKGl0ZW0gPT4gZGVjb2RlKGl0ZW0sIG9wdGlvbnMpKSA6IHZhbHVlID09PSBudWxsID8gdmFsdWUgOiBkZWNvZGUodmFsdWUsIG9wdGlvbnMpO1xuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gbmV3VmFsdWU7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldC1zZXBhcmF0b3InOlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRjb25zdCBpc0FycmF5ID0gLyhcXFtcXF0pJC8udGVzdChrZXkpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXFxdJC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIWlzQXJyYXkpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWUgPyBkZWNvZGUodmFsdWUsIG9wdGlvbnMpIDogdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgYXJyYXlWYWx1ZSA9IHZhbHVlID09PSBudWxsID9cblx0XHRcdFx0XHRbXSA6XG5cdFx0XHRcdFx0dmFsdWUuc3BsaXQob3B0aW9ucy5hcnJheUZvcm1hdFNlcGFyYXRvcikubWFwKGl0ZW0gPT4gZGVjb2RlKGl0ZW0sIG9wdGlvbnMpKTtcblxuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IGFycmF5VmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IFtdLmNvbmNhdChhY2N1bXVsYXRvcltrZXldLCBhcnJheVZhbHVlKTtcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUFycmF5Rm9ybWF0U2VwYXJhdG9yKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IHZhbHVlLmxlbmd0aCAhPT0gMSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2FycmF5Rm9ybWF0U2VwYXJhdG9yIG11c3QgYmUgc2luZ2xlIGNoYXJhY3RlciBzdHJpbmcnKTtcblx0fVxufVxuXG5mdW5jdGlvbiBlbmNvZGUodmFsdWUsIG9wdGlvbnMpIHtcblx0aWYgKG9wdGlvbnMuZW5jb2RlKSB7XG5cdFx0cmV0dXJuIG9wdGlvbnMuc3RyaWN0ID8gc3RyaWN0VXJpRW5jb2RlKHZhbHVlKSA6IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuXHRpZiAob3B0aW9ucy5kZWNvZGUpIHtcblx0XHRyZXR1cm4gZGVjb2RlQ29tcG9uZW50KHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24ga2V5c1NvcnRlcihpbnB1dCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRyZXR1cm4gaW5wdXQuc29ydCgpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4ga2V5c1NvcnRlcihPYmplY3Qua2V5cyhpbnB1dCkpXG5cdFx0XHQuc29ydCgoYSwgYikgPT4gTnVtYmVyKGEpIC0gTnVtYmVyKGIpKVxuXHRcdFx0Lm1hcChrZXkgPT4gaW5wdXRba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUhhc2goaW5wdXQpIHtcblx0Y29uc3QgaGFzaFN0YXJ0ID0gaW5wdXQuaW5kZXhPZignIycpO1xuXHRpZiAoaGFzaFN0YXJ0ICE9PSAtMSkge1xuXHRcdGlucHV0ID0gaW5wdXQuc2xpY2UoMCwgaGFzaFN0YXJ0KTtcblx0fVxuXG5cdHJldHVybiBpbnB1dDtcbn1cblxuZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcblx0bGV0IGhhc2ggPSAnJztcblx0Y29uc3QgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcblx0aWYgKGhhc2hTdGFydCAhPT0gLTEpIHtcblx0XHRoYXNoID0gdXJsLnNsaWNlKGhhc2hTdGFydCk7XG5cdH1cblxuXHRyZXR1cm4gaGFzaDtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdChpbnB1dCkge1xuXHRpbnB1dCA9IHJlbW92ZUhhc2goaW5wdXQpO1xuXHRjb25zdCBxdWVyeVN0YXJ0ID0gaW5wdXQuaW5kZXhPZignPycpO1xuXHRpZiAocXVlcnlTdGFydCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQuc2xpY2UocXVlcnlTdGFydCArIDEpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVZhbHVlKHZhbHVlLCBvcHRpb25zKSB7XG5cdGlmIChvcHRpb25zLnBhcnNlTnVtYmVycyAmJiAhTnVtYmVyLmlzTmFOKE51bWJlcih2YWx1ZSkpICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnRyaW0oKSAhPT0gJycpKSB7XG5cdFx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMucGFyc2VCb29sZWFucyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAodmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnIHx8IHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScpKSB7XG5cdFx0dmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKHF1ZXJ5LCBvcHRpb25zKSB7XG5cdG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcblx0XHRkZWNvZGU6IHRydWUsXG5cdFx0c29ydDogdHJ1ZSxcblx0XHRhcnJheUZvcm1hdDogJ25vbmUnLFxuXHRcdGFycmF5Rm9ybWF0U2VwYXJhdG9yOiAnLCcsXG5cdFx0cGFyc2VOdW1iZXJzOiBmYWxzZSxcblx0XHRwYXJzZUJvb2xlYW5zOiBmYWxzZVxuXHR9LCBvcHRpb25zKTtcblxuXHR2YWxpZGF0ZUFycmF5Rm9ybWF0U2VwYXJhdG9yKG9wdGlvbnMuYXJyYXlGb3JtYXRTZXBhcmF0b3IpO1xuXG5cdGNvbnN0IGZvcm1hdHRlciA9IHBhcnNlckZvckFycmF5Rm9ybWF0KG9wdGlvbnMpO1xuXG5cdC8vIENyZWF0ZSBhbiBvYmplY3Qgd2l0aCBubyBwcm90b3R5cGVcblx0Y29uc3QgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHRpZiAodHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRxdWVyeSA9IHF1ZXJ5LnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCAnJyk7XG5cblx0aWYgKCFxdWVyeSkge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRmb3IgKGNvbnN0IHBhcmFtIG9mIHF1ZXJ5LnNwbGl0KCcmJykpIHtcblx0XHRpZiAocGFyYW0gPT09ICcnKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRsZXQgW2tleSwgdmFsdWVdID0gc3BsaXRPbkZpcnN0KG9wdGlvbnMuZGVjb2RlID8gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykgOiBwYXJhbSwgJz0nKTtcblxuXHRcdC8vIE1pc3NpbmcgYD1gIHNob3VsZCBiZSBgbnVsbGA6XG5cdFx0Ly8gaHR0cDovL3czLm9yZy9UUi8yMDEyL1dELXVybC0yMDEyMDUyNC8jY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdHZhbHVlID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBbJ2NvbW1hJywgJ3NlcGFyYXRvcicsICdicmFja2V0LXNlcGFyYXRvciddLmluY2x1ZGVzKG9wdGlvbnMuYXJyYXlGb3JtYXQpID8gdmFsdWUgOiBkZWNvZGUodmFsdWUsIG9wdGlvbnMpO1xuXHRcdGZvcm1hdHRlcihkZWNvZGUoa2V5LCBvcHRpb25zKSwgdmFsdWUsIHJldCk7XG5cdH1cblxuXHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZXQpKSB7XG5cdFx0Y29uc3QgdmFsdWUgPSByZXRba2V5XTtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yIChjb25zdCBrIG9mIE9iamVjdC5rZXlzKHZhbHVlKSkge1xuXHRcdFx0XHR2YWx1ZVtrXSA9IHBhcnNlVmFsdWUodmFsdWVba10sIG9wdGlvbnMpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXRba2V5XSA9IHBhcnNlVmFsdWUodmFsdWUsIG9wdGlvbnMpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNvcnQgPT09IGZhbHNlKSB7XG5cdFx0cmV0dXJuIHJldDtcblx0fVxuXG5cdHJldHVybiAob3B0aW9ucy5zb3J0ID09PSB0cnVlID8gT2JqZWN0LmtleXMocmV0KS5zb3J0KCkgOiBPYmplY3Qua2V5cyhyZXQpLnNvcnQob3B0aW9ucy5zb3J0KSkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuXHRcdGNvbnN0IHZhbHVlID0gcmV0W2tleV07XG5cdFx0aWYgKEJvb2xlYW4odmFsdWUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHQvLyBTb3J0IG9iamVjdCBrZXlzLCBub3QgdmFsdWVzXG5cdFx0XHRyZXN1bHRba2V5XSA9IGtleXNTb3J0ZXIodmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHRba2V5XSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xufVxuXG5leHBvcnRzLmV4dHJhY3QgPSBleHRyYWN0O1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuXG5leHBvcnRzLnN0cmluZ2lmeSA9IChvYmplY3QsIG9wdGlvbnMpID0+IHtcblx0aWYgKCFvYmplY3QpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZW5jb2RlOiB0cnVlLFxuXHRcdHN0cmljdDogdHJ1ZSxcblx0XHRhcnJheUZvcm1hdDogJ25vbmUnLFxuXHRcdGFycmF5Rm9ybWF0U2VwYXJhdG9yOiAnLCdcblx0fSwgb3B0aW9ucyk7XG5cblx0dmFsaWRhdGVBcnJheUZvcm1hdFNlcGFyYXRvcihvcHRpb25zLmFycmF5Rm9ybWF0U2VwYXJhdG9yKTtcblxuXHRjb25zdCBzaG91bGRGaWx0ZXIgPSBrZXkgPT4gKFxuXHRcdChvcHRpb25zLnNraXBOdWxsICYmIGlzTnVsbE9yVW5kZWZpbmVkKG9iamVjdFtrZXldKSkgfHxcblx0XHQob3B0aW9ucy5za2lwRW1wdHlTdHJpbmcgJiYgb2JqZWN0W2tleV0gPT09ICcnKVxuXHQpO1xuXG5cdGNvbnN0IGZvcm1hdHRlciA9IGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKTtcblxuXHRjb25zdCBvYmplY3RDb3B5ID0ge307XG5cblx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob2JqZWN0KSkge1xuXHRcdGlmICghc2hvdWxkRmlsdGVyKGtleSkpIHtcblx0XHRcdG9iamVjdENvcHlba2V5XSA9IG9iamVjdFtrZXldO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3RDb3B5KTtcblxuXHRpZiAob3B0aW9ucy5zb3J0ICE9PSBmYWxzZSkge1xuXHRcdGtleXMuc29ydChvcHRpb25zLnNvcnQpO1xuXHR9XG5cblx0cmV0dXJuIGtleXMubWFwKGtleSA9PiB7XG5cdFx0Y29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRpZiAodmFsdWUubGVuZ3RoID09PSAwICYmIG9wdGlvbnMuYXJyYXlGb3JtYXQgPT09ICdicmFja2V0LXNlcGFyYXRvcicpIHtcblx0XHRcdFx0cmV0dXJuIGVuY29kZShrZXksIG9wdGlvbnMpICsgJ1tdJztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlXG5cdFx0XHRcdC5yZWR1Y2UoZm9ybWF0dGVyKGtleSksIFtdKVxuXHRcdFx0XHQuam9pbignJicpO1xuXHRcdH1cblxuXHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRpb25zKSArICc9JyArIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyk7XG5cdH0pLmZpbHRlcih4ID0+IHgubGVuZ3RoID4gMCkuam9pbignJicpO1xufTtcblxuZXhwb3J0cy5wYXJzZVVybCA9ICh1cmwsIG9wdGlvbnMpID0+IHtcblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGRlY29kZTogdHJ1ZVxuXHR9LCBvcHRpb25zKTtcblxuXHRjb25zdCBbdXJsXywgaGFzaF0gPSBzcGxpdE9uRmlyc3QodXJsLCAnIycpO1xuXG5cdHJldHVybiBPYmplY3QuYXNzaWduKFxuXHRcdHtcblx0XHRcdHVybDogdXJsXy5zcGxpdCgnPycpWzBdIHx8ICcnLFxuXHRcdFx0cXVlcnk6IHBhcnNlKGV4dHJhY3QodXJsKSwgb3B0aW9ucylcblx0XHR9LFxuXHRcdG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJzZUZyYWdtZW50SWRlbnRpZmllciAmJiBoYXNoID8ge2ZyYWdtZW50SWRlbnRpZmllcjogZGVjb2RlKGhhc2gsIG9wdGlvbnMpfSA6IHt9XG5cdCk7XG59O1xuXG5leHBvcnRzLnN0cmluZ2lmeVVybCA9IChvYmplY3QsIG9wdGlvbnMpID0+IHtcblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGVuY29kZTogdHJ1ZSxcblx0XHRzdHJpY3Q6IHRydWUsXG5cdFx0W2VuY29kZUZyYWdtZW50SWRlbnRpZmllcl06IHRydWVcblx0fSwgb3B0aW9ucyk7XG5cblx0Y29uc3QgdXJsID0gcmVtb3ZlSGFzaChvYmplY3QudXJsKS5zcGxpdCgnPycpWzBdIHx8ICcnO1xuXHRjb25zdCBxdWVyeUZyb21VcmwgPSBleHBvcnRzLmV4dHJhY3Qob2JqZWN0LnVybCk7XG5cdGNvbnN0IHBhcnNlZFF1ZXJ5RnJvbVVybCA9IGV4cG9ydHMucGFyc2UocXVlcnlGcm9tVXJsLCB7c29ydDogZmFsc2V9KTtcblxuXHRjb25zdCBxdWVyeSA9IE9iamVjdC5hc3NpZ24ocGFyc2VkUXVlcnlGcm9tVXJsLCBvYmplY3QucXVlcnkpO1xuXHRsZXQgcXVlcnlTdHJpbmcgPSBleHBvcnRzLnN0cmluZ2lmeShxdWVyeSwgb3B0aW9ucyk7XG5cdGlmIChxdWVyeVN0cmluZykge1xuXHRcdHF1ZXJ5U3RyaW5nID0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG5cdH1cblxuXHRsZXQgaGFzaCA9IGdldEhhc2gob2JqZWN0LnVybCk7XG5cdGlmIChvYmplY3QuZnJhZ21lbnRJZGVudGlmaWVyKSB7XG5cdFx0aGFzaCA9IGAjJHtvcHRpb25zW2VuY29kZUZyYWdtZW50SWRlbnRpZmllcl0gPyBlbmNvZGUob2JqZWN0LmZyYWdtZW50SWRlbnRpZmllciwgb3B0aW9ucykgOiBvYmplY3QuZnJhZ21lbnRJZGVudGlmaWVyfWA7XG5cdH1cblxuXHRyZXR1cm4gYCR7dXJsfSR7cXVlcnlTdHJpbmd9JHtoYXNofWA7XG59O1xuXG5leHBvcnRzLnBpY2sgPSAoaW5wdXQsIGZpbHRlciwgb3B0aW9ucykgPT4ge1xuXHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0cGFyc2VGcmFnbWVudElkZW50aWZpZXI6IHRydWUsXG5cdFx0W2VuY29kZUZyYWdtZW50SWRlbnRpZmllcl06IGZhbHNlXG5cdH0sIG9wdGlvbnMpO1xuXG5cdGNvbnN0IHt1cmwsIHF1ZXJ5LCBmcmFnbWVudElkZW50aWZpZXJ9ID0gZXhwb3J0cy5wYXJzZVVybChpbnB1dCwgb3B0aW9ucyk7XG5cdHJldHVybiBleHBvcnRzLnN0cmluZ2lmeVVybCh7XG5cdFx0dXJsLFxuXHRcdHF1ZXJ5OiBmaWx0ZXJPYmplY3QocXVlcnksIGZpbHRlciksXG5cdFx0ZnJhZ21lbnRJZGVudGlmaWVyXG5cdH0sIG9wdGlvbnMpO1xufTtcblxuZXhwb3J0cy5leGNsdWRlID0gKGlucHV0LCBmaWx0ZXIsIG9wdGlvbnMpID0+IHtcblx0Y29uc3QgZXhjbHVzaW9uRmlsdGVyID0gQXJyYXkuaXNBcnJheShmaWx0ZXIpID8ga2V5ID0+ICFmaWx0ZXIuaW5jbHVkZXMoa2V5KSA6IChrZXksIHZhbHVlKSA9PiAhZmlsdGVyKGtleSwgdmFsdWUpO1xuXG5cdHJldHVybiBleHBvcnRzLnBpY2soaW5wdXQsIGV4Y2x1c2lvbkZpbHRlciwgb3B0aW9ucyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///563\n")},500:module=>{eval("\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAwLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbWluZGVyQXBwbGV0Ly4vbm9kZV9tb2R1bGVzL3NwbGl0LW9uLWZpcnN0L2luZGV4LmpzP2YzMmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChzdHJpbmcsIHNlcGFyYXRvcikgPT4ge1xuXHRpZiAoISh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJyAmJiB0eXBlb2Ygc2VwYXJhdG9yID09PSAnc3RyaW5nJykpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgYXJndW1lbnRzIHRvIGJlIG9mIHR5cGUgYHN0cmluZ2AnKTtcblx0fVxuXG5cdGlmIChzZXBhcmF0b3IgPT09ICcnKSB7XG5cdFx0cmV0dXJuIFtzdHJpbmddO1xuXHR9XG5cblx0Y29uc3Qgc2VwYXJhdG9ySW5kZXggPSBzdHJpbmcuaW5kZXhPZihzZXBhcmF0b3IpO1xuXG5cdGlmIChzZXBhcmF0b3JJbmRleCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gW3N0cmluZ107XG5cdH1cblxuXHRyZXR1cm4gW1xuXHRcdHN0cmluZy5zbGljZSgwLCBzZXBhcmF0b3JJbmRleCksXG5cdFx0c3RyaW5nLnNsaWNlKHNlcGFyYXRvckluZGV4ICsgc2VwYXJhdG9yLmxlbmd0aClcblx0XTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///500\n")},610:module=>{eval("\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEwLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsNkVBQTZFLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JlbWluZGVyQXBwbGV0Ly4vbm9kZV9tb2R1bGVzL3N0cmljdC11cmktZW5jb2RlL2luZGV4LmpzPzY0NTMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBzdHIgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCB4ID0+IGAlJHt4LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///610\n")},212:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"main\": () => (/* binding */ main)\n});\n\n;// CONCATENATED MODULE: ./src/Applet.ts\nconst { IconApplet } = imports.ui.applet;\nclass ReminderApplet extends IconApplet {\n    constructor(orientation, panel_height, instance_id) {\n        super(orientation, panel_height, instance_id);\n        this.set_applet_icon_name(\"view-calendar\");\n    }\n}\n\n// EXTERNAL MODULE: ./node_modules/query-string/index.js\nvar query_string = __webpack_require__(563);\n;// CONCATENATED MODULE: ./src/Office365Events.ts\n\nconst { Message, MemoryUse, SessionAsync } = imports.gi.Soup;\n// TODO: replace (with new ones as these can interact with onedrive)\nconst CLIENT_ID = \"877b72ef-232d-424d-87c7-5b6636497a98\";\nconst CLIENT_SECRET = \"SM1=3hvquy[Bj7dvNeJB/qDzAoah?6:5\";\nconst { get_home_dir } = imports.gi.GLib;\nconst CONFIG_DIR = `${get_home_dir()}/.cinnamon/configs/${__meta.uuid}`;\nconst { new_for_path } = imports.gi.Gio.File;\nconst ByteArray = imports.byteArray;\nlet refreshToken;\nlet accessToken;\nconst httpSession = new SessionAsync();\nasync function getTodayEvents() {\n    let calendarData;\n    try {\n        !refreshToken && await loadRefreshTokenFromSettings();\n        !accessToken && await refreshTokens();\n        calendarData = await loadCalendarData();\n    }\n    catch (error) {\n        global.logError(\"couldn't get soon occuring events\", error);\n    }\n    return calendarData;\n}\nasync function refreshTokens() {\n    const url = 'https://login.microsoftonline.com/common/oauth2/v2.0/token';\n    try {\n        const response = await loadJsonAsync({\n            method: 'POST',\n            url,\n            bodyParams: {\n                client_id: CLIENT_ID,\n                client_secret: CLIENT_SECRET,\n                grant_type: \"refresh_token\",\n                refresh_token: refreshToken\n            },\n            headers: {\n                \"Content-Type\": 'application/x-www-form-urlencoded'\n            }\n        });\n        accessToken = response.access_token;\n        // TODO: save RefreshToken to file as only valid for 90 days\n        refreshToken = response.refresh_token;\n    }\n    catch (error) {\n        global.logError(`couldn't refresh Token, error: ${JSON.stringify(error)}`);\n    }\n}\nasync function loadRefreshTokenFromSettings() {\n    const SETTINGS_PATH = CONFIG_DIR + '/settings.json';\n    let settings;\n    try {\n        const settingsFile = new_for_path(SETTINGS_PATH);\n        const [success, contents] = settingsFile.load_contents(null);\n        settings = JSON.parse(contents);\n    }\n    catch (error) {\n        throw new Error(`couldn't load settings file`);\n    }\n    refreshToken = settings.refresh_token;\n    if (!refreshToken)\n        throw new Error('refresh Token is undefined');\n}\nfunction checkForHttpError(message) {\n    var _a;\n    const code = (message === null || message === void 0 ? void 0 : message.status_code) | 0;\n    const reason_phrase = (message === null || message === void 0 ? void 0 : message.reason_phrase) || 'no network response';\n    let errMessage;\n    if (code < 100) {\n        errMessage = \"no network response\";\n    }\n    else if (code < 200 || code > 300) {\n        errMessage = \"bad status code\";\n    }\n    else if (!((_a = message.response_body) === null || _a === void 0 ? void 0 : _a.data)) {\n        errMessage = 'no response body';\n    }\n    return errMessage ? {\n        code,\n        reason_phrase,\n        message: errMessage\n    } : false;\n}\nfunction loadJsonAsync(args) {\n    const { url, method = 'GET', bodyParams, queryParams, headers } = args;\n    const query = queryParams ? `${url}?${(0,query_string.stringify)(queryParams)}` : url;\n    const message = Message.new(method, query);\n    Object.entries(headers).forEach(([key, value]) => {\n        message.request_headers.append(key, value);\n    });\n    if (bodyParams) {\n        const bodyParamsStringified = (0,query_string.stringify)(bodyParams);\n        message.request_body.append(ByteArray.fromString(bodyParamsStringified, 'UTF-16'));\n    }\n    return new Promise((resolve, reject) => {\n        httpSession.queue_message(message, (session, message) => {\n            const error = checkForHttpError(message);\n            if (error) {\n                reject(error);\n                return;\n            }\n            const data = JSON.parse(message.response_body.data);\n            resolve(data);\n        });\n    });\n}\nasync function loadCalendarData() {\n    // TODO only for 15 mins\n    const nowMillisecs = Date.now();\n    const nextWeekMillisecs = nowMillisecs + 604800000;\n    return new Promise(async (resolve, reject) => {\n        try {\n            const response = await loadJsonAsync({\n                url: 'https://graph.microsoft.com/v1.0/me/calendarview',\n                headers: {\n                    \"Content-Type\": 'application/json',\n                    Authorization: `Bearer ${accessToken}`\n                },\n                queryParams: {\n                    startdatetime: new Date(nowMillisecs).toISOString(),\n                    endDateTime: new Date(nextWeekMillisecs).toISOString()\n                }\n            });\n            // @ts-ignore\n            const calendar = response.value;\n            resolve(calendar);\n        }\n        catch (error) {\n            global.logError(\"Couldn't get calendar data\", JSON.stringify(error));\n            reject(error);\n        }\n    });\n}\n\n// EXTERNAL MODULE: ./node_modules/cinnamonpopup/index.js\nvar cinnamonpopup = __webpack_require__(447);\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\nconst { BoxLayout, Label } = imports.gi.St;\nfunction main(args) {\n    const { orientation, panelHeight: panel_height, instanceId: instance_id } = args;\n    const reminderApplet = new ReminderApplet(orientation, panel_height, instance_id);\n    reminderApplet.on_applet_clicked = handleAppletClicked;\n    const popupMenu = (0,cinnamonpopup/* createPopupMenu */.S)({ launcher: reminderApplet.actor });\n    let todayEvents;\n    const container = new BoxLayout({\n        style_class: 'popup-menu-item'\n    });\n    popupMenu.add_actor(container);\n    function handleAppletClicked() {\n        popupMenu.toggle();\n    }\n    updateMenu();\n    async function updateMenu() {\n        const todayEvents = await getTodayEvents();\n        popupMenu.remove_all_children();\n        todayEvents.forEach(event => {\n            const menuItem = createSimpleItem(event.subject);\n            popupMenu.add_child(menuItem);\n        });\n    }\n    function createSimpleItem(text) {\n        const popupMenuItem = new BoxLayout({\n            style_class: 'popup-menu-item',\n        });\n        const label = new Label({\n            text\n        });\n        popupMenuItem.add_child(label);\n        return popupMenuItem;\n    }\n    return reminderApplet;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7SUFFRixTQUFTLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztJQUU5QixTQUFTLG1CQUFtQjtRQUV4QixTQUFTLENBQUMsTUFBTSxFQUFFO0lBRXRCLENBQUM7SUFFRCxVQUFVLEVBQUU7SUFHWixLQUFLLFVBQVUsVUFBVTtRQUNyQixNQUFNLFdBQVcsR0FBRyxNQUFNLGNBQWMsRUFBRTtRQUUxQyxTQUFTLENBQUMsbUJBQW1CLEVBQUU7UUFFL0IsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN4QixNQUFNLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO1lBQ2hELFNBQVMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO1FBQ2pDLENBQUMsQ0FBQztJQUVOLENBQUM7SUFFRCxTQUFTLGdCQUFnQixDQUFDLElBQVk7UUFDbEMsTUFBTSxhQUFhLEdBQUcsSUFBSSxTQUFTLENBQUM7WUFDaEMsV0FBVyxFQUFFLGlCQUFpQjtTQUNqQyxDQUFDO1FBRUYsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUM7WUFDcEIsSUFBSTtTQUNQLENBQUM7UUFFRixhQUFhLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztRQUU5QixPQUFPLGFBQWE7SUFDeEIsQ0FBQztJQUVELE9BQU8sY0FBYztBQUV6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtaW5kZXJBcHBsZXQvLi9zcmMvQXBwbGV0LnRzPzM0NzYiLCJ3ZWJwYWNrOi8vcmVtaW5kZXJBcHBsZXQvLi9zcmMvT2ZmaWNlMzY1RXZlbnRzLnRzP2NhMWYiLCJ3ZWJwYWNrOi8vcmVtaW5kZXJBcHBsZXQvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IEljb25BcHBsZXQgfSA9IGltcG9ydHMudWkuYXBwbGV0XG5cbmV4cG9ydCBjbGFzcyBSZW1pbmRlckFwcGxldCBleHRlbmRzIEljb25BcHBsZXQge1xuXG4gICAgY29uc3RydWN0b3Iob3JpZW50YXRpb246IGltcG9ydHMuZ2kuU3QuU2lkZSwgcGFuZWxfaGVpZ2h0OiBudW1iZXIsIGluc3RhbmNlX2lkOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIob3JpZW50YXRpb24sIHBhbmVsX2hlaWdodCwgaW5zdGFuY2VfaWQpXG4gICAgICAgIHRoaXMuc2V0X2FwcGxldF9pY29uX25hbWUoXCJ2aWV3LWNhbGVuZGFyXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gJ3F1ZXJ5LXN0cmluZydcblxuY29uc3QgeyBNZXNzYWdlLCBNZW1vcnlVc2UsIFNlc3Npb25Bc3luYyB9ID0gaW1wb3J0cy5naS5Tb3VwXG5cbi8vIFRPRE86IHJlcGxhY2UgKHdpdGggbmV3IG9uZXMgYXMgdGhlc2UgY2FuIGludGVyYWN0IHdpdGggb25lZHJpdmUpXG5jb25zdCBDTElFTlRfSUQgPSBcIjg3N2I3MmVmLTIzMmQtNDI0ZC04N2M3LTViNjYzNjQ5N2E5OFwiXG5jb25zdCBDTElFTlRfU0VDUkVUID0gXCJTTTE9M2h2cXV5W0JqN2R2TmVKQi9xRHpBb2FoPzY6NVwiXG5cbmNvbnN0IHsgZ2V0X2hvbWVfZGlyIH0gPSBpbXBvcnRzLmdpLkdMaWI7XG5jb25zdCBDT05GSUdfRElSID0gYCR7Z2V0X2hvbWVfZGlyKCl9Ly5jaW5uYW1vbi9jb25maWdzLyR7X19tZXRhLnV1aWR9YDtcbmNvbnN0IHsgbmV3X2Zvcl9wYXRoIH0gPSBpbXBvcnRzLmdpLkdpby5GaWxlXG5cbmNvbnN0IEJ5dGVBcnJheSA9IGltcG9ydHMuYnl0ZUFycmF5O1xuXG5sZXQgcmVmcmVzaFRva2VuOiBzdHJpbmdcbmxldCBhY2Nlc3NUb2tlbjogc3RyaW5nXG5cbmNvbnN0IGh0dHBTZXNzaW9uID0gbmV3IFNlc3Npb25Bc3luYygpXG5cblxuaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBIdHRwRXJyb3Ige1xuICAgIGNvZGU6IG51bWJlcixcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgcmVhc29uX3BocmFzZTogc3RyaW5nXG59XG5cbi8vIG5vdCBjb21wbGV0ZVxuaW50ZXJmYWNlIEhlYWRlcnMge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAnQXV0aG9yaXphdGlvbic/OiBzdHJpbmdcbn1cblxuLy8gbm90IGNvbXBsZXRlXG5pbnRlcmZhY2UgVG9rZW5SZXNwb25zZSB7XG4gICAgYWNjZXNzX3Rva2VuOiBzdHJpbmcsXG4gICAgcmVmcmVzaF90b2tlbjogc3RyaW5nXG59XG5cbnR5cGUgTWV0aG9kID0gXCJHRVRcIiB8IFwiUE9TVFwiIHwgXCJQVVRcIiB8IFwiREVMRVRFXCI7XG5cbmludGVyZmFjZSBMb2FkSnNvbkFyZ3Mge1xuICAgIHVybDogc3RyaW5nLFxuICAgIG1ldGhvZD86IE1ldGhvZCxcbiAgICBib2R5UGFyYW1zPzogSFRUUFBhcmFtcyxcbiAgICBxdWVyeVBhcmFtcz86IEhUVFBQYXJhbXMsXG4gICAgaGVhZGVyczogSGVhZGVyc1xufVxuXG5pbnRlcmZhY2UgSFRUUFBhcmFtcyB7XG4gICAgW2tleTogc3RyaW5nXTogYm9vbGVhbiB8IHN0cmluZyB8IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIENhbGVuZGFyVGltZSB7XG4gICAgZGF0ZVRpbWU6IHN0cmluZyxcbiAgICB0aW1lWm9uZTogc3RyaW5nXG59XG5cbi8vIG5vdCBjb21wbGV0ZVxuZXhwb3J0IGludGVyZmFjZSBDYWxlbmRhckV2ZW50IHtcbiAgICBpZDogc3RyaW5nLFxuICAgIHN1YmplY3Q6IHN0cmluZyxcbiAgICB3ZWJMaW5rOiBzdHJpbmcsXG4gICAgc3RhcnQ6IENhbGVuZGFyVGltZVxufVxuXG5cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG9kYXlFdmVudHMoKSB7XG5cbiAgICBsZXQgY2FsZW5kYXJEYXRhOiBDYWxlbmRhckV2ZW50W11cblxuICAgIHRyeSB7XG4gICAgICAgICFyZWZyZXNoVG9rZW4gJiYgYXdhaXQgbG9hZFJlZnJlc2hUb2tlbkZyb21TZXR0aW5ncygpXG4gICAgICAgICFhY2Nlc3NUb2tlbiAmJiBhd2FpdCByZWZyZXNoVG9rZW5zKClcbiAgICAgICAgY2FsZW5kYXJEYXRhID0gYXdhaXQgbG9hZENhbGVuZGFyRGF0YSgpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZ2xvYmFsLmxvZ0Vycm9yKFwiY291bGRuJ3QgZ2V0IHNvb24gb2NjdXJpbmcgZXZlbnRzXCIsIGVycm9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsZW5kYXJEYXRhXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbnMoKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS9jb21tb24vb2F1dGgyL3YyLjAvdG9rZW4nXG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvYWRKc29uQXN5bmMoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBib2R5UGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY2xpZW50X2lkOiBDTElFTlRfSUQsXG4gICAgICAgICAgICAgICAgY2xpZW50X3NlY3JldDogQ0xJRU5UX1NFQ1JFVCxcbiAgICAgICAgICAgICAgICBncmFudF90eXBlOiBcInJlZnJlc2hfdG9rZW5cIixcbiAgICAgICAgICAgICAgICByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgYXMgVG9rZW5SZXNwb25zZVxuXG4gICAgICAgIGFjY2Vzc1Rva2VuID0gcmVzcG9uc2UuYWNjZXNzX3Rva2VuXG4gICAgICAgIC8vIFRPRE86IHNhdmUgUmVmcmVzaFRva2VuIHRvIGZpbGUgYXMgb25seSB2YWxpZCBmb3IgOTAgZGF5c1xuICAgICAgICByZWZyZXNoVG9rZW4gPSByZXNwb25zZS5yZWZyZXNoX3Rva2VuXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBnbG9iYWwubG9nRXJyb3IoYGNvdWxkbid0IHJlZnJlc2ggVG9rZW4sIGVycm9yOiAke0pTT04uc3RyaW5naWZ5KGVycm9yKX1gKVxuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZFJlZnJlc2hUb2tlbkZyb21TZXR0aW5ncygpIHtcbiAgICBjb25zdCBTRVRUSU5HU19QQVRIID0gQ09ORklHX0RJUiArICcvc2V0dGluZ3MuanNvbidcbiAgICBsZXQgc2V0dGluZ3M6IFNldHRpbmdzXG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0aW5nc0ZpbGUgPSBuZXdfZm9yX3BhdGgoU0VUVElOR1NfUEFUSClcbiAgICAgICAgY29uc3QgW3N1Y2Nlc3MsIGNvbnRlbnRzXSA9IHNldHRpbmdzRmlsZS5sb2FkX2NvbnRlbnRzKG51bGwpXG4gICAgICAgIHNldHRpbmdzID0gSlNPTi5wYXJzZShjb250ZW50cylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNvdWxkbid0IGxvYWQgc2V0dGluZ3MgZmlsZWApXG4gICAgfVxuXG4gICAgcmVmcmVzaFRva2VuID0gc2V0dGluZ3MucmVmcmVzaF90b2tlblxuXG4gICAgaWYgKCFyZWZyZXNoVG9rZW4pIHRocm93IG5ldyBFcnJvcigncmVmcmVzaCBUb2tlbiBpcyB1bmRlZmluZWQnKVxufVxuXG5mdW5jdGlvbiBjaGVja0Zvckh0dHBFcnJvcihtZXNzYWdlOiBpbXBvcnRzLmdpLlNvdXAuTWVzc2FnZSk6IEh0dHBFcnJvciB8IGZhbHNlIHtcblxuICAgIGNvbnN0IGNvZGUgPSBtZXNzYWdlPy5zdGF0dXNfY29kZSB8IDBcbiAgICBjb25zdCByZWFzb25fcGhyYXNlID0gbWVzc2FnZT8ucmVhc29uX3BocmFzZSB8fCAnbm8gbmV0d29yayByZXNwb25zZSdcblxuICAgIGxldCBlcnJNZXNzYWdlOiBzdHJpbmdcblxuICAgIGlmIChjb2RlIDwgMTAwKSB7XG4gICAgICAgIGVyck1lc3NhZ2UgPSBcIm5vIG5ldHdvcmsgcmVzcG9uc2VcIlxuICAgIH1cblxuICAgIGVsc2UgaWYgKGNvZGUgPCAyMDAgfHwgY29kZSA+IDMwMCkge1xuICAgICAgICBlcnJNZXNzYWdlID0gXCJiYWQgc3RhdHVzIGNvZGVcIlxuICAgIH1cblxuICAgIGVsc2UgaWYgKCFtZXNzYWdlLnJlc3BvbnNlX2JvZHk/LmRhdGEpIHtcbiAgICAgICAgZXJyTWVzc2FnZSA9ICdubyByZXNwb25zZSBib2R5J1xuICAgIH1cblxuICAgIHJldHVybiBlcnJNZXNzYWdlID8ge1xuICAgICAgICBjb2RlLFxuICAgICAgICByZWFzb25fcGhyYXNlLFxuICAgICAgICBtZXNzYWdlOiBlcnJNZXNzYWdlXG4gICAgfSA6IGZhbHNlXG5cbn1cblxuZnVuY3Rpb24gbG9hZEpzb25Bc3luYyhhcmdzOiBMb2FkSnNvbkFyZ3MpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdXJsLFxuICAgICAgICBtZXRob2QgPSAnR0VUJyxcbiAgICAgICAgYm9keVBhcmFtcyxcbiAgICAgICAgcXVlcnlQYXJhbXMsXG4gICAgICAgIGhlYWRlcnNcbiAgICB9ID0gYXJnc1xuXG4gICAgY29uc3QgcXVlcnkgPSBxdWVyeVBhcmFtcyA/IGAke3VybH0/JHtzdHJpbmdpZnkocXVlcnlQYXJhbXMpfWAgOiB1cmxcbiAgICBjb25zdCBtZXNzYWdlID0gTWVzc2FnZS5uZXcobWV0aG9kLCBxdWVyeSlcblxuICAgIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBtZXNzYWdlLnJlcXVlc3RfaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuXG4gICAgaWYgKGJvZHlQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgYm9keVBhcmFtc1N0cmluZ2lmaWVkID0gc3RyaW5naWZ5KGJvZHlQYXJhbXMpXG4gICAgICAgIG1lc3NhZ2UucmVxdWVzdF9ib2R5LmFwcGVuZChCeXRlQXJyYXkuZnJvbVN0cmluZyhib2R5UGFyYW1zU3RyaW5naWZpZWQsICdVVEYtMTYnKSlcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBodHRwU2Vzc2lvbi5xdWV1ZV9tZXNzYWdlKG1lc3NhZ2UsIChzZXNzaW9uLCBtZXNzYWdlKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gY2hlY2tGb3JIdHRwRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UucmVzcG9uc2VfYm9keS5kYXRhKVxuICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICB9KVxuICAgIH0pXG5cblxufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkQ2FsZW5kYXJEYXRhKCk6IFByb21pc2U8Q2FsZW5kYXJFdmVudFtdPiB7XG5cbiAgICAvLyBUT0RPIG9ubHkgZm9yIDE1IG1pbnNcbiAgICBjb25zdCBub3dNaWxsaXNlY3MgPSBEYXRlLm5vdygpXG4gICAgY29uc3QgbmV4dFdlZWtNaWxsaXNlY3MgPSBub3dNaWxsaXNlY3MgKyA2MDRfODAwXzAwMFxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9hZEpzb25Bc3luYyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9ncmFwaC5taWNyb3NvZnQuY29tL3YxLjAvbWUvY2FsZW5kYXJ2aWV3JyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ZGF0ZXRpbWU6IG5ldyBEYXRlKG5vd01pbGxpc2VjcykudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IG5ldyBEYXRlKG5leHRXZWVrTWlsbGlzZWNzKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgY2FsZW5kYXIgPSByZXNwb25zZS52YWx1ZSBhcyBDYWxlbmRhckV2ZW50W11cbiAgICAgICAgICAgIHJlc29sdmUoY2FsZW5kYXIpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBnbG9iYWwubG9nRXJyb3IoXCJDb3VsZG4ndCBnZXQgY2FsZW5kYXIgZGF0YVwiLCBKU09OLnN0cmluZ2lmeShlcnJvcikpXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgIH1cbiAgICB9KVxuXG5cblxufSIsImltcG9ydCB7IFJlbWluZGVyQXBwbGV0IH0gZnJvbSBcIi4vQXBwbGV0XCI7XG5pbXBvcnQgeyBDYWxlbmRhckV2ZW50LCBnZXRUb2RheUV2ZW50cyB9IGZyb20gXCIuL09mZmljZTM2NUV2ZW50c1wiO1xuaW1wb3J0IHsgY3JlYXRlUG9wdXBNZW51IH0gZnJvbSAnY2lubmFtb25wb3B1cCdcbmNvbnN0IHsgQm94TGF5b3V0LCBMYWJlbCB9ID0gaW1wb3J0cy5naS5TdFxuXG5cbmludGVyZmFjZSBBcmd1bWVudHMge1xuICAgIG9yaWVudGF0aW9uOiBpbXBvcnRzLmdpLlN0LlNpZGUsXG4gICAgcGFuZWxIZWlnaHQ6IG51bWJlcixcbiAgICBpbnN0YW5jZUlkOiBudW1iZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oYXJnczogQXJndW1lbnRzKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICBwYW5lbEhlaWdodDogcGFuZWxfaGVpZ2h0LFxuICAgICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZV9pZFxuICAgIH0gPSBhcmdzXG5cbiAgICBjb25zdCByZW1pbmRlckFwcGxldCA9IG5ldyBSZW1pbmRlckFwcGxldChvcmllbnRhdGlvbiwgcGFuZWxfaGVpZ2h0LCBpbnN0YW5jZV9pZClcblxuICAgIHJlbWluZGVyQXBwbGV0Lm9uX2FwcGxldF9jbGlja2VkID0gaGFuZGxlQXBwbGV0Q2xpY2tlZFxuXG4gICAgY29uc3QgcG9wdXBNZW51ID0gY3JlYXRlUG9wdXBNZW51KHsgbGF1bmNoZXI6IHJlbWluZGVyQXBwbGV0LmFjdG9yIH0pXG5cblxuICAgIGxldCB0b2RheUV2ZW50czogQ2FsZW5kYXJFdmVudFtdXG5cblxuXG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IEJveExheW91dCh7XG4gICAgICAgIHN0eWxlX2NsYXNzOiAncG9wdXAtbWVudS1pdGVtJ1xuICAgIH0pXG5cbiAgICBwb3B1cE1lbnUuYWRkX2FjdG9yKGNvbnRhaW5lcilcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUFwcGxldENsaWNrZWQoKSB7XG5cbiAgICAgICAgcG9wdXBNZW51LnRvZ2dsZSgpXG5cbiAgICB9XG5cbiAgICB1cGRhdGVNZW51KClcblxuXG4gICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVudSgpIHtcbiAgICAgICAgY29uc3QgdG9kYXlFdmVudHMgPSBhd2FpdCBnZXRUb2RheUV2ZW50cygpXG5cbiAgICAgICAgcG9wdXBNZW51LnJlbW92ZV9hbGxfY2hpbGRyZW4oKVxuXG4gICAgICAgIHRvZGF5RXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVudUl0ZW0gPSBjcmVhdGVTaW1wbGVJdGVtKGV2ZW50LnN1YmplY3QpXG4gICAgICAgICAgICBwb3B1cE1lbnUuYWRkX2NoaWxkKG1lbnVJdGVtKVxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2ltcGxlSXRlbSh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcG9wdXBNZW51SXRlbSA9IG5ldyBCb3hMYXlvdXQoe1xuICAgICAgICAgICAgc3R5bGVfY2xhc3M6ICdwb3B1cC1tZW51LWl0ZW0nLFxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gbmV3IExhYmVsKHtcbiAgICAgICAgICAgIHRleHRcbiAgICAgICAgfSlcblxuICAgICAgICBwb3B1cE1lbnVJdGVtLmFkZF9jaGlsZChsYWJlbClcblxuICAgICAgICByZXR1cm4gcG9wdXBNZW51SXRlbVxuICAgIH1cblxuICAgIHJldHVybiByZW1pbmRlckFwcGxldFxuXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///212\n")}},__webpack_module_cache__={};function __webpack_require__(t){var n=__webpack_module_cache__[t];if(void 0!==n)return n.exports;var c=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](c,c.exports,__webpack_require__),c.exports}__webpack_require__.d=(t,n)=>{for(var c in n)__webpack_require__.o(n,c)&&!__webpack_require__.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:n[c]})},__webpack_require__.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(212);reminderApplet=__webpack_exports__})();